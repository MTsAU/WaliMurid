<!-- Branch: main --><!-- Revision: f99c75c876043b88a5f15816a2f7fda8d7b13969 --><!-- Created at: 18 of November 2024 14:55:58 GMT+00:00 --><!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,viewport-fit=auto"><meta name="description" content="View Master Template"><title>View Master Template</title><style>:where(:not(:-webkit-any(html,iframe,canvas,img,svg,video,audio,svg *,symbol *))){all:unset;display:revert}:where(:not(:-moz-any(html,iframe,canvas,img,svg,video,audio,svg *,symbol *))){all:unset;display:revert}:where(:not(:is(html,iframe,canvas,img,svg,video,audio,svg *,symbol *))){all:unset;display:revert}button{background:0 0;border:none}*,:before,:after{box-sizing:border-box}a,button{cursor:revert}ol,ul,menu{list-style:none}img{max-width:100%;max-height:100%}table{border-collapse:collapse}input,textarea{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}textarea{white-space:revert}meter{-webkit-appearance:revert;-moz-appearance:revert;appearance:revert}pre{all:revert}::placeholder{color:unset}::marker{content:""}:where([hidden]){display:none}:where([contenteditable]:not([contenteditable=false])){-moz-user-modify:read-write;-webkit-user-modify:read-write;overflow-wrap:break-word;-webkit-line-break:after-white-space;-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}:where([draggable=true]){-webkit-user-drag:element}body{background-color:#000;margin:0;padding:0}button{padding:0}#dynamic{height:100vh;overflow:hidden}</style><style>.NQnIja_countdown{text-align:center;color:#fff;background:rgba(51,51,51,.5);border-radius:50%;min-width:35px;min-height:35px;margin:-10px;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;font-weight:400;line-height:35px;display:block}.NQnIja_countdown:before,.NQnIja_countdown:after{content:"";line-height:0;display:inline-flex}.mqB7Ka_closeIcon{background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22525.4%22%20height%3D%22525.5%22%3E%3Cpath%20fill%3D%22%23fff%22%20stroke%3D%22%23000%22%20stroke-width%3D%2226%22%20stroke-miterlimit%3D%2210%22%20d%3D%22M452.6%208.9%20262.9%20198.6%2073.1%208.9%209%2073l189.8%20189.7L9%20452l64.1%2064.1%20189.8-189.3%20189.7%20189.3%2064.1-64.1-189.8-189.3L516.7%2073z%22%2F%3E%3C%2Fsvg%3E);background-position:50%;background-repeat:no-repeat;background-size:100%;width:18px;height:18px}.mqB7Ka_skipIcon{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2294.7%22%20height%3D%2294.9%22%3E%3Cg%20fill%3D%22%23FFF%22%20stroke%3D%22%23000%22%20stroke-width%3D%223.417%22%20stroke-miterlimit%3D%2210%22%3E%3Cpath%20d%3D%22m37%2075.5%2022.4-22.4H1.9V41.7h57.5L37%2019.3l8.1-8.1%2036.2%2036.2-36.2%2036.2z%22%2F%3E%3Cpath%20d%3D%22M92.733%2011.138v72.4h-11.5v-72.4z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E) 50%/100% no-repeat;width:18px;height:18px}.LJWyoG_nextButton{color:#fff;text-align:center;z-index:2147483448;justify-content:center;align-items:center;margin:20px 20px 0 0;padding:0;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;line-height:0;display:flex;position:absolute;top:0;right:0}.oAV7cW_endcardIframe{border:0;width:100%;height:100%;position:absolute;top:0;left:0}.oAV7cW_endcard{text-align:center;background-color:#000;width:100vw;height:100vh}._7pzQ5q_overlayCta{content:"";z-index:2147483347;background:0 0;width:100%;height:100%;position:fixed;top:0;bottom:0;left:0;right:0}._7pzQ5q_hidden{display:none}.poFP6W_overlay{z-index:2147483448;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);background:linear-gradient(rgba(0,15,35,.59) 0%,rgba(0,15,35,.8) 45%,rgba(0,15,35,.8) 100%);width:100%;height:100%;position:fixed;top:0;left:0}.poFP6W_opaque{background:#000}.poFP6W_lastChanceEndCard{flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;display:flex;position:absolute;top:0;left:0}.poFP6W_backgroundNone{background:0 0}.poFP6W_name{color:#fff;text-align:center;z-index:2147483447;margin:11px 40px 22px;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:20px;font-weight:700}.poFP6W_icon{z-index:2147483447;border-radius:10px;width:80px;height:80px;display:block}.poFP6W_button{color:#fff;letter-spacing:.9px;z-index:2147483447;background-color:#007aff;border:none;border-radius:50px;padding:7px 18px;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:700;position:relative}.poFP6W_button:focus{outline:none}.poFP6W_button:before,.poFP6W_button:after{content:"";z-index:-1000;background-repeat:no-repeat;width:140%;height:100%;transition:all .5s ease-out;display:block;position:absolute;left:-20%}.poFP6W_button:before{background-image:radial-gradient(circle,#007aff 20%,transparent 20%),radial-gradient(circle,transparent 20%,#007aff 20%,transparent 30%),radial-gradient(circle,#007aff 20%,transparent 20%),radial-gradient(circle,#007aff 20%,transparent 20%),radial-gradient(circle,transparent 10%,#007aff 15%,transparent 20%),radial-gradient(circle,#007aff 20%,transparent 20%),radial-gradient(circle,#007aff 20%,transparent 20%),radial-gradient(circle,#007aff 20%,transparent 20%),radial-gradient(circle,#007aff 20%,transparent 20%);background-size:10% 10%,20% 20%,15% 15%,20% 20%,18% 18%,10% 10%,15% 15%,10% 10%,18% 18%;display:none;top:-75%}.poFP6W_button:after{background-image:radial-gradient(circle,#007aff 20%,transparent 20%),radial-gradient(circle,#007aff 20%,transparent 20%),radial-gradient(circle,transparent 10%,#007aff 15%,transparent 20%),radial-gradient(circle,#007aff 20%,transparent 20%),radial-gradient(circle,#007aff 20%,transparent 20%),radial-gradient(circle,#007aff 20%,transparent 20%),radial-gradient(circle,#007aff 20%,transparent 20%);background-size:15% 15%,20% 20%,18% 18%,20% 20%,15% 15%,10% 10%,20% 20%;display:none;bottom:-75%}.poFP6W_button.poFP6W_animate:before{animation:2s infinite forwards poFP6W_topBubbles;display:block}.poFP6W_button.poFP6W_animate:after{animation:2.3s infinite forwards poFP6W_bottomBubbles;display:block}@keyframes poFP6W_topBubbles{0%{background-position:5% 90%,10% 90%,10% 90%,15% 90%,25% 90%,25% 90%,40% 90%,55% 90%,70% 90%}50%{background-position:0 80%,0 20%,10% 40%,20% 0,30% 30%,22%,50%,65% 20%,90% 30%}to{background-position:0 70%,0 10%,10% 30%,20% -10%,30% 20%,22% 40%,50% 40%,65% 10%,90% 20%;background-size:0 0,0 0,0 0,0 0,0 0,0 0}}@keyframes poFP6W_bottomBubbles{0%{background-position:10% -10%,30% 10%,55% -10%,70% -10%,85% -10%,70% -10%,70% 0}50%{background-position:0 80%,20% 80%,45% 60%,60% 100%,75% 70%,95% 60%,105% 0}to{background-position:0 90%,20% 90%,45% 70%,60% 110%,75% 80%,95% 70%,110% 10%;background-size:0 0,0 0,0 0,0 0,0 0,0 0}}.wnLcbW_fallback{text-align:right;background:rgba(0,0,0,.8);width:100vw;height:100vh;padding:20px;position:absolute;top:0;left:0}.wnLcbW_closeIcon{background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22525.4%22%20height%3D%22525.5%22%3E%3Cpath%20fill%3D%22%23fff%22%20stroke%3D%22%23000%22%20stroke-width%3D%2226%22%20stroke-miterlimit%3D%2210%22%20d%3D%22M452.6%208.9%20262.9%20198.6%2073.1%208.9%209%2073l189.8%20189.7L9%20452l64.1%2064.1%20189.8-189.3%20189.7%20189.3%2064.1-64.1-189.8-189.3L516.7%2073z%22%2F%3E%3C%2Fsvg%3E);background-position:50%;background-repeat:no-repeat;background-size:100%;width:18px;height:18px}.C4yOdG_primaryButton,.C4yOdG_gdpr .C4yOdG_buttons button.C4yOdG_primaryButton{color:#fff;background-color:#555fff;padding:0}.C4yOdG_primaryButton button,.C4yOdG_gdpr .C4yOdG_buttons button.C4yOdG_primaryButton button{text-transform:uppercase;color:#fff}@media screen and (orientation:landscape){.C4yOdG_primaryButton,.C4yOdG_gdpr .C4yOdG_buttons button.C4yOdG_primaryButton{flex:1}}.C4yOdG_secondaryButton,.C4yOdG_gdpr .C4yOdG_buttons button.C4yOdG_secondaryButton{color:#555fff;background-color:#fff;padding:0}.C4yOdG_secondaryButton button,.C4yOdG_gdpr .C4yOdG_buttons button.C4yOdG_secondaryButton button{color:#555fff}@media screen and (orientation:landscape){.C4yOdG_secondaryButton,.C4yOdG_gdpr .C4yOdG_buttons button.C4yOdG_secondaryButton{flex:1}}.C4yOdG_gdpr{text-align:center;z-index:2147483647;background-color:#fff;flex-direction:column;justify-content:space-between;width:100%;height:100%;display:flex;position:absolute;top:0;left:0;overflow:hidden}.C4yOdG_gdpr .C4yOdG_icon{color:#fff;background:#007aff url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22100%22%20height%3D%22100%22%3E%3Cpath%20fill%3D%22%23FFF%22%20d%3D%22M46.2%201.238v12.1c-17.7%201-31.9%2015.2-32.9%2032.9H1.2v4h12.1c1%2017.7%2015.2%2031.9%2032.9%2032.9v12.1h4v-12.1c17.7-1%2031.9-15.2%2032.9-32.9h12.1v-4h-12c-1-17.7-15.2-31.9-32.9-32.9v-12.1h-4.1zm0%2016.1v14.1c-7.8.9-14%207.1-14.9%2014.9h-14c1-15.6%2013.4-28%2028.9-29zm4%200c15.5%201%2027.9%2013.4%2028.9%2028.9h-14c-.9-7.8-7.1-14-14.9-14.9v-14zm-9.3%2023.6c10.8-8.1%2022.8%203.9%2014.7%2014.7-10.8%208.1-22.8-3.9-14.7-14.7zm-23.6%209.3h14.1c.9%207.8%207.1%2014%2014.9%2014.9v14.1c-15.6-1-28-13.4-29-29zm47.8%200h14.1c-1%2015.5-13.4%2028-28.9%2028.9v-14.1c7.7-.8%2013.9-7%2014.8-14.8z%22%2F%3E%3C%2Fsvg%3E) 50%/85% no-repeat;border-radius:50%;width:17vw;max-width:6em;height:17vw;max-height:6em;padding:.5em;display:inline-block}.C4yOdG_gdpr .C4yOdG_content{flex-direction:column;flex:1;justify-content:center;display:flex}.C4yOdG_gdpr .C4yOdG_header{padding:0;line-height:1}.C4yOdG_gdpr .C4yOdG_title{word-wrap:break-word;margin:.5em 12.5%;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:5.5vw;font-weight:600;line-height:1.5}.C4yOdG_gdpr .C4yOdG_bodyText{text-align:center;word-wrap:break-word;padding:0 12.5%;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:4.5vw;font-weight:400;line-height:1.5;overflow:hidden}.C4yOdG_gdpr .C4yOdG_buttons{width:100%;height:15vw;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;line-height:15vw}.C4yOdG_gdpr .C4yOdG_buttons button{float:right;width:50%;height:100%;display:block}.C4yOdG_gdpr .C4yOdG_buttons button.C4yOdG_primaryButton{font-size:7.5vw}.C4yOdG_gdpr .C4yOdG_buttons button.C4yOdG_secondaryButton{color:#007aff;border-top:1px solid #e8e8e8;font-size:4.5vw}@media screen and (orientation:landscape){.C4yOdG_gdpr{flex-direction:row}.C4yOdG_gdpr .C4yOdG_content{width:75%}.C4yOdG_gdpr .C4yOdG_content .C4yOdG_title{font-size:5vh}.C4yOdG_gdpr .C4yOdG_content .C4yOdG_bodyText{font-size:4vh}.C4yOdG_gdpr .C4yOdG_buttons{flex-direction:column;justify-content:center;width:25%;min-width:116px;height:100%;padding-right:4.5vh;display:flex;right:0}.C4yOdG_gdpr .C4yOdG_buttons button{float:none;width:100%;height:auto;line-height:12vh}.C4yOdG_gdpr .C4yOdG_buttons button.C4yOdG_primaryButton{border-radius:10vh;margin-bottom:2vh;font-size:3.5vh}.C4yOdG_gdpr .C4yOdG_buttons button.C4yOdG_secondaryButton{border-top:none;font-size:2.5vh}}.J2DrKG_staticImageEndcard{justify-content:center;align-items:center;width:100vw;height:100vh;display:flex}.J2DrKG_staticImageEndcard img{max-height:100%;margin:0 auto}.S2LOeW_icon{font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif}.S2LOeW_muted{z-index:2147483447;padding:10px 30px 30px 10px;position:absolute;top:0;left:0}.S2LOeW_muted span{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='500px' height='500px' %3E%3Ccircle opacity='0.8' cx='249.9' cy='249.9' r='247'/%3E%3Cpath fill='%23fff' d='M418.9 195.8c-3.2-3.2-8.2-3.2-11.4 0l-45.6 45.6-45.6-45.6c-3.2-3.2-8.2-3.2-11.4 0-3.2 3.2-3.2 8.2 0 11.4l45.6 45.6-45.6 45.6c-3.2 3.2-3.2 8.2 0 11.4 1.8 1.8 4.1 2.3 5.9 2.3s4.1-.9 5.9-2.3l45.6-45.6 45.6 45.6c1.8 1.8 4.1 2.3 5.9 2.3s4.1-.9 5.9-2.3c3.2-3.2 3.2-8.2 0-11.4l-45.6-45.6 45.6-45.6c2.9-2.3 2.9-8.2-.8-11.4zM268.2 89.2c-2.3-1.7-6.8-.9-9.1.9l-106.7 79.5H95.2c-5 0-8.2 2.9-8.2 7.6v144c0 4.6 3.2 7.6 8.2 7.6h57.2l106.7 80c1.8.9 3.2 1.7 5 1.7.9 0 2.3 0 3.2-.9 2.3-1.7 5-3.8 5-6.8V95.5c.9-1.7-.9-4.6-4.1-6.3zM148.2 314h-44.8V186.1h44.8V314zm108.5 72.9l-92.1-69v-136l91.7-69v274h.4z'/%3E%3Cpath display='none' d='M268.5 89c-2.3-1.7-6.8-.9-9.2.9l-107 79.9H94.9c-5 0-8.2 3-8.2 7.7V322c0 4.6 3.2 7.7 8.2 7.7h57.4L259.4 410c1.8.9 3.2 1.7 5 1.7.9 0 2.3 0 3.2-.9 2.3-1.7 5-3.8 5-6.8V95.3c1-1.7-.8-4.6-4.1-6.3zM148.2 314.6h-44.9V186.2h44.9v128.4zm108.9 73.1l-92.4-69.3V182l92-69.2v274.9h.4zm149-127.2h-90.5c-4.2 0-7.7-3.5-7.7-7.9s3.4-7.9 7.7-7.9h90.5c4.2 0 7.7 3.5 7.7 7.9s-3.4 7.9-7.7 7.9zm.9-94.6l-88.6 37.6c-3.9 1.6-8.4-.3-10-4.3-1.6-4 .3-8.6 4.1-10.2l88.6-37.6c3.9-1.6 8.4.3 10 4.3 1.6 3.9-.2 8.6-4.1 10.2zm4.7 182.9c-1.6 4-6.1 5.9-10 4.3l-88.6-37.6c-3.9-1.6-5.8-6.2-4.1-10.2 1.6-4 6.1-5.9 10-4.3l88.6 37.6c3.9 1.6 5.8 6.2 4.1 10.2z'/%3E%3C/svg%3E");background-size:100%;width:22px;height:22px;display:block}.S2LOeW_unmuted{z-index:2147483447;padding:10px 30px 30px 10px;position:absolute;top:0;left:0}.S2LOeW_unmuted span{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='500px' height='500px' %3E%3Ccircle opacity='0.8' cx='249.9' cy='249.9' r='247'/%3E%3Cpath display='none' fill='%23fff' d='M418.9 195.8c-3.2-3.2-8.2-3.2-11.4 0l-45.6 45.6-45.6-45.6c-3.2-3.2-8.2-3.2-11.4 0-3.2 3.2-3.2 8.2 0 11.4l45.6 45.6-45.6 45.6c-3.2 3.2-3.2 8.2 0 11.4 1.8 1.8 4.1 2.3 5.9 2.3s4.1-.9 5.9-2.3l45.6-45.6 45.6 45.6c1.8 1.8 4.1 2.3 5.9 2.3s4.1-.9 5.9-2.3c3.2-3.2 3.2-8.2 0-11.4l-45.6-45.6 45.6-45.6c2.9-2.3 2.9-8.2-.8-11.4zM268.2 89.2c-2.3-1.7-6.8-.9-9.1.9l-106.7 79.5H95.2c-5 0-8.2 2.9-8.2 7.6v144c0 4.6 3.2 7.6 8.2 7.6h57.2l106.7 80c1.8.9 3.2 1.7 5 1.7.9 0 2.3 0 3.2-.9 2.3-1.7 5-3.8 5-6.8V95.5c.9-1.7-.9-4.6-4.1-6.3zM148.2 314h-44.8V186.1h44.8V314zm108.5 72.9l-92.1-69v-136l91.7-69v274h.4z'/%3E%3Cpath fill='%23fff' d='M268.5 89c-2.3-1.7-6.8-.9-9.2.9l-107 79.9H94.9c-5 0-8.2 3-8.2 7.7V322c0 4.6 3.2 7.7 8.2 7.7h57.4L259.4 410c1.8.9 3.2 1.7 5 1.7.9 0 2.3 0 3.2-.9 2.3-1.7 5-3.8 5-6.8V95.3c1-1.7-.8-4.6-4.1-6.3zM148.2 314.6h-44.9V186.2h44.9v128.4zm108.9 73.1l-92.4-69.3V182l92-69.2v274.9h.4zm149-127.2h-90.5c-4.2 0-7.7-3.5-7.7-7.9s3.4-7.9 7.7-7.9h90.5c4.2 0 7.7 3.5 7.7 7.9s-3.4 7.9-7.7 7.9zm.9-94.6l-88.6 37.6c-3.9 1.6-8.4-.3-10-4.3-1.6-4 .3-8.6 4.1-10.2l88.6-37.6c3.9-1.6 8.4.3 10 4.3 1.6 3.9-.2 8.6-4.1 10.2zm4.7 182.9c-1.6 4-6.1 5.9-10 4.3l-88.6-37.6c-3.9-1.6-5.8-6.2-4.1-10.2 1.6-4 6.1-5.9 10-4.3l88.6 37.6c3.9 1.6 5.8 6.2 4.1 10.2z'/%3E%3C/svg%3E");background-size:100%;width:22px;height:22px;display:block}.OaF7uW_videoProgress{z-index:2147483447;background:rgba(0,0,0,.2);width:100%;height:.1875rem;position:absolute;bottom:0;left:0;right:0;overflow:hidden}.OaF7uW_videoProgress span{width:0%;height:100%;animation-name:OaF7uW_progress-animation;animation-timing-function:cubic-bezier(0,.79,.5,1);animation-iteration-count:infinite;animation-delay:1ms;animation-fill-mode:forwards;position:absolute;top:0;left:0}.OaF7uW_videoProgress span.OaF7uW_paused{animation-play-state:paused}@keyframes OaF7uW_progress-animation{0%{width:20%}to{width:100%}}.ok_seq_videoPlayerWrap{justify-content:center;align-items:center;width:100%;height:100%;display:flex;position:absolute}.ok_seq_videoPlayer,.ok_seq_videoPlayer video{width:100%;height:100%}.RypQCq_videoBlurWrap{justify-content:center;align-items:center;width:100%;height:100%;display:flex;position:absolute;overflow:hidden}.RypQCq_videoBlurWrap>canvas{filter:blur(6px)brightness(.25);min-width:100vw;min-height:100vh}.dDtiqq_tapToPlayMask{z-index:2147483547;background-color:rgba(0,0,0,.6);position:fixed;top:0;bottom:0;left:0;right:0}.dDtiqq_tapToPlayContainer{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.dDtiqq_tapToPlayIcon{filter:invert();background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M9%2011.24V7.5a2.5%202.5%200%200%201%205%200v3.74c1.21-.81%202-2.18%202-3.74C16%205.01%2013.99%203%2011.5%203S7%205.01%207%207.5c0%201.56.79%202.93%202%203.74zm9.84%204.63-4.54-2.26c-.17-.07-.35-.11-.54-.11H13v-6c0-.83-.67-1.5-1.5-1.5S10%206.67%2010%207.5v10.74l-3.43-.72c-.08-.01-.15-.03-.24-.03-.31%200-.59.13-.79.33l-.79.8%204.94%204.94c.27.27.65.44%201.06.44h6.79c.75%200%201.33-.55%201.44-1.28l.75-5.27c.01-.07.02-.14.02-.2%200-.62-.38-1.16-.91-1.38z%22%2F%3E%3C%2Fsvg%3E);background-position:50%;background-repeat:no-repeat;background-size:100%;width:50px;max-width:120px;max-height:120px;margin:0 auto}@media screen and (min-width:320px){.dDtiqq_tapToPlayIcon{width:calc(7.95455vw + 24.5455px)}}@media screen and (min-width:1200px){.dDtiqq_tapToPlayIcon{width:120px}}.dDtiqq_tapToPlayIcon{height:50px}@media screen and (min-width:320px){.dDtiqq_tapToPlayIcon{height:calc(7.95455vw + 24.5455px)}}@media screen and (min-width:1200px){.dDtiqq_tapToPlayIcon{height:120px}}.dDtiqq_tapToPlayText{color:#fff;text-align:center;margin:.3em 0;font-size:15px;font-weight:400}@media screen and (min-width:320px){.dDtiqq_tapToPlayText{font-size:calc(1.13636vw + 11.3636px)}}@media screen and (min-width:1200px){.dDtiqq_tapToPlayText{font-size:25px}}.Zz6y0G_download{z-index:2147483447;float:right;cursor:pointer;width:50px;height:50px;padding:20px 10px 10px 20px;line-height:1em;position:fixed;bottom:4px;right:0}.Zz6y0G_download .Zz6y0G_downloadIcon{cursor:pointer;background-image:url("data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20width='48px'%20height='48px'%20%3E%3Cpath%20fill='white'%20d='M11%2040q-1.2%200-2.1-.9Q8%2038.2%208%2037v-7.15h3V37h26v-7.15h3V37q0%201.2-.9%202.1-.9.9-2.1.9Zm13-7.65-9.65-9.65%202.15-2.15%206%206V8h3v18.55l6-6%202.15%202.15Z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-size:23px;width:19px;height:19px;display:inline-block;bottom:10px}@media only screen and (max-height:249px){.Zz6y0G_download{display:none}}.UUyEIq_persistentSimpleCta{z-index:2147483446;background:rgba(0,0,0,.5);border-radius:8px 0 0 8px;padding:8px;transition:transform .5s ease-in-out;display:flex;position:fixed;bottom:8px;right:0;transform:translate(100%)}@media screen and (min-width:768px) and (min-height:450px){.UUyEIq_persistentSimpleCta{padding:12px}}@media screen and (min-width:1024px) and (min-height:301px){.UUyEIq_persistentSimpleCta{background:linear-gradient(transparent 0%,rgba(0,0,0,.8) 80%);justify-content:center;align-items:center;width:100%;padding:25px;bottom:0}}@media screen and (max-width:302px),screen and (max-height:300px){.UUyEIq_persistentSimpleCta{border-radius:4px 0 0 4px;padding:4px}}.UUyEIq_slideIn{transform:translate(0)}@media screen and (min-width:1024px) and (min-height:301px){.UUyEIq_slideIn{left:50%;transform:translate(-50%)}}.UUyEIq_appIcon{cursor:pointer;border-radius:8px;width:52px;height:52px;left:0}@media screen and (min-width:768px) and (min-height:450px){.UUyEIq_appIcon{width:70px;height:70px}}@media screen and (min-width:1024px) and (min-height:301px){.UUyEIq_appIcon{width:100px;height:100px}}@media screen and (max-width:302px),screen and (max-height:300px){.UUyEIq_appIcon{border-radius:4px;width:26px;height:26px}}.UUyEIq_persistentSimpleCtaBtn{cursor:pointer;text-align:center;color:#fff;white-space:nowrap;background-color:#179e2d;border:none;border-radius:8px;min-width:99px;height:52px;padding:0 10px;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:21px;font-weight:400}@media screen and (min-width:768px) and (min-height:450px){.UUyEIq_persistentSimpleCtaBtn{height:70px;font-size:30px}}@media screen and (min-width:1024px) and (min-height:301px){.UUyEIq_persistentSimpleCtaBtn{min-width:200px;height:70px;font-size:30px}}@media screen and (max-width:302px),screen and (max-height:300px){.UUyEIq_persistentSimpleCtaBtn{border-radius:4px;min-width:80px;height:26px;font-size:14px}}.UUyEIq_appIcon~.UUyEIq_persistentSimpleCtaBtn{margin-left:8px}@media screen and (min-width:768px) and (min-height:450px){.UUyEIq_appIcon~.UUyEIq_persistentSimpleCtaBtn{margin-left:12px}}@media screen and (min-width:1024px) and (min-height:301px){.UUyEIq_appIcon~.UUyEIq_persistentSimpleCtaBtn{margin-left:0}}@media screen and (max-width:302px),screen and (max-height:300px){.UUyEIq_appIcon~.UUyEIq_persistentSimpleCtaBtn{margin-left:4px}}.UUyEIq_appDetail{color:#fff;min-width:40%;padding:10px 50px;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:400;display:none}.UUyEIq_appDetail h1{white-space:nowrap;text-overflow:ellipsis;cursor:pointer;width:100%;margin:0;font-size:34px;line-height:40px;overflow:hidden}.UUyEIq_appDetail h2{white-space:nowrap;text-overflow:ellipsis;cursor:pointer;width:100%;margin:0;font-size:20px;line-height:30px;overflow:hidden}@media screen and (min-width:1024px) and (min-height:301px){.UUyEIq_appDetail{flex-direction:column;align-items:flex-start;display:flex}}.DwKKSa_persistentRichCta{z-index:2147483348;background:#333;align-items:center;width:100%;height:120px;padding:10px;display:flex;position:fixed;top:0;left:0}.DwKKSa_persistentRichCta .DwKKSa_appIcon{cursor:pointer;border-radius:10px;width:90px;height:90px;display:block}.DwKKSa_persistentRichCta .DwKKSa_appInfo{flex-direction:column;flex:1;justify-content:space-around;height:100px;padding:0 15px;display:flex;overflow:hidden}.DwKKSa_persistentRichCta .DwKKSa_appInfo h1{color:#fff;white-space:nowrap;text-overflow:ellipsis;cursor:pointer;width:90%;margin:0;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:17px;font-weight:600;overflow:hidden}.DwKKSa_persistentRichCta .DwKKSa_appInfo p{color:#fff;white-space:nowrap;text-overflow:ellipsis;margin:0;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;font-weight:600;overflow:hidden}.DwKKSa_persistentRichCta .DwKKSa_persistentRichCtaBtn{cursor:pointer;text-align:center;color:#fff;white-space:nowrap;background:#179e2d;border:none;border-radius:24px;width:100%;height:36px;padding:8px 0;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;font-weight:600;box-shadow:0 4px 4px rgba(0,0,0,.25)}.dalDea_persistentRichCtaScreenshots{z-index:2147483348;white-space:nowrap;background:#333;width:100%;min-height:190px;padding:17px 0;position:fixed;bottom:0;left:0;overflow-x:scroll;overflow-y:hidden;box-shadow:inset 0 3px 7px 2px rgba(0,0,0,.4)}.dalDea_persistentRichCtaScreenshots .dalDea_slide{height:100%;margin-left:.75em;display:inline-block}.dalDea_persistentRichCtaScreenshots img{cursor:pointer;object-fit:cover;border-radius:.75em;height:100%}.W6zMza_dialogBox{visibility:hidden;text-align:center;color:#565656;z-index:2147483647;background-color:rgba(0,0,0,.8);width:100%;height:100%;position:absolute;top:0;left:0}.W6zMza_dialog{text-align:center;width:288px;margin-top:0;padding:0;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}@media only screen and (max-height:20em){.W6zMza_dialog{width:200px}}.W6zMza_dialogContent{border-top-width:7px;border-top-color:#555fff;border-radius:15px;width:100%;position:relative;overflow:hidden}.W6zMza_dialogTitle{color:#fff;background-color:#555fff;padding:8px;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;font-weight:600}@media only screen and (max-height:20em){.W6zMza_dialogTitle{font-size:1em}}.W6zMza_dialogBody{background-color:#fff;padding:0;overflow:hidden}.W6zMza_dialogText{text-align:center;margin:0 auto;padding:18px;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;font-weight:400;line-height:1.35em}@media only screen and (max-height:20em){.W6zMza_dialogText{padding:10px;font-size:.8em;line-height:1.25}}.W6zMza_dialogActions{background-color:#fff;width:100%;padding:0}.W6zMza_dialogActions button{text-align:center;background:0 0;border:none;width:100%;padding:8px;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;font-weight:400;text-decoration:none}@media only screen and (max-height:20em){.W6zMza_dialogActions button{font-size:.75rem}}@media screen and (orientation:landscape){.W6zMza_dialogActions{display:flex}}.eDiOmG_primaryButton{color:#fff;background-color:#555fff;padding:0}.eDiOmG_primaryButton button{text-transform:uppercase;color:#fff}@media screen and (orientation:landscape){.eDiOmG_primaryButton{flex:1}}.eDiOmG_secondaryButton{color:#555fff;background-color:#fff;padding:0}.eDiOmG_secondaryButton button{color:#555fff}@media screen and (orientation:landscape){.eDiOmG_secondaryButton{flex:1}}.eDiOmG_primaryButton button{justify-content:center;align-items:center;display:flex}.eDiOmG_continueIcon{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2236%22%20height%3D%2246%22%20style%3D%22shape-rendering%3Ageometricprecision%3Btext-rendering%3Ageometricprecision%3Bimage-rendering%3Aoptimizequality%3Bfill-rule%3Aevenodd%3Bclip-rule%3Aevenodd%22%3E%3Cpath%20style%3D%22opacity%3A.849%22%20fill%3D%22%23fefffe%22%20d%3D%22M35.5%2014.5v7c-3.399%2011.06-11.065%2016.227-23%2015.5%203.026%202.298%203.692%205.13%202%208.5h-5c-3-3.667-6.333-7-10-10v-5a133.238%20133.238%200%200%200%2010-9.5c5.167-1.5%207%20.333%205.5%205.5L12.5%2029c8.637%201.53%2013.97-1.97%2016-10.5-1.08-7.537-5.414-11.37-13-11.5-2.101-1.733-2.435-3.733-1-6%2010.787-1.378%2017.787%203.122%2021%2013.5Z%22%2F%3E%3C%2Fsvg%3E) 50%/contain no-repeat;width:12px;height:12px;margin-left:6px;display:inline-block}._0zGmtq_watermark{z-index:200;background-color:#000;width:100vw;min-height:1px;font-size:1px;display:flex;position:absolute}._0zGmtq_watermark ._0zGmtq_leading._0zGmtq_bit{width:4vw}._0zGmtq_watermark ._0zGmtq_bit{flex-grow:0;width:1vw;height:1px}._0zGmtq_watermark ._0zGmtq_zero{height:1px}._0zGmtq_watermark ._0zGmtq_one{background-color:#050505;height:1px}.m2_mMq_privacyButton{cursor:pointer;z-index:2147483497;background:0 0;width:16px;padding:0;line-height:0;position:absolute;bottom:4px;left:4px}@media (min-width:48em){.m2_mMq_privacyButton{bottom:.8rem;left:.8rem}}.m2_mMq_privacyButton svg{width:100%;height:100%}@media only screen and (max-height:300px){.m2_mMq_privacyButton{width:13px;height:13px;left:2px}}@media only screen and (max-height:200px){.m2_mMq_privacyButton{width:12px;height:12px}}.FbTWOG_popupContainer.FbTWOG_popupContainerDisplay{z-index:2147483647;position:fixed;top:0;bottom:0;left:0;right:0}.FbTWOG_privacyPopup{z-index:2147483647;background:#fff;border-radius:15px 15px 0 0;padding:16px 16px 0;font-family:Roboto,-apple-system,Segoe UI,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif;transition:transform .2s ease-in-out;position:fixed;bottom:0;left:0;right:0}.FbTWOG_popupHeader{justify-content:space-between;display:flex}.FbTWOG_popupTitle{font-size:14px;font-weight:700}.FbTWOG_closeIcon{background-image:url(data:image/svg+xml,%3Csvg%20width%3D%2231%22%20height%3D%2231%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg%20clip-path%3D%22url%28%27%23clip0_1168_1960%27%29%22%20fill%3D%22%23000%22%3E%3Cpath%20d%3D%22M27.12%2030.4c-.84%200-1.68-.32-2.32-.96L.96%205.61a3.295%203.295%200%200%201%200-4.65%203.295%203.295%200%200%201%204.65%200l23.83%2023.83a3.295%203.295%200%200%201%200%204.65c-.64.64-1.48.96-2.32.96Z%22%2F%3E%3Cpath%20d%3D%22M3.29%2030.4c-.84%200-1.68-.32-2.32-.96a3.295%203.295%200%200%201%200-4.65L24.79.96a3.295%203.295%200%200%201%204.65%200%203.295%203.295%200%200%201%200%204.65L5.61%2029.44c-.64.64-1.48.96-2.32.96Z%22%2F%3E%3C%2Fg%3E%3Cdefs%3E%3CclipPath%20id%3D%22clip0_1168_1960%22%3E%3Cpath%20fill%3D%22%23fff%22%20d%3D%22M0%200h30.4v30.4H0z%22%2F%3E%3C%2FclipPath%3E%3C%2Fdefs%3E%3C%2Fsvg%3E);background-repeat:no-repeat;background-size:100%;width:14px;height:14px;display:inline-block}.FbTWOG_readMore{color:#485099;padding:16px 0;font-size:16px;font-weight:700}.FbTWOG_ids{color:#bfbfbf;font-size:11px}.FbTWOG_ids.FbTWOG_hasEventMetadata{flex-wrap:wrap;padding:6px 0;display:flex}.FbTWOG_ids .FbTWOG_id{height:15px;display:flex}.FbTWOG_ids .FbTWOG_id:first-child{margin-right:1em}.FbTWOG_ids .FbTWOG_id .FbTWOG_idName{text-align:left;width:60px}.FbTWOG_ids .FbTWOG_id .FbTWOG_idContent{padding-left:4px}.FbTWOG_popupBody{padding-top:16px;font-size:14px}.FbTWOG_show{transform:translateY(0);box-shadow:0 -10px 20px -5px rgba(115,115,115,.75)}.FbTWOG_hide{transform:translateY(100%)}.FbTWOG_displayNone{display:none}.FbTWOG_mask{-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);background:rgba(255,255,255,.2);transition:all .5s;position:fixed;top:0;bottom:0;left:0;right:0}#gRz7DW_ad{width:100%;height:100%}</style><script type="module">window.appVersion="5.9.0";</script><script type="module">window.Hls={isSupported:()=>!1,DefaultConfig:{loader:class{constructor(){}}}};</script><script src="mraid.js"></script><script type="module">function n(r,e){var s=t();return(n=function(r,n){return s[r-=143]})(r,e)}var r=n;function t(){var r=["undefined","303444inYQJd",'ipt src="replacements.js"></sc',"7213chHhdp","7mBWnvg","<scr","897366rgVoCQ","44iJuGgH","41079UpxDFu","2247664yxnDpZ","write","mraidExt","ript>","77OMQXem","584010DyCTIj","421595CqDrDG",'ipt src="vungle_mraid.js"></sc',"10njnkdM","8TySzmr"];return(t=function(){return r})()}!function(r){for(var t=n,e=r();;)try{if(parseInt(t(154))/1*(parseInt(t(158))/2)+-parseInt(t(159))/3*(-parseInt(t(150))/4)+parseInt(t(147))/5+parseInt(t(157))/6*(-parseInt(t(155))/7)+parseInt(t(160))/8+parseInt(t(146))/9*(-parseInt(t(149))/10)+parseInt(t(145))/11*(-parseInt(t(152))/12)==159889)break;e.push(e.shift())}catch(r){e.push(e.shift())}}(t),("undefined"==typeof vungle||typeof vungle[r(143)]===r(151))&&(document[r(161)](r(156)+r(148)+r(144)),document.write(r(156)+'ipt src="tokenmap.js"><\/script>'),document[r(161)](r(156)+r(153)+r(144)));</script><script type="module">var e=t;function n(){var e=["233320xaKEXL","1519032JREVyj","notifyPropertiesChange","10490PSChOO","270063ynCtMs","295981bVKbOX","Accept","hasOwnProperty","vungle","1263420fuAVmE","consentDenyButtonText","118nnSbiu","notifyReadyEvent","INCENTIVIZED","mraidBridge","consentTitleText","545USnEPa","osVersion","consentBodyText","1.0","fullscreen","forEach","keys"];return(n=function(){return e})()}function t(e,o){var r=n();return(t=function(e,n){return r[e-=234]})(e,o)}if(function(e){for(var n=t,o=e();;)try{if(parseInt(n(239))/1*(parseInt(n(234))/2)+parseInt(n(250))/3+parseInt(n(246))/4+parseInt(n(249))/5+-parseInt(n(255))/6+-parseInt(n(251))/7+parseInt(n(247))/8==119630)break;o.push(o.shift())}catch(e){o.push(o.shift())}}(n),"function"==typeof getVungleReplacementTokens){var o,r={OS:"os",OS_VERSION:e(240),SDK_VERSION:"sdkVersion",CONSENT_TITLE_TEXT:e(238),CONSENT_BODY_TEXT:e(241),CONSENT_ACCEPT_BUTTON_TEXT:"consentAcceptButtonText",CONSENT_DENY_BUTTON_TEXT:e(256)},s=getVungleReplacementTokens(),i=(o={},Object[e(245)](s).forEach((function(e){o[vungleTokenMap[e]]=s[e]})),o);window[e(254)][e(237)][e(235)](i);let n={isViewable:!0,placementType:e(243),version:e(242),consentAcceptButtonText:e(252),consentDenyButtonText:"Deny",consentBodyText:"Ads are personalized. Denying would disable it",consentTitleText:"Personalized Ads",supports:{sms:!1,storePicture:!1,inlineVideo:!1,calendar:!1,tel:!1},incentivized:i[e(253)]("INCENTIVIZED")&&"true"===i[e(236)].toLowerCase()};Object[e(245)](r)[e(244)]((function(t){i[e(253)](t)&&(n[r[t]]=i[t])})),window[e(254)][e(237)][e(248)](n)}</script></head><body>  <div id="dynamic"></div> <script type="module">let e,t;var n=class extends Error{};class i{static getInstance(e){return this.instance||(this.instance=new i(e)),this.instance}bind(e,t){return this.bindings.set(e,t),this}get(e){if(!this.bindings.has(e))throw new n(`Could not find anything for key ${e}`);return this.bindings.get(e)}has(e){return this.bindings.has(e)}reset(){this.bindings.clear()}constructor(e=Date.now()){this.startTimestamp=e,this.bindings=new Map}}var r=i,a=class{},o=class extends a{get(e){return this.replacementTokens[e]}has(...e){return e.every((e=>e in this.replacementTokens))}some(...e){return e.some((e=>e in this.replacementTokens))}static getServiceIdentifier(){return"TokenServiceInterface"}getSeriesValues(e){var t,n,i,r;let a=this.getSeriesTokens(e),o=null!==(r=null===(i=window.vungle)||void 0===i||null===(n=i.mraidBridgeExt)||void 0===n||null===(t=n.getReplacementTokens)||void 0===t?void 0:t.call(n))&&void 0!==r?r:{};return a.map((e=>o[e]))}getSeriesTokens(e){var t,n,i,r;let a=[],o=null!==(r=null===(i=window.vungle)||void 0===i||null===(n=i.mraidBridgeExt)||void 0===n||null===(t=n.getReplacementTokens)||void 0===t?void 0:t.call(n))&&void 0!==r?r:{},s=[];return Object.keys(o).filter((t=>t.startsWith(e))).forEach((t=>{let n=t.replace(e,"");/^\d+$/.test(n)?s.push(parseInt(n,10)):a.push(t)})),0===s.length||(s.sort(((e,t)=>e-t)),s.forEach((t=>a.push(`${e}${t}`)))),a}constructor(e){super(),this.replacementTokens=null!=e?e:{}}},s=(e,t="default")=>{let n=e=>e.filter((e=>void 0!==e)).flat();return{info:(i,...r)=>{let a=n([t,i,...r]);e.addToActivity({type:"log",level:"info",prefix:t,message:i,optionalParams:r}),console.info(...a)},warn:(i,...r)=>{let a=n([t,i,...r]);e.addToActivity({type:"log",level:"warn",prefix:t,message:i,optionalParams:r}),console.warn(...a)},error:(i,...r)=>{let a=n([t,i,...r]);e.addToActivity({type:"log",level:"error",prefix:t,message:i,optionalParams:r}),console.error(...a)}}},l=class extends a{getLogger(e="default"){return null==this.loggers[e]&&(this.loggers[e]=s(this,e)),this.loggers[e]}emit(e){e.fireOnlyOnce&&this.hasExistingEvent(e)||(this.addToActivity({type:"event",eventType:e.type,name:e.event,data:e.data}),this.invokeEventHandlers(e))}invokeEventHandlers(e){[...this.eventHandlers[e.type]||[],...this.eventHandlers["*"]||[]].forEach((t=>t(this,e)))}addToActivity(e){this.activity.push({activity:e,timestamp:Date.now()})}getActivity(e){return e?this.activity.filter((t=>t.activity.type===e)):this.activity}getActivityEvents(){return this.activity.filter((e=>"event"===e.activity.type)).map((e=>e.activity))}getActivityLogs(){return this.activity.filter((e=>"log"===e.activity.type)).map((e=>e.activity))}clearActivity(){this.activity.length=0}addEventHandler(e,t){this.eventHandlers[e]=this.eventHandlers[e]||[],this.eventHandlers[e].push(t)}removeEventHandler(e,t){null!=this.eventHandlers[e]&&(this.eventHandlers[e]=this.eventHandlers[e].filter((e=>e!==t)))}getEventHandlers(e){return this.eventHandlers[e]||[]}static getServiceIdentifier(){return"ReportingServiceInterface"}constructor(...e){super(...e),this.loggers={},this.eventHandlers={},this.activity=[],this.hasExistingEvent=e=>this.activity.some((t=>"event"===t.activity.type&&t.activity.eventType===e.type&&t.activity.name===e.event))}};function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}))}return e}(ec=eI||(eI={}))[ec.NotStarted=0]="NotStarted",ec[ec.Running=1]="Running",ec[ec.Stopped=2]="Stopped";const c={type:"xstate.init"},u="xstate.assign";function E(e){return void 0===e?[]:[].concat(e)}function _(e,t){return"string"==typeof(e="string"==typeof e&&t&&t[e]?t[e]:e)?{type:e}:"function"==typeof e?{type:e.name,exec:e}:e}function v(e){return t=>e===t}function T(e){return"string"==typeof e?{type:e}:e}function S(e,t,n){let i=t,r=!1;return[e.filter((e=>{if(e.type===u){r=!0;let t=d({},i);return"function"==typeof e.assignment?t=e.assignment(i,n):Object.keys(e.assignment).forEach((r=>{t[r]="function"==typeof e.assignment[r]?e.assignment[r](i,n):e.assignment[r]})),i=t,!1}return!0})),i,r]}const h=(e,t)=>e.actions.forEach((({exec:n})=>n&&n(e.context,t)));function p(e){return{type:u,assignment:e}}var g=class extends a{createMachine(e,t){if(!(null==e?void 0:e.id))throw Error("State machine identifier is missing.");this.machineMap.has(e.id)||this.machineMap.set(e.id,{config:e,options:t,machine:function(e,t={}){let[n,i]=S(E(e.states[e.initial].entry).map((e=>_(e,t.actions))),e.context,c),r={config:e,_options:t,initialState:{value:e.initial,actions:n,context:i,matches:v(e.initial)},transition:(t,n)=>{let{value:i,context:a}="string"==typeof t?{value:t,context:e.context}:t,o=T(n),s=e.states[i];if(s.on){let t=E(s.on[o.type]);for(let n of("*"in s.on&&t.push(...E(s.on["*"])),t)){if(void 0===n)break;let{target:t,actions:l=[],cond:d=()=>!0}="string"==typeof n?{target:n}:n,c=void 0===t,u=null!=t?t:i,T=e.states[u];if(d(a,o)){let[e,n,d]=S((c?E(l):[].concat(s.exit,l,T.entry).filter((e=>e))).map((e=>_(e,r._options.actions))),a,o),u=null!=t?t:i;return{value:u,context:n,actions:e,changed:t!==i||e.length>0||d,matches:v(u)}}}}return{value:i,context:a,actions:[],changed:!1,matches:v(i)}}};return r}(e,t)});let n=this.machineMap.get(e.id);return null==n?void 0:n.machine}interpret(e){var t;if(!(null==e||null===(t=e.config)||void 0===t?void 0:t.id))throw Error("State machine is malformed.");return this.interpreterMap.has(e.config.id)||this.interpreterMap.set(e.config.id,function(e){let t=e.initialState,n=eI.NotStarted,i=new Set,r={_machine:e,send:r=>{n===eI.Running&&(h(t=e.transition(t,r),T(r)),i.forEach((e=>e(t))))},subscribe:e=>(i.add(e),e(t),{unsubscribe:()=>i.delete(e)}),start:i=>{if(i){let n="object"==typeof i?i:{context:e.config.context,value:i};t={value:n.value,actions:[],context:n.context,matches:v(n.value)}}else t=e.initialState;return n=eI.Running,h(t,c),r},stop:()=>(n=eI.Stopped,i.clear(),r),get state(){return t},get status(){return n}};return r}(e)),this.interpreterMap.get(e.config.id)}clear(e){e?(this.machineMap.delete(e),this.interpreterMap.delete(e)):(this.machineMap.clear(),this.interpreterMap.clear())}static getServiceIdentifier(){return"StateMachineServiceInterface"}constructor(){super(),this.machineMap=new Map,this.interpreterMap=new Map}};function C(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var O=()=>"f99c75c87";(eu=ef||(ef={})).LOADING="loading",eu.DEFAULT="default",eu.EXPANDED="expanded",eu.RESIZED="resized",eu.HIDDEN="hidden";var A=(e=O())=>{var t,n,i,r,a,o,s,l;let c=null===(t=window[e])||void 0===t?void 0:t.mraid,E=null===(n=window[e])||void 0===n?void 0:n.mraidExt;return!c&&((null===(o=window.vungle)||void 0===o?void 0:o.mraid)?window[e]={mraid:d({},window.vungle.mraid)}:window.mraid&&(window[e]={mraid:d({},window.mraid)})),!E&&(null===(i=window.vungle)||void 0===i?void 0:i.mraidExt)&&(window[e]=C(d({},window[e]),{mraidExt:d({},window.vungle.mraidExt)})),window.mraid&&delete window.mraid,window.vungle&&(window.vungle.mraid&&delete window.vungle.mraid,window.vungle.mraidExt&&(window.vungle.mraidExt={getOS:null===(s=window.vungle.mraidExt)||void 0===s?void 0:s.getOS,getOSVersion:null===(l=window.vungle.mraidExt)||void 0===l?void 0:l.getOSVersion})),{mraid:null===(r=window[e])||void 0===r?void 0:r.mraid,mraidExt:null===(a=window[e])||void 0===a?void 0:a.mraidExt}},I=class extends a{init(){let{mraid:e,mraidExt:t}=A(),{mraidBridge:n,mraidBridgeExt:i}=function(){if(!window.vungle)return{mraidBridge:void 0,mraidBridgeExt:void 0};let{mraidBridge:e,mraidBridgeExt:t}=window.vungle;return{mraidBridge:e,mraidBridgeExt:t}}();this.mraid=e,this.mraidExt=t,this.mraidBridge=n,this.mraidBridgeExt=i,this.initialized=!0}checkInit(){this.initialized||this.init()}static getServiceIdentifier(){return"MraidServiceInterface"}getMraid(){return this.checkInit(),this.mraid}getMraidBridge(){return this.checkInit(),this.mraidBridge}getMraidBridgeExt(){return this.checkInit(),this.mraidBridgeExt}getMraidExt(){return this.checkInit(),this.mraidExt}constructor(){super(),this.initialized=!1,this.init()}},f=class{clearInterval(){this.id&&(window.clearInterval(this.id),this.id=void 0)}pause(){this.clearInterval()}start(){!this.intervalService.isPaused()&&(void 0!==this.id||this.isDestroyed()||(this.id=window.setInterval((()=>{this.callable()}),this.interval)))}destroy(){this.clearInterval(),this.destroyed=!0}getId(){return this.id}isDestroyed(){return this.destroyed}constructor(e,t,n){this.interval=e,this.callable=t,this.intervalService=n,this.destroyed=!1}},N=class extends a{getNewInterval(e,t){let n=new f(e,t,this);return this.intervals.push(n),n}pauseAll(){this.paused=!0,this.intervals.forEach((e=>{e.pause()}))}startAll(){this.paused=!1,this.intervals.forEach((e=>{e.start()}))}destroyAll(){this.intervals.forEach((e=>{e.destroy()})),this.intervals=[]}isPaused(){return this.paused}static getServiceIdentifier(){return"IntervalServiceInterface"}constructor(e=!1){super(),this.paused=e,this.intervals=[]}},m=class{constructor(e,t){this.delay=e,this.callable=t,this.getId=()=>this.id,this.start=()=>!this.isDestroyed&&void 0===this.id&&(this.id=window.setTimeout((()=>{this.callable&&this.callable(),this.id=void 0,this.remainingTime=this.delay,this.promiseResolve&&this.promiseResolve(),this.destroy()}),this.remainingTime),this.startTime=Date.now(),!0),this.pause=()=>{void 0!==this.id&&void 0!==this.startTime&&(clearTimeout(this.id),this.remainingTime-=Date.now()-this.startTime),this.startTime=void 0,this.id=void 0},this.destroy=()=>{void 0!==this.id&&(clearTimeout(this.id),this.id=void 0),this.isDestroyed=!0,this.promiseReject&&this.promiseReject(!1)},this.asPromise=()=>new Promise(((e,t)=>{this.promiseResolve=e,this.promiseReject=t,this.isDestroyed?t(Error("The timer has been destroyed and cannot be started.")):this.start()})),this.remainingTime=e,this.isDestroyed=!1}},D=class extends a{destroyAll(){this.timers.forEach((e=>{e.destroy()}))}getNewTimer(e,t){let n=new m(e,t);return this.timers.push(n),n}pauseAll(){this.timers.forEach((e=>{e.pause()}))}standby(){0===this.stash.length&&this.timers.forEach((e=>{void 0!==e.getId()&&(e.pause(),this.stash.push(e))}))}wake(){if(0===this.stash.length)return;let e=this.stash.pop();null==e||e.start(),this.wake()}startAll(){this.timers.forEach((e=>{e.start()}))}static getServiceIdentifier(){return"TimerServiceInterface"}constructor(){super(),this.timers=[],this.stash=[]}},R=()=>{let e=r.getInstance(),t=I.getServiceIdentifier();return e.get(t)};(eE=eN||(eN={})).UNKNOWN="unknown",eE.MREC="mrec",eE.FULLSCREEN="fullscreen",eE.BANNER="banner",eE.IN_LINE="in_line";var L=()=>{let e=r.getInstance(),t=o.getServiceIdentifier();return e.get(t)};(e_=em||(em={})).ADM_HTML="ADM_HTML",e_.ADVERTISER_DOMAIN="ADVERTISER_DOMAIN",e_.AD_EXPERIENCE="AD_EXPERIENCE",e_.AD_SOURCE="AD_SOURCE",e_.ALT_EC_0="ALT_EC_0",e_.APP_CONTENT_RATING="APP_CONTENT_RATING",e_.APP_DESCRIPTION="APP_DESCRIPTION",e_.APP_DESCRIPTION_ENCODED="APP_DESCRIPTION_ENCODED",e_.APP_DOWNLOAD_COUNT="APP_DOWNLOAD_COUNT",e_.APP_ICON="APP_ICON",e_.APP_INFO_POSITION="APP_INFO_POSITION",e_.APP_LONG_DESCRIPTION="APP_LONG_DESCRIPTION",e_.APP_LONG_DESCRIPTION_ENCODED="APP_LONG_DESCRIPTION_ENCODED",e_.APP_NAME="APP_NAME",e_.APP_NAME_ENCODED="APP_NAME_ENCODED",e_.APP_RATING="APP_RATING",e_.APP_RATING_COUNT="APP_RATING_COUNT",e_.APP_SCREENSHOTS="APP_SCREENSHOTS",e_.APP_STORE_ID="APP_STORE_ID",e_.APP_STORE_ON_ENDCARD_AUTO_DELAY="APP_STORE_ON_ENDCARD_AUTO_DELAY",e_.APP_STORE_ON_ENDCARD_CLOSE="APP_STORE_ON_ENDCARD_CLOSE",e_.APP_STORE_ON_FIRST_TRANSITION="APP_STORE_ON_FIRST_TRANSITION",e_.APP_STORE_ON_SECOND_TRANSITION="APP_STORE_ON_SECOND_TRANSITION",e_.APP_STORE_ON_VIDEO_AUTO_DELAY="APP_STORE_ON_VIDEO_AUTO_DELAY",e_.APP_STORE_ON_VIDEO_CLOSE="APP_STORE_ON_VIDEO_CLOSE",e_.APP_STORE_RATING="APP_STORE_RATING",e_.BLOCK_PERSISTENT_CTA="BLOCK_PERSISTENT_CTA",e_.CLOSE_BUTTON_DELAY_SECONDS="CLOSE_BUTTON_DELAY_SECONDS",e_.CLOSE_BUTTON_PADDING="CLOSE_BUTTON_PADDING",e_.CLOSE_BUTTON_SIZE="CLOSE_BUTTON_SIZE",e_.COUNTRY_CODE="COUNTRY_CODE",e_.CREATIVE_FORMAT="CREATIVE_FORMAT",e_.CREATIVE_FORMAT_VERSION="CREATIVE_FORMAT_VERSION",e_.CREATIVE_ID="CREATIVE_ID",e_.CTA_BUTTON_BACKGROUND="CTA_BUTTON_BACKGROUND",e_.CTA_BUTTON_ENCODED_TEXT="CTA_BUTTON_ENCODED_TEXT",e_.CTA_BUTTON_ICON="CTA_BUTTON_ICON",e_.CTA_BUTTON_POSITION="CTA_BUTTON_POSITION",e_.CTA_BUTTON_TEXT="CTA_BUTTON_TEXT",e_.CTA_BUTTON_URL="CTA_BUTTON_URL",e_.DOWNLOAD_BUTTON_DELAY_SECONDS="DOWNLOAD_BUTTON_DELAY_SECONDS",e_.DSA_REQUIRED="DSA_REQUIRED",e_.EC_CLOSE_BUTTON_DELAY_SECONDS="EC_CLOSE_BUTTON_DELAY_SECONDS",e_.EC_CTA_URL="EC_CTA_URL",e_.EC_HTML="EC_HTML",e_.EC_HTML_2="EC_HTML_2",e_.EC_HTML_COMPRESS="EC_HTML_COMPRESS",e_.EC_IMAGE="EC_IMAGE",e_.EC_IMAGE_2="EC_IMAGE_2",e_.EC_SKOVERLAY_DELAY_SECONDS="EC_SKOVERLAY_DELAY_SECONDS",e_.EC_SKOVERLAY_DISABLE_AUTO_MMP="EC_SKOVERLAY_DISABLE_AUTO_MMP",e_.ENDCARD_CLOSE_BUTTON_AS_SKIP="ENDCARD_CLOSE_BUTTON_AS_SKIP",e_.FULL_CTA="FULL_CTA",e_.FULL_CTA_OPTION="FULL_CTA_OPTION",e_.GLOBAL_TIMER="GLOBAL_TIMER",e_.GLOBAL_TIMER_FIRST_PAGE_SHOW_PERCENT="GLOBAL_TIMER_FIRST_PAGE_SHOW_PERCENT",e_.INCENTIVIZED="INCENTIVIZED",e_.INCENTIVIZED_BODY_TEXT="INCENTIVIZED_BODY_TEXT",e_.INCENTIVIZED_CLOSE_BUTTON_DELAY_SECONDS="INCENTIVIZED_CLOSE_BUTTON_DELAY_SECONDS",e_.INCENTIVIZED_CLOSE_TEXT="INCENTIVIZED_CLOSE_TEXT",e_.INCENTIVIZED_CONTINUE_TEXT="INCENTIVIZED_CONTINUE_TEXT",e_.INCENTIVIZED_TITLE_TEXT="INCENTIVIZED_TITLE_TEXT",e_.IS_INCENTIVE_TIED_TO_CLOSE_BUTTON_DELAY="IS_INCENTIVE_TIED_TO_CLOSE_BUTTON_DELAY",e_.IS_STAFF_DEVICE_BID="IS_STAFF_DEVICE_BID",e_.MAIN_MANIFEST="MAIN_MANIFEST",e_.MAIN_STREAM="MAIN_STREAM",e_.MAIN_VIDEO="MAIN_VIDEO",e_.MAX_AD_DURATION="MAX_AD_DURATION",e_.NAUTILUS_VERSION="NAUTILUS_VERSION",e_.OBSERVABILITY="OBSERVABILITY",e_.OBSERVED_EXPERIMENTS="OBSERVED_EXPERIMENTS",e_.OM_ENABLED="OM_ENABLED",e_.OM_SDK_DATA="OM_SDK_DATA",e_.ORIGINAL_VIDEO_URL="ORIGINAL_VIDEO_URL",e_.PLACEMENT_TYPE="PLACEMENT_TYPE",e_.PLATFORM="PLATFORM",e_.REAL_START_MUTED="REAL_START_MUTED",e_.SDK_VERSION="SDK_VERSION",e_.SESSION_ID="SESSION_ID",e_.SHOW_EC_CLOSE_BUTTON_COUNTDOWN="SHOW_EC_CLOSE_BUTTON_COUNTDOWN",e_.SHOW_VIDEO_CLOSE_BUTTON_COUNTDOWN="SHOW_VIDEO_CLOSE_BUTTON_COUNTDOWN",e_.SKOVERLAY_AUTO="SKOVERLAY_AUTO",e_.SKOVERLAY_AUTO_CLOSE="SKOVERLAY_AUTO_CLOSE",e_.SKOVERLAY_DELAY_SECONDS="SKOVERLAY_DELAY_SECONDS",e_.SKOVERLAY_DISABLE_AUTO_MMP="SKOVERLAY_DISABLE_AUTO_MMP",e_.SKOVERLAY_DISMISSIBLE="SKOVERLAY_DISMISSIBLE",e_.SKOVERLAY_POSITION="SKOVERLAY_POSITION",e_.SK_CTA_ONLY="SK_CTA_ONLY",e_.SK_FSC="SK_FSC",e_.START_MUTED="START_MUTED",e_.STATIC_EC_CLOSE_BUTTON_DELAY_SECONDS="STATIC_EC_CLOSE_BUTTON_DELAY_SECONDS",e_.STREAM_CHUNK_0="STREAM_CHUNK_0",e_.TPAT_PROGRESS_EVENTS="TPAT_PROGRESS_EVENTS",e_.TRACK_0="TRACK_0",e_.USER_AGENT="USER_AGENT",e_.VIDEO_CLOSE_BUTTON_AS_SKIP="VIDEO_CLOSE_BUTTON_AS_SKIP",e_.VIDEO_ENDCARD_CLICK_SPLIT="VIDEO_ENDCARD_CLICK_SPLIT",e_.VIDEO_LOOPING="VIDEO_LOOPING",e_.VIDEO_PROGRESS_BAR="VIDEO_PROGRESS_BAR",e_.VIDEO_PROGRESS_BAR_COLOR="VIDEO_PROGRESS_BAR_COLOR",e_.VIDEO_SHOW_CTA="VIDEO_SHOW_CTA",e_.VUNGLE_PRIVACY_URL="VUNGLE_PRIVACY_URL",e_.VX_ENDCARD="VX_ENDCARD",e_.EC_HTML_PRELOAD="EC_HTML_PRELOAD";var y=em;(ev=eD||(eD={}))[ev.ACCELERATE=0]="ACCELERATE",ev[ev.EDSP=1]="EDSP",ev[ev.UNKNOWN=2]="UNKNOWN";var P=eD,V=class extends a{static getServiceIdentifier(){return"PlacementTypeServiceInterface"}getPlacementType(){var e,t,n;let i=e=>{switch(e){case"banner":return eN.BANNER;case"mrec":return eN.MREC;case"fullscreen":return eN.FULLSCREEN;case"in_line":return eN.IN_LINE;default:return eN.UNKNOWN}},r=i(null!==(t=null===(e=this.mraidService.getMraid())||void 0===e?void 0:e.getPlacementType())&&void 0!==t?t:"");return r!==eN.UNKNOWN?r:i(null!==(n=this.tokenService.get(y.PLACEMENT_TYPE))&&void 0!==n?n:"")}isMrec(){return this.getPlacementType()===eN.MREC}isBanner(){return this.getPlacementType()===eN.BANNER}isFullscreen(){return this.getPlacementType()===eN.FULLSCREEN}isInLine(){return this.getPlacementType()===eN.IN_LINE}getAdSource(){var e;if(!this.tokenService.has(y.AD_SOURCE)||void 0===this.tokenService.get(y.AD_SOURCE))return P.UNKNOWN;switch(null===(e=this.tokenService.get(y.AD_SOURCE))||void 0===e?void 0:e.toLowerCase()){case"":return P.UNKNOWN;case"accelerate":return P.ACCELERATE;default:return P.EDSP}}constructor(e=L(),t=R()){super(),this.tokenService=e,this.mraidService=t}},w=class{isGreaterThan(e){return this.major!==e.major?this.major>e.major:this.minor!==e.minor?this.minor>e.minor:this.patch>e.patch}isLessThan(e){return e.isGreaterThan(this)}isEqualTo(e){return e.major===this.major&&e.minor===this.minor&&e.patch===this.patch}isGreaterThanOrEqualTo(e){return this.isEqualTo(e)||this.isGreaterThan(e)}isLessThanOrEqualTo(e){return this.isEqualTo(e)||this.isLessThan(e)}toString(){return[this.major,this.minor,this.patch].join(".")}constructor(e){if(this.semanticVersion=e,this.major=0,this.minor=0,this.patch=0,!e)return;let[t,n,i]=e.replace(/-.*/,"").replace(/[^\d.]+/g,"").split(".").map((e=>parseInt(e,10)));t&&!Number.isNaN(t)&&(this.major=t),n&&!Number.isNaN(n)&&(this.minor=n),i&&!Number.isNaN(i)&&(this.patch=i)}},M=e=>decodeURIComponent(Array.prototype.map.call(atob(e),(e=>`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`)).join(""));(eT=eR||(eR={})).iOS="iOS",eT.Android="Android",eT.Windows="Windows",eT.Amazon="Amazon",eT.Unknown="Unknown",(eS=eL||(eL={}))[eS.LANDSCAPE=0]="LANDSCAPE",eS[eS.PORTRAIT=1]="PORTRAIT",eS[eS.UNKNOWN=2]="UNKNOWN";class b extends a{static getServiceIdentifier(){return"EnvironmentServiceInterface"}getOperatingSystem(){var e,t,n,i;if(this.operatingSystem)return this.operatingSystem;let r=null===(n=this.mraidService)||void 0===n||null===(t=n.getMraidExt())||void 0===t||null===(e=t.getOS)||void 0===e?void 0:e.call(t);return r&&(this.operatingSystem=b.parseOperatingSystem(r),"Unknown"!==this.operatingSystem)||(this.operatingSystem=b.parseOperatingSystem(null!==(i=this.tokenService.get(y.PLATFORM))&&void 0!==i?i:"")),this.operatingSystem}static parseOperatingSystem(e){switch(e.trim().toLowerCase()){case"ios":return"iOS";case"android":return"Android";case"windows":return"Windows";case"amazon":return"Amazon";default:return"Unknown"}}getOsVersion(){var e,t;return this.osVersion||(this.osVersion=new w(null===(t=this.mraidService.getMraidExt())||void 0===t||null===(e=t.getOSVersion)||void 0===e?void 0:e.call(t))),this.osVersion}getSdkVersion(){var e,t;if(this.sdkVersion)return this.sdkVersion;let n=null===(t=this.mraidService.getMraidExt())||void 0===t||null===(e=t.getSDKVersion)||void 0===e?void 0:e.call(t);return void 0!==n&&"0.0.0"!==n||!this.tokenService.has(y.SDK_VERSION)?this.sdkVersion=new w(n):this.sdkVersion=new w(this.tokenService.get(y.SDK_VERSION)),this.sdkVersion}getMraidVersion(){var e,t;return this.mraidVersion||(this.mraidVersion=new w(null===(t=this.mraidService.getMraidExt())||void 0===t||null===(e=t.getMraidVersion)||void 0===e?void 0:e.call(t))),this.mraidVersion}getBrowserVersion(){var e,t,n;return null!==(n=null===(t=this.uaParserResult)||void 0===t||null===(e=t.browser)||void 0===e?void 0:e.version)&&void 0!==n?n:""}getBrowserName(){var e,t,n;return null!==(n=null===(t=this.uaParserResult)||void 0===t||null===(e=t.browser)||void 0===e?void 0:e.name)&&void 0!==n?n:""}getDeviceModel(){var e,t,n;return null!==(n=null===(t=this.uaParserResult)||void 0===t||null===(e=t.device)||void 0===e?void 0:e.model)&&void 0!==n?n:""}getDeviceType(){var e,t,n;return null!==(n=null===(t=this.uaParserResult)||void 0===t||null===(e=t.device)||void 0===e?void 0:e.type)&&void 0!==n?n:""}getOrientation(){return window.outerHeight>window.outerWidth?1:window.outerHeight<window.outerWidth?0:2}getDeviceCountryCode(){var e;return null!==(e=this.tokenService.get(y.COUNTRY_CODE))&&void 0!==e?e:""}static isAffectedByStoreKitProductViewMaskIssue(e){if("iOS"!==e.getOperatingSystem())return!1;let t=e.getOsVersion();return t.isGreaterThanOrEqualTo(new w("17"))&&t.isLessThan(new w("17.1.1"))}constructor(e=L(),t=R()){super(),this.tokenService=e,this.mraidService=t;let n=e.get(y.USER_AGENT);if(n)try{this.uaParserResult=JSON.parse(M(n))}catch(e){}}}b.sdkSeven=new w("7"),(eh=ey||(ey={})).ERROR="error",eh.EVENT="event",eh.SIGNAL_EVENT="signal-event",(ep=eP||(eP={})).AD_CLOSE="ad-close",ep.AD_LOAD="ad-load",ep.AD_LOAD_COMPLETE="ad-load-complete",ep.AD_START="ad-start",ep.ALTERNATIVE_ENDCARD_CLICK="alternative-endcard-click",ep.ALTERNATIVE_VIEW="alternative-view",ep.APP_STORE_CLOSE="app-store-close",ep.APP_STORE_DURATION="app-store-duration",ep.APP_STORE_ON_FIRST_TRANSITION_COMPLETE="app-store-on-first-transition-complete",ep.APP_STORE_ON_FIRST_TRANSITION_DURATION="app-store-on-first-transition-duration",ep.APP_STORE_ON_FIRST_TRANSITION_START="app-store-on-first-transition-start",ep.APP_STORE_OPEN="app-store-open",ep.CLICK_OCCURRED="click-occurred",ep.NESTED_IFRAME_TYPE="nested-iframe-type",ep.CLOSE_BUTTON_VISIBLE="close-button-visible",ep.CTA="cta",ep.ENDCARD_CLICK="endcard-click",ep.ENDCARD_CLOSE="endcard-close",ep.ENDCARD_CLOSE_BUTTON_CLICK="endcard-close-button-click",ep.ENDCARD_CLOSE_BUTTON_DURATION="endcard-close-button-duration",ep.ENDCARD_CLOSE_BUTTON_SHOW="endcard-close-button-show",ep.ENDCARD_DURATION="endcard-duration",ep.ENDCARD_FIRST_CLICK="endcard-first-click",ep.ENDCARD_FIRST_CLICK_DURATION="endcard-first-click-duration",ep.ENDCARD_FIRST_CLICK_START="endcard-first-click-start",ep.ENDCARD_LOAD_COMPLETE="endcard-load-complete",ep.ENDCARD_LOAD_DURATION="endcard-load-duration",ep.ENDCARD_LOAD_START="endcard-load-start",ep.ENDCARD_SCENE_END="endcard-scene-end",ep.ENDCARD_START="endcard-start",ep.ERROR="error",ep.FIRST_INTERACTION_AFTER_VIDEO_PLAY_DURATION="first-interaction-after-video-play-duration",ep.FIRST_INTERACTION_ON_VIDEO_PAGE="first-interaction-on-video-page",ep.FORFEIT_REWARD="forfeit-reward",ep.FRUSTRATION_CLICKS="frustration-clicks",ep.GRANT_REWARD="grant-reward",ep.HLS_NOT_SUPPORTED="hls-not-supported",ep.INTERACTION_AFTER_CLOSE_BUTTON_VISIBLE="interaction-after-close-button-visible",ep.LAST_CHANCE_ENDCARD_CLOSE_BUTTON_CLICK="last-chance-endcard-close-button-click",ep.LAST_CHANCE_ENDCARD_CLOSE_BUTTON_SHOW="last-chance-endcard-close-button-show",ep.LAST_CHANCE_ENDCARD_CTA_BUTTON_CLICK="last-chance-endcard-cta-button-click",ep.LAST_CHANCE_ENDCARD_CTA_BUTTON_DURATION="last-chance-endcard-cta-button-duration",ep.LAST_CHANCE_ENDCARD_DURATION_START="last-chance-endcard-duration-start",ep.LAST_CHANCE_ENDCARD_DURATION_END="last-chance-endcard-duration-end",ep.LAST_CHANCE_ENDCARD_DURATION="last-chance-endcard-duration",ep.LAST_CHANCE_ENDCARD_END="last-chance-endcard-end",ep.LAST_CHANCE_ENDCARD_START="last-chance-endcard-start",ep.NEAR_CLOSE_BUTTON_CLICK="near-close-button-click",ep.NEAR_CLOSE_BUTTON_CLICK_COUNT="near-close-button-click-count",ep.OPEN_STOREKIT_PRODUCT_VIEW_COMMAND="open-storekit-product-view-command",ep.PERSISTENT_CTA_BUTTON_CLICK="persistent-cta-button-click",ep.PERSISTENT_CTA_BUTTON_DURATION="persistent-cta-button-duration",ep.PERSISTENT_CTA_BUTTON_SHOW="persistent-cta-button-show",ep.PRELOAD_DURATION="preload-duration",ep.PRELOAD_END="preload-end",ep.PRELOAD_START="preload-start",ep.PRIVACY_CTA="privacy-cta",ep.PROXY_MRAID="proxy-mraid",ep.SCENE_START="scene-start",ep.SIGNAL_TIMER_START="signal-timer-start",ep.STORE_KIT_OVERLAY="store-kit-overlay",ep.STORE_KIT_OVERLAY_PREPARE_ERROR="store-kit-overlay-prepare-error",ep.UNKNOWN_MRAID_COMMAND="unknown-mraid-command",ep.VIDEO_CLOSE_BUTTON_CLICK="video-close-button-click",ep.VIDEO_CLOSE_BUTTON_SHOW="video-close-button-show",ep.VIDEO_CLOSE="video-close",ep.VIDEO_DURATION="video-duration",ep.VIDEO_SCENE_END="video-scene-end",ep.VIDEO_SCENE_START="video-scene-start",ep.VIDEO_SKIP_TO_ENDCARD="video-skip-to-endcard",ep.VIDEO_START="video-start",ep.VIDEO_START_COMPLETE="video-start-complete",ep.VIDEO_START_DELAY="video-start-delay",ep.VIDEO_START_REQUEST="video-start-request",ep.VIDEO_START_SUCCESS="video-start-success",ep.WEB_VITALS_INTERACTION_TO_NEXT_PAINT="web-vitals-interaction-to-next-paint",ep.WEB_VITALS_FIRST_CONTENTFUL_PAINT="web-vitals-first-contentful-paint",ep.WEB_VITALS_LARGEST_CONTENTFUL_PAINT="web-vitals-largest-contentful-paint",ep.WEB_VITALS_TIME_TO_FIRST_BYTE="web-vitals-time-to-first-byte",(eg=eV||(eV={})).RESOURCE="resource",eg.PLAYABLE="playable",eg.TEMPLATE="template",(ew||(ew={})).lastChanceEndcard="lastChanceEndcard";var k=class{push(e){this.items.push(e)}pop(){return this.items.pop()}peek(){return this.items[this.items.length-1]}isEmpty(){return 0===this.items.length}size(){return this.items.length}splice(e,t=1){return this.items.splice(e,t)}findIndex(e){return this.items.findIndex(e)}find(e){return this.items.find(e)}constructor(){this.items=[]}};const U=()=>[eP.AD_CLOSE,eP.AD_START,eP.ALTERNATIVE_VIEW,eP.CTA,eP.ENDCARD_SCENE_END,eP.ERROR,eP.FRUSTRATION_CLICKS,eP.GRANT_REWARD,eP.HLS_NOT_SUPPORTED,eP.INTERACTION_AFTER_CLOSE_BUTTON_VISIBLE,eP.LAST_CHANCE_ENDCARD_END,eP.NEAR_CLOSE_BUTTON_CLICK_COUNT,eP.NEAR_CLOSE_BUTTON_CLICK_COUNT,eP.STORE_KIT_OVERLAY_PREPARE_ERROR,eP.PROXY_MRAID,eP.SCENE_START,eP.SIGNAL_TIMER_START,eP.UNKNOWN_MRAID_COMMAND,eP.VIDEO_SCENE_END,eP.VIDEO_SKIP_TO_ENDCARD,eP.VIDEO_START,eP.WEB_VITALS_FIRST_CONTENTFUL_PAINT,eP.WEB_VITALS_INTERACTION_TO_NEXT_PAINT,eP.WEB_VITALS_LARGEST_CONTENTFUL_PAINT,eP.WEB_VITALS_TIME_TO_FIRST_BYTE],B=()=>[eP.CLOSE_BUTTON_VISIBLE,eP.ENDCARD_CLOSE_BUTTON_DURATION,eP.ENDCARD_DURATION,eP.ENDCARD_FIRST_CLICK_DURATION,eP.ENDCARD_LOAD_DURATION,eP.FIRST_INTERACTION_AFTER_VIDEO_PLAY_DURATION,eP.INTERACTION_AFTER_CLOSE_BUTTON_VISIBLE,eP.LAST_CHANCE_ENDCARD_CTA_BUTTON_DURATION,eP.LAST_CHANCE_ENDCARD_DURATION,eP.NEAR_CLOSE_BUTTON_CLICK_COUNT,eP.PERSISTENT_CTA_BUTTON_DURATION,eP.PRELOAD_DURATION,eP.VIDEO_START_DELAY,eP.VIDEO_DURATION];var H=()=>[[eP.APP_STORE_OPEN,eP.APP_STORE_CLOSE,eP.APP_STORE_DURATION],[eP.ENDCARD_START,eP.ENDCARD_CLOSE,eP.ENDCARD_DURATION],[eP.VIDEO_CLOSE_BUTTON_SHOW,eP.VIDEO_CLOSE_BUTTON_CLICK,eP.CLOSE_BUTTON_VISIBLE],[eP.ENDCARD_CLOSE_BUTTON_SHOW,eP.ENDCARD_CLOSE_BUTTON_CLICK,eP.CLOSE_BUTTON_VISIBLE],[eP.LAST_CHANCE_ENDCARD_CLOSE_BUTTON_SHOW,eP.LAST_CHANCE_ENDCARD_CLOSE_BUTTON_CLICK,eP.CLOSE_BUTTON_VISIBLE],[eP.LAST_CHANCE_ENDCARD_START,eP.LAST_CHANCE_ENDCARD_CTA_BUTTON_CLICK,eP.LAST_CHANCE_ENDCARD_CTA_BUTTON_DURATION],[eP.LAST_CHANCE_ENDCARD_DURATION_START,eP.LAST_CHANCE_ENDCARD_DURATION_END,eP.LAST_CHANCE_ENDCARD_DURATION],[eP.PERSISTENT_CTA_BUTTON_SHOW,eP.PERSISTENT_CTA_BUTTON_CLICK,eP.PERSISTENT_CTA_BUTTON_DURATION],[eP.VIDEO_START_SUCCESS,eP.FIRST_INTERACTION_ON_VIDEO_PAGE,eP.FIRST_INTERACTION_AFTER_VIDEO_PLAY_DURATION],[eP.ENDCARD_LOAD_START,eP.ENDCARD_LOAD_COMPLETE,eP.ENDCARD_LOAD_DURATION],[eP.VIDEO_START_REQUEST,eP.VIDEO_START_COMPLETE,eP.VIDEO_START_DELAY],[eP.APP_STORE_ON_FIRST_TRANSITION_START,eP.APP_STORE_ON_FIRST_TRANSITION_COMPLETE,eP.APP_STORE_ON_FIRST_TRANSITION_DURATION],[eP.ENDCARD_FIRST_CLICK_START,eP.ENDCARD_FIRST_CLICK,eP.ENDCARD_FIRST_CLICK_DURATION],[eP.VIDEO_SCENE_START,eP.VIDEO_CLOSE,eP.VIDEO_DURATION],[eP.PRELOAD_START,eP.PRELOAD_END,eP.PRELOAD_DURATION]];const W="Unable to load img resource",F="video load fail after retry",x="video load fail with no retry",G="video does not play after 10s",Y="video play fail after 30s",K="video failed to play",X=[F,x,G,Y,K,W];var j=()=>{let e=r.getInstance(),t=b.getServiceIdentifier();return e.get(t)},z=()=>{let e=r.getInstance(),t=V.getServiceIdentifier();return e.get(t)},$=(e,t)=>{let n=`context_${t}`;return r.getInstance().has(n)||r.getInstance().bind(n,e),{getValue:()=>r.getInstance().get(n),setValue:e=>{r.getInstance().bind(n,e)}}};const q=$({scene:void 0},"SceneContext");var Z=()=>{var e;return null===(e=q.getValue())||void 0===e?void 0:e.scene},Q=e=>{var t;return!!e&&"true"===(null==e||null===(t=e.trim())||void 0===t?void 0:t.toLowerCase())},J=(e=L())=>!!e.has(y.INCENTIVIZED)&&Q(e.get(y.INCENTIVIZED)),ee=()=>{let e=r.getInstance(),t=l.getServiceIdentifier();return e.get(t)},et=()=>ee(),en=class extends a{static getServiceIdentifier(){return"ObservabilityServiceInterface"}init(e){this.observability=e(),this.isObserved=this.observability.isObserved()}pushError(e,t){var n;this.isObserved&&(null===(n=this.observability)||void 0===n||n.pushError(e,C(d({},t,this.getDefaultObservabilityData()),{elapsed:Date.now()-r.getInstance().startTimestamp,error_source:this.getErrorSource(e,t)})))}getDefaultObservabilityData(e=Z){var t,n,i,r,a,o,s,l,c;return d({ad_source:null!==(n=this.tokenService.get(y.AD_SOURCE))&&void 0!==n?n:"",advertiser_domain:null!==(i=this.tokenService.get(y.ADVERTISER_DOMAIN))&&void 0!==i?i:"",browser_name:this.environmentService.getBrowserName(),browser_version:this.environmentService.getBrowserVersion(),creative_format:null!==(r=this.tokenService.get(y.CREATIVE_FORMAT))&&void 0!==r?r:"",creative_format_version:null!==(a=this.tokenService.get(y.CREATIVE_FORMAT_VERSION))&&void 0!==a?a:"",creative_id:null!==(o=this.tokenService.get(y.CREATIVE_ID))&&void 0!==o?o:"",device_country_code:this.environmentService.getDeviceCountryCode(),device_model:this.environmentService.getDeviceModel(),device_type:this.environmentService.getDeviceType(),event_id:null!==(s=this.tokenService.get(y.SESSION_ID))&&void 0!==s?s:"",is_incentivized:J(this.tokenService),observed_experiments:null!==(l=this.tokenService.get(y.OBSERVED_EXPERIMENTS))&&void 0!==l?l:"",os_version:this.environmentService.getOsVersion().toString(),placement_type:this.placementTypeService.getPlacementType(),platform:this.environmentService.getOperatingSystem(),sdk_version:this.environmentService.getSdkVersion().toString(),template_version:null!==(c=window.appVersion)&&void 0!==c?c:"0.0.0"},null===(t=e())||void 0===t?void 0:t.getObservabilityData())}getAttributesData(e){var t;let n=Date.now()-r.getInstance().startTimestamp;return C(d({},e,this.getDefaultObservabilityData()),{elapsed:null!==(t=e.elapsed)&&void 0!==t?t:n})}updateEventTupleDataStack(e){let[t,n]=this.getAcceptTuple(e),i=this.getMatchingTuple(t);e.name===t&&(i?i[0].timestamp=Date.now():this.eventTupleDataStack.push([{name:t,timestamp:Date.now(),data:e}])),e.name===n&&i&&i.push({name:n,timestamp:Date.now(),data:e})}getAcceptTuple(e){return this.eventTuplesToAccept.find((t=>t.includes(e.name)))}getMatchingTuple(e){return this.eventTupleDataStack.find((t=>t.some((t=>t.name===e))))}deleteTupleFromDataStack(e){let t=this.eventTupleDataStack.findIndex((t=>t===e));this.eventTupleDataStack.splice(t)}pushOrCacheEvent(e,t){var n;B().includes(e)?this.pendingEvents[e]=t:null===(n=this.observability)||void 0===n||n.pushEvent(e,t)}pushTupleEvent(e){var t;let n=this.getAcceptTuple(e);if(!n)return;this.updateEventTupleDataStack(e);let[i,r,a]=n,o=null!==(t=this.getMatchingTuple(i))&&void 0!==t?t:[];if(e.name===r&&2===o.length){this.deleteTupleFromDataStack(o);let[t,n]=o,i=this.getAttributesData(C(d({},e),{name:a,duration:n.timestamp-t.timestamp}));this.pushOrCacheEvent(a,i)}}pushSingleEvent(e){let t=e.name,n=this.getAttributesData(e);this.pushOrCacheEvent(t,n)}pushEvent(e){if(this.isObserved){if(this.singleEventsToAccept.includes(e.name))return void this.pushSingleEvent(e);this.pushTupleEvent(e)}}getPendingEventData(e,t){let n=this.pendingEvents[e];return t&&n?n.scene_id===t?n:void 0:n}getErrorSource(e,t){var n,i;let r=null!==(n=null==e?void 0:e.message)&&void 0!==n?n:e,a=null!==(i=null==e?void 0:e.error_source)&&void 0!==i?i:eV.TEMPLATE;return(null==t?void 0:t.errorSource)&&(a=t.errorSource),(X.includes(r)||/(Failed to load|Unable to load).*/i.test(r))&&(a=eV.RESOURCE),a}constructor(e=L(),t=z(),n=j(),i=R(),r=et(),a=U(),o=H()){super(),this.tokenService=e,this.placementTypeService=t,this.environmentService=n,this.mraidService=i,this.errorLoggingReportingService=r,this.singleEventsToAccept=a,this.eventTuplesToAccept=o,this.isObserved=!1,this.eventTupleDataStack=new k,this.pendingEvents={}}},ei=(e=L())=>J(e)&&e.has(y.INCENTIVIZED_CLOSE_BUTTON_DELAY_SECONDS)?Number(e.get(y.INCENTIVIZED_CLOSE_BUTTON_DELAY_SECONDS)):e.has(y.CLOSE_BUTTON_DELAY_SECONDS)?Number(e.get(y.CLOSE_BUTTON_DELAY_SECONDS)):0;const er="scenes-key",ea="gdpr";var eo=(e=r.getInstance())=>e.get(er);(eC=eM||(eM={})).closed="closed",eC.endcard="endcard",eC.gdpr="gdpr",eC.image="image",eC.video="video",(eO=eb||(eb={}))[eO.OFF=0]="OFF",eO[eO.SKO=1]="SKO",eO[eO.SKPV=2]="SKPV",eO[eO.STATIC_URL=3]="STATIC_URL",(eA=ek||(ek={})).CLICK_THROUGH="clickThrough",eA.COMPLETE="complete",eA.CREATIVE_VIEW="creativeView",eA.FIRST_QUARTILE="firstQuartile",eA.MIDPOINT="midpoint",eA.START="start",eA.THIRD_QUARTILE="thirdQuartile";var es=(e,t=z(),n=ei())=>!!(t.isBanner()||t.isMrec()||t.isInLine())||!!n&&(9999===n||n>e);const el="mute-button",ed="#555FFF";var ec,eu,eE,e_,ev,eT,eS,eh,ep,eg,eC,eO,eA,eI,ef,eN,em,eD,eR,eL,ey,eP,eV,ew,eM,eb,ek,eU,eB,eH,eW,eF,ex,eG,eY,eK,eX,ej,ez=class extends a{static getServiceIdentifier(){return"GlobalTimerServiceInterface"}isEnabled(){let e=Q(this.tokenService.get(y.GLOBAL_TIMER)),t=Number(this.tokenService.get(y.GLOBAL_TIMER_FIRST_PAGE_SHOW_PERCENT)),n=this.injectedGetScenes().some((e=>e.getSceneType()===eM.video)),i=this.injectedGetScenes().some((e=>this.endcardTypes.includes(e.getSceneType())));return e&&t>=1&&t<=100&&n&&i}getTotalCloseButtonDelaySeconds(){let e=()=>{let e=this.tokenService.get(y.MAX_AD_DURATION);return void 0===e||"-1"===e?60:Number(e)},t=9999===ei(this.tokenService),n=()=>{var t,n,i,r,a;let o=e(),s=this.injectedGetScenes().find((e=>this.endcardTypes.includes(e.getSceneType()))),l=[eM.endcard,eM.image].includes(null==s||null===(t=s.next)||void 0===t?void 0:t.getSceneType()),d=null==s?void 0:s.getLastChanceEndcardConfig().enabled;return l&&(o-=null!==(i=null===(n=null==s?void 0:s.next)||void 0===n?void 0:n.getCloseButtonConfig().delay)&&void 0!==i?i:0),d&&(o-=null!==(a=null==s||null===(r=s.getLastChanceEndcardConfig().close)||void 0===r?void 0:r.delay)&&void 0!==a?a:0),o>=0?o:0};return t?n():(()=>{var t,i;let r=e(),a=this.injectedGetScenes().find((e=>e.getSceneType()===eM.video)),o=this.injectedGetScenes().find((e=>this.endcardTypes.includes(e.getSceneType()))),s=(null!==(t=null==a?void 0:a.getCloseButtonConfig().delay)&&void 0!==t?t:0)+(null!==(i=null==o?void 0:o.getCloseButtonConfig().delay)&&void 0!==i?i:0);return s>=r?n():s})()}getVideoPageCloseButtonDelaySeconds(){let e=this.getTotalCloseButtonDelaySeconds();return Number(this.tokenService.get(y.GLOBAL_TIMER_FIRST_PAGE_SHOW_PERCENT))/100*e}hasReachedVideoPageCloseButtonDelaySeconds(){return this.totalDelaySecondsConsumed>=this.getVideoPageCloseButtonDelaySeconds()}setTotalDelaySecondsConsumed(e){this.totalDelaySecondsConsumed=e}isVideoSkipped(){return this.reportingService.getActivityEvents().filter((e=>e.type===ey.EVENT&&"observability"===e.eventType&&e.data.name===eP.VIDEO_SKIP_TO_ENDCARD)).length>0}getEndcardPageCloseButtonDelaySeconds(){return this.isVideoSkipped()&&(this.totalDelaySecondsConsumed=this.getVideoPageCloseButtonDelaySeconds()),this.getTotalCloseButtonDelaySeconds()-this.totalDelaySecondsConsumed}constructor(e=L(),t=ee(),n=eo){super(),this.tokenService=e,this.reportingService=t,this.injectedGetScenes=n,this.totalDelaySecondsConsumed=0,this.endcardTypes=[eM.endcard,eM.image]}},e$=class extends a{isViewable(){var e;return this.viewableIsSet?this.viewable:!!(null===(e=this.mraidService.getMraid())||void 0===e?void 0:e.isViewable())}resetViewable(){this.viewable=!1,this.viewableIsSet=!1}setViewable(e){this.viewable=e,this.viewableIsSet=!0}static getServiceIdentifier(){return"ViewableServiceInterface"}constructor(e=R()){super(),this.mraidService=e,this.viewable=!1,this.viewableIsSet=!1}},eq={},eZ=[],eQ=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,eJ=Array.isArray;function e0(e,t){for(var n in t)e[n]=t[n];return e}function e1(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function e2(e,t,n,i,r){var a={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==r?++eH:r,__i:-1,__u:0};return null==r&&null!=eB.vnode&&eB.vnode(a),a}function e3(e){return e.children}function e5(e,t){this.props=e,this.context=t}function e4(e,t){if(null==t)return e.__?e4(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?e4(e):null}function e6(e){(!e.__d&&(e.__d=!0)&&eF.push(e)&&!e8.__r++||ex!==eB.debounceRendering)&&((ex=eB.debounceRendering)||eG)(e8)}function e8(){var e,t,n,i,r,a,o,s;for(eF.sort(eY);e=eF.shift();)e.__d&&(t=eF.length,i=void 0,a=(r=(n=e).__v).__e,o=[],s=[],n.__P&&((i=e0({},r)).__v=r.__v+1,eB.vnode&&eB.vnode(i),tn(n.__P,i,r,n.__n,n.__P.namespaceURI,32&r.__u?[a]:null,o,null==a?e4(r):a,!!(32&r.__u),s),i.__v=r.__v,i.__.__k[i.__i]=i,ti(o,i,s),i.__e!=a&&function e(t){var n,i;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if(null!=(i=t.__k[n])&&null!=i.__e){t.__e=t.__c.base=i.__e;break}return e(t)}}(i)),eF.length>t&&eF.sort(eY));e8.__r=0}function e7(e,t,n,i,r,a,o,s,l,d,c){var E,u,_,v,T,h=i&&i.__k||eZ,S=t.length;for(n.__d=l,function(e,t,n){var i,r,a,o,s,l=t.length,d=n.length,c=d,E=0;for(e.__k=[],i=0;i<l;i++)null!=(r=t[i])&&"boolean"!=typeof r&&"function"!=typeof r?(o=i+E,(r=e.__k[i]="string"==typeof r||"number"==typeof r||"bigint"==typeof r||r.constructor==String?e2(null,r,null,null,null):eJ(r)?e2(e3,{children:r},null,null,null):void 0===r.constructor&&r.__b>0?e2(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=e,r.__b=e.__b+1,a=null,-1!==(s=r.__i=function(e,t,n,i){var r=e.key,a=e.type,o=n-1,s=n+1,l=t[n];if(null===l||l&&r==l.key&&a===l.type&&!(131072&l.__u))return n;if(i>(null==l||131072&l.__u?0:1))for(;o>=0||s<t.length;){if(o>=0){if((l=t[o])&&!(131072&l.__u)&&r==l.key&&a===l.type)return o;o--}if(s<t.length){if((l=t[s])&&!(131072&l.__u)&&r==l.key&&a===l.type)return s;s++}}return-1}(r,n,o,c))&&(c--,(a=n[s])&&(a.__u|=131072)),null==a||null===a.__v?(-1==s&&E--,"function"!=typeof r.type&&(r.__u|=65536)):s!==o&&(s==o-1?E--:s==o+1?E++:(s>o?E--:E++,r.__u|=65536))):r=e.__k[i]=null;if(c)for(i=0;i<d;i++)null!=(a=n[i])&&!(131072&a.__u)&&(a.__e==e.__d&&(e.__d=e4(a)),function e(t,n,i){var r,a;if(eB.unmount&&eB.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||tr(r,null,n)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){eB.__e(e,n)}r.base=r.__P=null}if(r=t.__k)for(a=0;a<r.length;a++)r[a]&&e(r[a],n,i||"function"!=typeof t.type);i||e1(t.__e),t.__c=t.__=t.__e=t.__d=void 0}(a,a))}(n,t,h),l=n.__d,E=0;E<S;E++)null!=(_=n.__k[E])&&(u=-1===_.__i?eq:h[_.__i]||eq,_.__i=E,tn(e,_,u,r,a,o,s,l,d,c),v=_.__e,_.ref&&u.ref!=_.ref&&(u.ref&&tr(u.ref,null,_),c.push(_.ref,_.__c||v,_)),null==T&&null!=v&&(T=v),65536&_.__u||u.__k===_.__k?l=function e(t,n,i){var r,a;if("function"==typeof t.type){for(r=t.__k,a=0;r&&a<r.length;a++)r[a]&&(r[a].__=t,n=e(r[a],n,i));return n}t.__e!=n&&(n&&t.type&&!i.contains(n)&&(n=e4(t)),i.insertBefore(t.__e,n||null),n=t.__e);do{n=n&&n.nextSibling}while(null!=n&&8===n.nodeType);return n}(_,l,e):"function"==typeof _.type&&void 0!==_.__d?l=_.__d:v&&(l=v.nextSibling),_.__d=void 0,_.__u&=-196609);n.__d=l,n.__e=T}function e9(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||eQ.test(t)?n:n+"px"}function te(e,t,n,i,r){var a;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||e9(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||e9(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?i?n.u=i.u:(n.u=eK,e.addEventListener(t,a?ej:eX,a)):e.removeEventListener(t,a?ej:eX,a);else{if("http://www.w3.org/2000/svg"==r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function tt(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=eK++;else if(t.t<n.u)return;return n(eB.event?eB.event(t):t)}}}function tn(e,t,n,i,r,a,o,s,l,d){var c,E,u,_,v,T,h,S,p,g,C,O,A,I,f,N,m=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(l=!!(32&n.__u),a=[s=t.__e=n.__e]),(c=eB.__b)&&c(t);e:if("function"==typeof m)try{if(S=t.props,p="prototype"in m&&m.prototype.render,g=(c=m.contextType)&&i[c.__c],C=c?g?g.props.value:c.__:i,n.__c?h=(E=t.__c=n.__c).__=E.__E:(p?t.__c=E=new m(S,C):(t.__c=E=new e5(S,C),E.constructor=m,E.render=ta),g&&g.sub(E),E.props=S,E.state||(E.state={}),E.context=C,E.__n=i,u=E.__d=!0,E.__h=[],E._sb=[]),p&&null==E.__s&&(E.__s=E.state),p&&null!=m.getDerivedStateFromProps&&(E.__s==E.state&&(E.__s=e0({},E.__s)),e0(E.__s,m.getDerivedStateFromProps(S,E.__s))),_=E.props,v=E.state,E.__v=t,u)p&&null==m.getDerivedStateFromProps&&null!=E.componentWillMount&&E.componentWillMount(),p&&null!=E.componentDidMount&&E.__h.push(E.componentDidMount);else{if(p&&null==m.getDerivedStateFromProps&&S!==_&&null!=E.componentWillReceiveProps&&E.componentWillReceiveProps(S,C),!E.__e&&(null!=E.shouldComponentUpdate&&!1===E.shouldComponentUpdate(S,E.__s,C)||t.__v===n.__v)){for(t.__v!==n.__v&&(E.props=S,E.state=E.__s,E.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some((function(e){e&&(e.__=t)})),O=0;O<E._sb.length;O++)E.__h.push(E._sb[O]);E._sb=[],E.__h.length&&o.push(E);break e}null!=E.componentWillUpdate&&E.componentWillUpdate(S,E.__s,C),p&&null!=E.componentDidUpdate&&E.__h.push((function(){E.componentDidUpdate(_,v,T)}))}if(E.context=C,E.props=S,E.__P=e,E.__e=!1,A=eB.__r,I=0,p){for(E.state=E.__s,E.__d=!1,A&&A(t),c=E.render(E.props,E.state,E.context),f=0;f<E._sb.length;f++)E.__h.push(E._sb[f]);E._sb=[]}else do{E.__d=!1,A&&A(t),c=E.render(E.props,E.state,E.context),E.state=E.__s}while(E.__d&&++I<25);E.state=E.__s,null!=E.getChildContext&&(i=e0(e0({},i),E.getChildContext())),p&&!u&&null!=E.getSnapshotBeforeUpdate&&(T=E.getSnapshotBeforeUpdate(_,v)),e7(e,eJ(N=null!=c&&c.type===e3&&null==c.key?c.props.children:c)?N:[N],t,n,i,r,a,o,s,l,d),E.base=t.__e,t.__u&=-161,E.__h.length&&o.push(E),h&&(E.__E=E.__=null)}catch(e){if(t.__v=null,l||null!=a){for(t.__u|=l?160:128;s&&8===s.nodeType&&s.nextSibling;)s=s.nextSibling;a[a.indexOf(s)]=null,t.__e=s}else t.__e=n.__e,t.__k=n.__k;eB.__e(e,t,n)}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,i,r,a,o,s,l){var d,c,E,u,_,v,T,h=n.props,S=t.props,p=t.type;if("svg"===p?r="http://www.w3.org/2000/svg":"math"===p?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),null!=a)for(d=0;d<a.length;d++)if((_=a[d])&&"setAttribute"in _==!!p&&(p?_.localName===p:3===_.nodeType)){e=_,a[d]=null;break}if(null==e){if(null===p)return document.createTextNode(S);e=document.createElementNS(r,p,S.is&&S),s&&(eB.__m&&eB.__m(t,a),s=!1),a=null}if(null===p)h===S||s&&e.data===S||(e.data=S);else{if(a=a&&eU.call(e.childNodes),h=n.props||eq,!s&&null!=a)for(h={},d=0;d<e.attributes.length;d++)h[(_=e.attributes[d]).name]=_.value;for(d in h)if(_=h[d],"children"==d);else if("dangerouslySetInnerHTML"==d)E=_;else if(!(d in S)){if("value"==d&&"defaultValue"in S||"checked"==d&&"defaultChecked"in S)continue;te(e,d,null,_,r)}for(d in S)_=S[d],"children"==d?u=_:"dangerouslySetInnerHTML"==d?c=_:"value"==d?v=_:"checked"==d?T=_:s&&"function"!=typeof _||h[d]===_||te(e,d,_,h[d],r);if(c)s||E&&(c.__html===E.__html||c.__html===e.innerHTML)||(e.innerHTML=c.__html),t.__k=[];else if(E&&(e.innerHTML=""),e7(e,eJ(u)?u:[u],t,n,i,"foreignObject"===p?"http://www.w3.org/1999/xhtml":r,a,o,a?a[0]:n.__k&&e4(n,0),s,l),null!=a)for(d=a.length;d--;)e1(a[d]);s||(d="value","progress"===p&&null==v?e.removeAttribute("value"):void 0===v||v===e[d]&&("progress"!==p||v)&&("option"!==p||v===h[d])||te(e,d,v,h[d],r),d="checked",void 0!==T&&T!==e[d]&&te(e,d,T,h[d],r))}return e}(n.__e,t,n,i,r,a,o,l,d);(c=eB.diffed)&&c(t)}function ti(e,t,n){t.__d=void 0;for(var i=0;i<n.length;i++)tr(n[i],n[++i],n[++i]);eB.__c&&eB.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){eB.__e(e,t.__v)}}))}function tr(e,t,n){try{if("function"==typeof e){var i="function"==typeof e.__u;i&&e.__u(),i&&null==t||(e.__u=e(t))}else e.current=t}catch(e){eB.__e(e,n)}}function ta(e,t,n){return this.constructor(e,n)}eU=eZ.slice,eB={__e:function(e,t,n,i){for(var r,a,o;t=t.__;)if((r=t.__c)&&!r.__)try{if((a=r.constructor)&&null!=a.getDerivedStateFromError&&(r.setState(a.getDerivedStateFromError(e)),o=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,i||{}),o=r.__d),o)return r.__E=r}catch(t){e=t}throw e}},eH=0,eW=function(e){return null!=e&&null==e.constructor},e5.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=e0({},this.state),"function"==typeof e&&(e=e(e0({},n),this.props)),e&&e0(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),e6(this))},e5.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),e6(this))},e5.prototype.render=e3,eF=[],eG="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,eY=function(e,t){return e.__v.__b-t.__v.__b},e8.__r=0,eK=0,eX=tt(!1),ej=tt(!0);var to,ts,tl,td,tc=0,tu=[],tE=eB,t_=tE.__b,tv=tE.__r,tT=tE.diffed,tS=tE.__c,th=tE.unmount,tp=tE.__;function tg(e,t){tE.__h&&tE.__h(ts,e,tc||t),tc=0;var n=ts.__H||(ts.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function tC(e,t){var n=tg(to++,3);!tE.__s&&tD(n.__H,t)&&(n.__=e,n.i=t,ts.__H.__h.push(n))}function tO(e){return tc=5,tA((function(){return{current:e}}),[])}function tA(e,t){var n=tg(to++,7);return tD(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function tI(){for(var e;e=tu.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(tN),e.__H.__h.forEach(tm),e.__H.__h=[]}catch(t){e.__H.__h=[],tE.__e(t,e.__v)}}tE.__b=function(e){ts=null,t_&&t_(e)},tE.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),tp&&tp(e,t)},tE.__r=function(e){tv&&tv(e),to=0;var t=(ts=e.__c).__H;t&&(tl===ts?(t.__h=[],ts.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.i=e.__N=void 0}))):(t.__h.forEach(tN),t.__h.forEach(tm),t.__h=[],to=0)),tl=ts},tE.diffed=function(e){tT&&tT(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==tu.push(t)&&td===tE.requestAnimationFrame||((td=tE.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(i),tf&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);tf&&(t=requestAnimationFrame(n))})(tI)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.i=void 0}))),tl=ts=null},tE.__c=function(e,t){t.some((function(e){try{e.__h.forEach(tN),e.__h=e.__h.filter((function(e){return!e.__||tm(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],tE.__e(n,e.__v)}})),tS&&tS(e,t)},tE.unmount=function(e){th&&th(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{tN(e)}catch(e){t=e}})),n.__H=void 0,t&&tE.__e(t,n.__v))};var tf="function"==typeof requestAnimationFrame;function tN(e){var t=ts,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),ts=t}function tm(e){var t=ts;e.__c=e.__(),ts=t}function tD(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function tR(e,t){return"function"==typeof t?t(e):t}var tL=Symbol.for("preact-signals");function ty(){if(tw>1)tw--;else{for(var e,t=!1;void 0!==tV;){var n=tV;for(tV=void 0,tM++;void 0!==n;){var i=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&tH(n))try{n.c()}catch(n){t||(e=n,t=!0)}n=i}}if(tM=0,tw--,t)throw e}}var tP=void 0,tV=void 0,tw=0,tM=0,tb=0;function tk(e){if(void 0!==tP){var t=e.n;if(void 0===t||t.t!==tP)return t={i:0,S:e,p:tP.s,n:void 0,t:tP,e:void 0,x:void 0,r:t},void 0!==tP.s&&(tP.s.n=t),tP.s=t,e.n=t,32&tP.f&&e.S(t),t;if(-1===t.i)return t.i=0,void 0!==t.n&&(t.n.p=t.p,void 0!==t.p&&(t.p.n=t.n),t.p=tP.s,t.n=void 0,tP.s.n=t,tP.s=t),t}}function tU(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}function tB(e){return new tU(e)}function tH(e){for(var t=e.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function tW(e){for(var t=e.s;void 0!==t;t=t.n){var n=t.S.n;if(void 0!==n&&(t.r=n),t.S.n=t,t.i=-1,void 0===t.n){e.s=t;break}}}function tF(e){for(var t=e.s,n=void 0;void 0!==t;){var i=t.p;-1===t.i?(t.S.U(t),void 0!==i&&(i.n=t.n),void 0!==t.n&&(t.n.p=i)):n=t,t.S.n=t.r,void 0!==t.r&&(t.r=void 0),t=i}e.s=n}function tx(e){tU.call(this,void 0),this.x=e,this.s=void 0,this.g=tb-1,this.f=4}function tG(e){var t=e.u;if(e.u=void 0,"function"==typeof t){tw++;var n=tP;tP=void 0;try{t()}catch(t){throw e.f&=-2,e.f|=8,tY(e),t}finally{tP=n,ty()}}}function tY(e){for(var t=e.s;void 0!==t;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,tG(e)}function tK(e){if(tP!==this)throw Error("Out-of-order effect");tF(this),tP=e,this.f&=-2,8&this.f&&tY(this),ty()}function tX(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function tj(e){var t=new tX(e);try{t.c()}catch(e){throw t.d(),e}return t.d.bind(t)}function tz(e,t){eB[e]=t.bind(null,eB[e]||function(){})}function t$(e){EE&&EE(),EE=e&&e.S()}function tq(e){var t=this,n=e.data,i=tZ(n);i.value=n;var r=tA((function(){for(var e=t.__v;e=e.__;)if(e.__c){e.__c.__$f|=4;break}return t.__$u.c=function(){var e;eW(r.peek())||3!==(null==(e=t.base)?void 0:e.nodeType)?(t.__$f|=1,t.setState({})):t.base.data=r.peek()},new tx((function(){var e=i.value.value;return 0===e?0:!0===e?"":e||""}))}),[]);return r.value}function tZ(e){return tA((function(){return tB(e)}),[])}function tQ(e){var t=tO(e);t.current=e,tC((function(){return tj((function(){return t.current()}))}),[])}tU.prototype.brand=tL,tU.prototype.h=function(){return!0},tU.prototype.S=function(e){this.t!==e&&void 0===e.e&&(e.x=this.t,void 0!==this.t&&(this.t.e=e),this.t=e)},tU.prototype.U=function(e){if(void 0!==this.t){var t=e.e,n=e.x;void 0!==t&&(t.x=n,e.e=void 0),void 0!==n&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n)}},tU.prototype.subscribe=function(e){var t=this;return tj((function(){var n=t.value,i=tP;tP=void 0;try{e(n)}finally{tP=i}}))},tU.prototype.valueOf=function(){return this.value},tU.prototype.toString=function(){return this.value+""},tU.prototype.toJSON=function(){return this.value},tU.prototype.peek=function(){var e=tP;tP=void 0;try{return this.value}finally{tP=e}},Object.defineProperty(tU.prototype,"value",{get:function(){var e=tk(this);return void 0!==e&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(tM>100)throw Error("Cycle detected");this.v=e,this.i++,tb++,tw++;try{for(var t=this.t;void 0!==t;t=t.x)t.t.N()}finally{ty()}}}}),(tx.prototype=new tU).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f)||(this.f&=-5,this.g===tb))return!0;if(this.g=tb,this.f|=1,this.i>0&&!tH(this))return this.f&=-2,!0;var e=tP;try{tW(this),tP=this;var t=this.x();(16&this.f||this.v!==t||0===this.i)&&(this.v=t,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return tP=e,tF(this),this.f&=-2,!0},tx.prototype.S=function(e){if(void 0===this.t){this.f|=36;for(var t=this.s;void 0!==t;t=t.n)t.S.S(t)}tU.prototype.S.call(this,e)},tx.prototype.U=function(e){if(void 0!==this.t&&(tU.prototype.U.call(this,e),void 0===this.t)){this.f&=-33;for(var t=this.s;void 0!==t;t=t.n)t.S.U(t)}},tx.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;void 0!==e;e=e.x)e.t.N()}},Object.defineProperty(tx.prototype,"value",{get:function(){if(1&this.f)throw Error("Cycle detected");var e=tk(this);if(this.h(),void 0!==e&&(e.i=this.i),16&this.f)throw this.v;return this.v}}),tX.prototype.c=function(){var e=this.S();try{if(8&this.f||void 0===this.x)return;var t=this.x();"function"==typeof t&&(this.u=t)}finally{e()}},tX.prototype.S=function(){if(1&this.f)throw Error("Cycle detected");this.f|=1,this.f&=-9,tG(this),tW(this),tw++;var e=tP;return tP=this,tK.bind(this,e)},tX.prototype.N=function(){2&this.f||(this.f|=2,this.o=tV,tV=this)},tX.prototype.d=function(){this.f|=8,1&this.f||tY(this)},tq.displayName="_st",Object.defineProperties(tU.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:tq},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}}),tz("__b",(function(e,t){if("string"==typeof t.type){var n,i=t.props;for(var r in i)if("children"!==r){var a=i[r];a instanceof tU&&(n||(t.__np=n={}),n[r]=a,i[r]=a.peek())}}e(t)})),tz("__r",(function(e,t){t$();var n,i,r=t.__c;r&&(r.__$f&=-2,void 0===(i=r.__$u))&&(r.__$u=(tj((function(){n=this})),n.c=function(){r.__$f|=1,r.setState({})},i=n)),t$(i),e(t)})),tz("__e",(function(e,t,n,i){t$(),e(t,n,i)})),tz("diffed",(function(e,t){if(t$(),"string"==typeof t.type&&(n=t.__e)){var n,i=t.__np,r=t.props;if(i){var a=n.U;if(a)for(var o in a){var s=a[o];void 0===s||o in i||(s.d(),a[o]=void 0)}else n.U=a={};for(var l in i){var d=a[l],c=i[l];void 0===d?(d=function(e,t,n,i){var r=t in e&&void 0===e.ownerSVGElement,a=tB(n);return{o:function(e,t){a.value=e,i=t},d:tj((function(){var n=a.value.value;i[t]!==n&&(i[t]=n,r?e[t]=n:n?e.setAttribute(t,n):e.removeAttribute(t))}))}}(n,l,c,r),a[l]=d):d.o(c,r)}}}e(t)})),tz("unmount",(function(e,t){if("string"==typeof t.type){var n=t.__e;if(n){var i=n.U;if(i)for(var r in n.U=void 0,i){var a=i[r];a&&a.d()}}}else{var o=t.__c;if(o){var s=o.__$u;s&&(o.__$u=void 0,s.d())}}e(t)})),tz("__h",(function(e,t,n,i){(i<3||9===i)&&(t.__$f|=2),e(t,n,i)})),e5.prototype.shouldComponentUpdate=function(e,t){var n=this.__$u;if(!(n&&void 0!==n.s||4&this.__$f)||3&this.__$f)return!0;for(var i in t)return!0;for(var r in e)if("__source"!==r&&e[r]!==this.props[r])return!0;for(var a in this.props)if(!(a in e))return!0;return!1};var tJ=class extends a{setMutedSignal(e){this.mutedSignal.value=e}getMutedSignal(){return this.mutedSignal}isMuted(){return this.mutedSignal.value}mute(){this.setMutedSignal(!0)}unmute(){this.setMutedSignal(!1)}static getServiceIdentifier(){return"MuteServiceInterface"}constructor(){super(),this.mutedSignal=tB(!1)}},t0=()=>{let e=r.getInstance(),t=g.getServiceIdentifier();return e.get(t)},t1="html",t2=e=>(null!=e?e:t0()).interpreterMap.get(t1);(c7=E_||(E_={})).SHOW="SHOW",c7.PRELOAD="PRELOAD",c7.CANCEL_PRELOAD="CANCEL_PRELOAD",(c9=Ev||(Ev={})).SHOWING="SHOWING",c9.PRELOADING="PRELOADING",c9.INITIAL="INITIAL",(ue=ET||(ET={})).INITIALIZE_PRELOAD="initializePreload",ue.EMIT_SHOW="emitShow",ue.TRIGGER_VIEWABLE_CHANGE="triggerViewableChange",ue.FLUSH_MRAID_EVENTS="flushMraidEvents",ue.CANCEL_PRELOAD="cancelPreload",(ut=ES||(ES={})).MUTE_SOUND="muteSound",ut.UN_MUTE_SOUND="unMuteSound",ut.EMIT_MUTED="emitMuted",ut.EMIT_VIDEO_ERROR="emitVideoError",ut.CLOSE_VIDEO="closeVideo",ut.CLOSE_VIDEO_CURRENT_SCENE="closeVideoCurrentScene",ut.PAUSE_VIDEO="pauseVideo",ut.PLAY_VIDEO="playVideo",ut.POSTROLL_VIEW="postrollView",ut.SEND_EVENT_VIDEO_SKIP_TO_NEXT_SCENE="sendEventVideoSkipToNextScene";var t3=ES;(un=Eh||(Eh={})).CLOSE_BUTTON_MOUNT="CLOSE_BUTTON_MOUNT",un.CLOSE_BUTTON_UNMOUNT="CLOSE_BUTTON_UNMOUNT",un.CLOSE_BUTTON_CLICK="CLOSE_BUTTON_CLICK",un.CLOSE_BUTTON_WILL_SHOW="CLOSE_BUTTON_WILL_SHOW",un.COMPLETE="COMPLETE",un.LAST_CHANCE_ENDCARD="LAST_CHANCE_ENDCARD",un.LAST_CHANCE_ENDCARD_CLOSE="LAST_CHANCE_ENDCARD_CLOSE",un.MUTE="MUTE",un.NEXT="NEXT",un.PRIVACY_LOGO_SHOW="PRIVACY_LOGO_SHOW",un.PRIVACY_LOGO_HIDE="PRIVACY_LOGO_HIDE",un.PRIVACY_BOTTOM_DRAWER_OPEN="PRIVACY_BOTTOM_DRAWER_OPEN",un.PRIVACY_BOTTOM_DRAWER_CLOSE="PRIVACY_BOTTOM_DRAWER_CLOSE",un.PRODUCT_VIEW_CLOSE="PRODUCT_VIEW_CLOSE",un.OPEN_PRIVACY_PAGE="OPEN_PRIVACY_PAGE",un.UNMUTE="UNMUTE",un.VIDEO_ERROR="VIDEO_ERROR",un.VIDEO_FAILURE="VIDEO_FAILURE",un.CLOSE="CLOSE",un.CREATIVE_VIEW="CREATIVE_VIEW";var t5=class{getObservabilityData(){return{}}getTransitions(){return this.transitions}addTransition(e){return this.transitions.push(e),this}addOrUpdateTransition(e){let t=this.getTransitions().find((t=>t.name===e.name));if(t){t.scene=e.scene,t.cond=e.cond;let n={};t.actions.forEach((e=>{n[e.name]=!0}));let i=e.actions.filter((e=>!n[e.name]));t.actions.push(...i)}else this.addTransition(e);return this}getEntryActions(){return this.entryActions}addEntryAction(e){return this.entryActions.push(e),this}getExitActions(){return this.exitActions}addExitAction(e){return this.exitActions.push(e),this}isAlternative(){return this.alternative}static getInstances(){return[]}constructor(){this.transitions=[],this.entryActions=[],this.exitActions=[],this.alternative=!1}},t4=()=>{let e=r.getInstance(),t=N.getServiceIdentifier();return e.get(t)};(ui=Ep||(Ep={})).PAUSE_INTERVALS="pauseAllIntervals",ui.START_INTERVALS="startAllIntervals";var t6=e=>({pauseAllIntervals:()=>{(e||t4()).pauseAll()},startAllIntervals:()=>{(e||t4()).startAll()}}),t8=()=>{let e=r.getInstance(),t=D.getServiceIdentifier();return e.get(t)};(ur=Eg||(Eg={})).STANDBY_TIMERS="standbyTimers",ur.WAKE_TIMERS="wakeTimers";var t7=e=>({standbyTimers:()=>{(e||t8()).standby()},wakeTimers:()=>{(e||t8()).wake()}});const t9={V4_9_0:new w("4.9.0"),V4_9_3:new w("4.9.3"),V5_0_0:new w("5.0.0"),V5_0_1:new w("5.0.1"),V5_1_2:new w("5.1.2"),V5_2_1:new w("5.2.1")};var ne=()=>ee();const nt=(e,t=["name"],n=ne())=>n.getActivityEvents().filter((n=>n.type===ey.EVENT&&"observability"===n.eventType&&t.every((t=>{var i;return(null===(i=n.data)||void 0===i?void 0:i[t])===e[t]})))).length;var nn=(e,t=Number.MAX_SAFE_INTEGER,n=["name"],i=ne())=>{t!==Number.MAX_SAFE_INTEGER&&nt(e,n,i)>=t||i.emit({type:"observability",event:ey.EVENT,data:e})};(ua=EC||(EC={})).OPEN_PRIVACY_URL="openPrivacyUrl",ua.SET_PRIVACY_BUTTON_VISIBLE="setPrivacyButtonVisible",ua.SET_PRIVACY_BUTTON_HIDDEN="setPrivacyButtonHidden",ua.SET_PRIVACY_DRAWER_OPEN="setPrivacyDrawerOpen",ua.SET_PRIVACY_DRAWER_CLOSED="setPrivacyDrawerClosed";var ni=()=>({setPrivacyButtonVisible:p({isPrivacyButtonVisible:!0}),setPrivacyButtonHidden:p({isPrivacyButtonVisible:!1}),openPrivacyUrl:()=>{var e,t;let n=j(),i=L(),r=n.getOperatingSystem(),a=r===eR.Android||r===eR.iOS&&n.getMraidVersion().isGreaterThanOrEqualTo(t9.V5_0_0),o=i.get(y.VUNGLE_PRIVACY_URL);nn({name:eP.PRIVACY_CTA});let s=R();a?null===(e=s.getMraidBridgeExt())||void 0===e||e.openPrivacy(o):null===(t=s.getMraid())||void 0===t||t.open(o)},setPrivacyDrawerOpen:p({isPrivacyDrawerOpen:!0}),setPrivacyDrawerClosed:p({isPrivacyDrawerOpen:!1})});(uo=EO||(EO={})).CLOSE="CLOSE",uo.FINISH="FINISH",uo.INTERRUPT="INTERRUPT",uo.SET_ERROR="SET_ERROR",uo.SET_PREPARED="SET_PREPARED",uo.READY="READY",uo.RESUME="RESUME",uo.SET_DISPLAY_OPTIONS="SET_DISPLAY_OPTIONS",uo.SET_FALLBACK="SET_FALLBACK",uo.SET_VISIBLE="SET_VISIBLE",uo.SHOW="SHOW",uo.START_DELAY_SHOW="START_DELAY_SHOW",uo.START_IMMEDIATE_SHOW="START_IMMEDIATE_SHOW",(us=EA||(EA={})).CLOSING="CLOSING",us.ERROR="ERROR",us.DELAY_SHOW="DELAY_SHOW",us.DELAY_SHOW_IMMEDIATE="DELAY_SHOW_IMMEDIATE",us.DELAY_SHOW_INTERRUPTED="DELAY_SHOW_INTERRUPTED",us.DELAY_SHOW_VISIBLE="DELAY_SHOW_VISIBLE",us.FALLBACK="FALLBACK",us.IDLE="IDLE",us.INITIAL="INITIAL",us.IMMEDIATE_SHOW="IMMEDIATE_SHOW",us.IMMEDIATE_SHOW_VISIBLE="IMMEDIATE_SHOW_VISIBLE",us.PREPARING="PREPARING",(ul=EI||(EI={})).ASSIGN_DISPLAY_OPTIONS="ASSIGN_DISPLAY_OPTIONS",ul.ASSIGN_FALLBACK="ASSIGN_FALLBACK",ul.CLOSE_SKO="CLOSE_SKO",ul.EMIT_OBSERVABILITY_EVENT="EMIT_OBSERVABILITY_EVENT",ul.SHOW_FALLBACK="SHOW_FALLBACK",ul.SHOW_SKO="SHOW_SKO";const nr=new w("6.4"),na=new w("6"),no=(e=j())=>e.getSdkVersion().isGreaterThanOrEqualTo(nr),ns=(e=j())=>e.getOperatingSystem()===eR.iOS&&e.getOsVersion().isGreaterThanOrEqualTo(na);var nl=(e=j())=>no(e)&&ns(e);(ud=Ef||(Ef={})).SKPV="SKPV",ud.APP_STORE="APP_STORE",ud.OFF="OFF";var nd=(e=j())=>{let t="APP_STORE";return nl(e)&&(t="SKPV"),t},nc=class extends a{canOpen(){return[EA.IDLE,EA.FALLBACK].some((e=>this.interpreter.state.matches(e)))}close(){this.interpreter.send({type:EO.CLOSE})}fallback(){this.interpreter.state.context.fallback!==Ef.OFF&&(this.interpreter.send({type:EO.SET_FALLBACK}),this.open())}finish(){this.interpreter.send({type:EO.FINISH})}init(){}interrupt(){this.interpreter.send({type:EO.INTERRUPT})}isIdle(){var e;return null!==(e=this.interpreter.state.matches(EA.IDLE))&&void 0!==e&&e}isInterrupted(){return[EA.CLOSING,EA.DELAY_SHOW_INTERRUPTED].some((e=>this.interpreter.state.matches(e)))}isOpen(){return[EA.DELAY_SHOW,EA.DELAY_SHOW_IMMEDIATE,EA.DELAY_SHOW_VISIBLE,EA.IMMEDIATE_SHOW,EA.IMMEDIATE_SHOW_VISIBLE].some((e=>this.interpreter.state.matches(e)))}open(e){let t={type:EO.START_IMMEDIATE_SHOW,fallback:null==e?void 0:e.fallback};(null==e?void 0:e.delayed)&&(t.type=this.interpreter.state.matches(EA.DELAY_SHOW)?EO.SHOW:EO.START_DELAY_SHOW),this.interpreter.send(t)}resume(){this.interpreter.send({type:EO.RESUME})}setDisplayOptions(e){this.interpreter.send({type:EO.SET_DISPLAY_OPTIONS,displayOptions:e})}subscribe(e){return this.interpreter.subscribe(e)}static getServiceIdentifier(){return"StoreKitOverlayServiceInterface"}constructor(e,t={},n=t0()){super(),this.machineConfig=e,this.machineOptions=t,this.stateMachineService=n;let i=this.stateMachineService.createMachine(this.machineConfig,this.machineOptions);this.interpreter=this.stateMachineService.interpret(i),this.interpreter.start()}},nu=()=>{let e=r.getInstance(),t=nc.getServiceIdentifier();if(e.has(t))return e.get(t)};(uc=EN||(EN={})).CLOSE_OVERLAY_VIEW="closeOverlayView",uc.INTERRUPT_OVERLAY_VIEW="interruptOverlayView",uc.RESUME_OVERLAY_VIEW="resumeOverlayView",uc.SHOW_OVERLAY_VIEW="showOverlayView";var nE=(e=nu)=>({closeOverlayView:()=>{let t=e();(null==t?void 0:t.isOpen())&&(null==t||t.close())},interruptOverlayView:()=>{let t=e();(null==t?void 0:t.isOpen())&&(null==t||t.interrupt())},resumeOverlayView:()=>{let t=e();(null==t?void 0:t.isInterrupted())&&(null==t||t.resume())},showOverlayView:()=>{let t=e();null!=t&&t.isOpen()||((null==t?void 0:t.isInterrupted())?null==t||t.resume():null==t||t.open())}});(uu=Em||(Em={})).START="start",uu.STOP="stop";var n_=Em,nv=()=>ee();(uE=ED||(ED={})).MINIMIZED="minimized",uE.MAXIMIZED="maximized";var nT=ED,nS=(e,t=ee())=>{let n,i,r=t.getActivity(),a=r.filter((e=>"event"===e.activity.type&&"viewability"===e.activity.eventType)),o=r.filter((e=>"event"===e.activity.type&&"observability"===e.activity.eventType)),s=[];a.forEach((e=>{let t=e.activity;t.name===nT.MINIMIZED?n=e:t.name===nT.MAXIMIZED&&n&&(s.push([n,e]),n=null)}));let l=0;s.forEach((e=>{l+=e[1].timestamp-e[0].timestamp}));let d=[];o.forEach((e=>{var t,n;let r=e.activity;(null===(t=r.data)||void 0===t?void 0:t.name)===eP.APP_STORE_OPEN?i=e:(null===(n=r.data)||void 0===n?void 0:n.name)===eP.APP_STORE_CLOSE&&i&&(d.push([i,e]),i=null)}));let c=0;return d.forEach((e=>{c+=e[1].timestamp-e[0].timestamp})),Date.now()-e-l+c};(ER||(ER={})).CLOSE_AD="CLOSE_AD";var nh=ER,np=class extends a{findObservabilityActivityEvent(e){return t=>{var n;if("eventType"in t.activity&&"observability"===t.activity.eventType&&(null===(n=t.activity.data)||void 0===n?void 0:n.name)===e)return t.activity}}getAdStartTime(){let e=this.reportingService.getActivity().find(this.findObservabilityActivityEvent(eP.AD_START));if(e)return new Date(e.timestamp)}getVideoEnd(){var e;let t=this.reportingService.getActivityEvents().find((e=>{var t;return"observability"===e.eventType&&(null===(t=e.data)||void 0===t?void 0:t.name)===eP.VIDEO_CLOSE}));if(null==t||null===(e=t.data)||void 0===e?void 0:e.maximumViewingTime)return Math.floor(1e3*t.data.maximumViewingTime)}getEndcardInteractions(){var e;let t=this.reportingService.getActivityEvents().find((e=>{var t,n;return"observability"===e.eventType&&(null===(t=e.data)||void 0===t?void 0:t.name)===eP.ENDCARD_SCENE_END&&"endcard_0"===(null===(n=e.data)||void 0===n?void 0:n.scene_id)}));return null==t||null===(e=t.data)||void 0===e?void 0:e.endcard_click_count}getEndcardDuration(){var e;let t=this.reportingService.getActivityEvents().find((e=>{var t,n;return"observability"===e.eventType&&(null===(t=e.data)||void 0===t?void 0:t.name)===eP.ENDCARD_SCENE_END&&"endcard_0"===(null===(n=e.data)||void 0===n?void 0:n.scene_id)}));return null==t||null===(e=t.data)||void 0===e?void 0:e.duration}getVideoCloseShown(){let e=this.reportingService.getActivity(),t=e.find(this.findObservabilityActivityEvent(eP.VIDEO_START)),n=e.find(this.findObservabilityActivityEvent(eP.VIDEO_CLOSE_BUTTON_SHOW));if(t&&n)return n.timestamp-t.timestamp}getEndcardCloseShown(){let e=this.reportingService.getActivity(),t=e.find(this.findObservabilityActivityEvent(eP.ENDCARD_START)),n=e.find(this.findObservabilityActivityEvent(eP.ENDCARD_CLOSE_BUTTON_SHOW));if(t&&n)return n.timestamp-t.timestamp}getEndcardInteractionsAfterCloseButton(){return this.reportingService.getActivityEvents().filter((e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.name)===eP.INTERACTION_AFTER_CLOSE_BUTTON_VISIBLE})).length}addRecord(){var e,t,n;let i={eventId:null!==(e=this.tokenService.get(y.SESSION_ID))&&void 0!==e?e:"",creativeId:null!==(t=this.tokenService.get(y.CREATIVE_ID))&&void 0!==t?t:"",adSource:this.tokenService.get(y.AD_SOURCE),placementType:this.placementTypeService.getPlacementType(),time:this.getAdStartTime(),videoUrl:null!==(n=this.tokenService.get(y.ORIGINAL_VIDEO_URL))&&void 0!==n?n:this.tokenService.get(y.MAIN_STREAM),videoStart:0,videoEnd:this.getVideoEnd(),endcardInteractions:this.getEndcardInteractions(),endcardDuration:this.getEndcardDuration(),videoCloseShown:this.getVideoCloseShown(),endcardCloseShown:this.getEndcardCloseShown(),endcardInteractionsAfterCloseButton:this.getEndcardInteractionsAfterCloseButton(),rewarded:this.rewarded,createDate:Date.now()};return this.indexedDatabaseService.addRecord(i)}getAllRecords(){return this.indexedDatabaseService.getAllRecords()}clearStore(){this.indexedDatabaseService.clearStore()}deleteExpiredRecords(){return this.indexedDatabaseService.deleteExpiredRecords()}static getIndexedDatabaseConfig(){return{storeName:"userActivity",keyPath:"eventId",expiry:90}}static getServiceIdentifier(){return"UserActivityServiceInterface"}constructor(e,t=L(),n=nv(),i=z(),r=J(t)){super(),this.indexedDatabaseService=e,this.tokenService=t,this.reportingService=n,this.placementTypeService=i,this.rewarded=r}},ng=()=>{let e=r.getInstance();if(e.has(np.getServiceIdentifier()))return e.get(np.getServiceIdentifier())},nC=(e=t8(),t=nv(),n=r.getInstance().startTimestamp,i=nn,a=ng)=>{var o;e.destroyAll(),t.emit({type:"heartbeat",event:n_.STOP}),i({name:eP.AD_CLOSE,ad_duration:nS(n,t)},void 0,void 0,t),null===(o=a())||void 0===o||o.addRecord(),t.emit({type:"close",event:nh.CLOSE_AD,fireOnlyOnce:!0})};(u_=EL||(EL={})).CLOSE="CLOSE",u_.OPEN="OPEN",u_.PREPARE_FINISHED="PREPARE_FINISHED",u_.PREPARE_SUCCESS="PREPARE_SUCCESS",u_.READY="READY",u_.SET_FALLBACK="SET_FALLBACK",(uv=Ey||(Ey={})).FALLBACK="FALLBACK",uv.HIDDEN="HIDDEN",uv.INITIAL="INITIAL",uv.PREPARING="PREPARING",uv.SHOWING="SHOWING",uv.DONE="DONE";var nO=class extends a{isDone(){var e,t;return null!==(t=null===(e=this.interpreter)||void 0===e?void 0:e.state.matches(Ey.DONE))&&void 0!==t&&t}canOpen(){var e,t,n;return null!==(n=(null===(e=this.interpreter)||void 0===e?void 0:e.state.matches(Ey.HIDDEN))||(null===(t=this.interpreter)||void 0===t?void 0:t.state.matches(Ey.FALLBACK)))&&void 0!==n&&n}close(){var e;null===(e=this.interpreter)||void 0===e||e.send({type:EL.CLOSE})}fallback(){}init(){}isOpen(){var e,t;return null!==(t=null===(e=this.interpreter)||void 0===e?void 0:e.state.matches(Ey.SHOWING))&&void 0!==t&&t}open(e){var t;this.hasFallback=e,null===(t=this.interpreter)||void 0===t||t.send({type:EL.OPEN})}subscribe(e){var t;return null===(t=this.interpreter)||void 0===t?void 0:t.subscribe(e)}static getServiceIdentifier(){return"ProductViewServiceInterface"}constructor(e,t={},n=t0()){super(),this.machineConfig=e,this.machineOptions=t,this.stateMachineService=n;let i=this.stateMachineService.createMachine(this.machineConfig,this.machineOptions);this.interpreter=this.stateMachineService.interpret(i),this.interpreter.start()}},nA=()=>{let e=r.getInstance(),t=nO.getServiceIdentifier();if(e.has(t))return e.get(t)},nI=(e=j())=>e.getSdkVersion().isLessThan(new w("7"))&&e.getOrientation()===eL.LANDSCAPE;const nf=new w("14"),nN=new w("6.8.1"),nm=(e=j())=>e.getOperatingSystem()===eR.iOS&&e.getOsVersion().isGreaterThanOrEqualTo(nf),nD=(e=j())=>e.getSdkVersion().isGreaterThanOrEqualTo(nN);var nR=(e=j(),t=z())=>nm(e)&&nD(e)&&!(t.isMrec()||t.isBanner()||t.isInLine());(uT=EP||(EP={})).SHOW_PRODUCT_VIEW="showProductView",uT.HIDE_PRODUCT_VIEW="hideProductView",uT.END_AD_ON_PRODUCT_VIEW_CLOSE="endAdOnProductViewClose",uT.EMIT_TRANSITION_OPEN_OBSERVABILITY_EVENT="emitTransitionOpenObservabilityEvent";const nL=()=>({showProductView:()=>{if(nI()&&nR()){let e=nu();return void((null==e?void 0:e.canOpen())&&e.open({fallback:Ef.OFF}))}let e=nA();null==e||e.open(!1)},hideProductView:()=>{},endAdOnProductViewClose:()=>{j().getSdkVersion().isEqualTo(b.sdkSeven)&&nl()&&ee().addEventHandler("viewability",((e,t)=>{t.event===nT.MAXIMIZED&&nC()}))},emitTransitionOpenObservabilityEvent:()=>{nn({name:eP.APP_STORE_ON_FIRST_TRANSITION_START})}});var ny=()=>nl()?nL():void 0;const nP={name:Eh.PRIVACY_LOGO_SHOW,actions:[{name:EC.SET_PRIVACY_BUTTON_VISIBLE}]},nV={name:Eh.PRIVACY_LOGO_HIDE,actions:[{name:EC.SET_PRIVACY_BUTTON_HIDDEN}]},nw=e=>({name:Eh.PRIVACY_BOTTOM_DRAWER_OPEN,actions:e?[{name:EC.SET_PRIVACY_DRAWER_OPEN},{name:t3.PAUSE_VIDEO},{name:Ep.PAUSE_INTERVALS},{name:Eg.STANDBY_TIMERS},{name:EN.INTERRUPT_OVERLAY_VIEW}]:[{name:EC.OPEN_PRIVACY_URL}]}),nM={name:Eh.PRIVACY_BOTTOM_DRAWER_CLOSE,actions:[{name:t3.PLAY_VIDEO},{name:EC.SET_PRIVACY_DRAWER_CLOSED},{name:Ep.START_INTERVALS},{name:Eg.WAKE_TIMERS},{name:EN.RESUME_OVERLAY_VIEW}]},nb={name:Eh.OPEN_PRIVACY_PAGE,actions:[{name:EC.OPEN_PRIVACY_URL}]},nk={name:Eh.PRODUCT_VIEW_CLOSE,actions:[{name:EP.END_AD_ON_PRODUCT_VIEW_CLOSE}]};var nU=function(e){return!!e&&"function"==typeof e.getLastChanceEndcardConfig},nB=class extends t5{getTransitions(){return super.getTransitions().concat(nV,nP,nw(this.isFullscreen),nM,nb)}isLastPage(){var e;return!(nU(this)&&this.getLastChanceEndcardConfig().enabled||(null===(e=this.next)||void 0===e?void 0:e.getSceneType())!==eM.closed)}constructor({isFullscreen:e}){super(),this.isFullscreen=e}};(uS=EV||(EV={}))[uS.CLOSE=0]="CLOSE",uS[uS.SKIP=1]="SKIP",(uh=Ew||(Ew={})).SET_CLOSE_BUTTON_VISIBLE="setCloseButtonVisible",uh.EMIT_CLOSE_BUTTON_SHOW="emitCloseButtonShow",uh.EMIT_CLOSE_BUTTON_CLICK="emitCloseButtonClick",uh.SET_CLOSE_BUTTON_HIDDEN="setCloseButtonHidden";var nH=EV;const nW={name:Eh.MUTE,actions:[{name:t3.MUTE_SOUND},{name:t3.EMIT_MUTED}]},nF={name:Eh.UNMUTE,actions:[{name:t3.UN_MUTE_SOUND},{name:t3.EMIT_MUTED}]},nx={name:Eh.VIDEO_ERROR,actions:[{name:t3.EMIT_VIDEO_ERROR}]},nG={name:Eh.CLOSE_BUTTON_MOUNT,actions:[{name:Ew.SET_CLOSE_BUTTON_VISIBLE}]},nY={name:Eh.CLOSE_BUTTON_UNMOUNT,actions:[{name:Ew.SET_CLOSE_BUTTON_HIDDEN}]},nK={name:Eh.CLOSE_BUTTON_CLICK,actions:[{name:Ew.EMIT_CLOSE_BUTTON_CLICK}]},nX={name:Eh.CLOSE_BUTTON_WILL_SHOW,actions:[{name:Ew.EMIT_CLOSE_BUTTON_SHOW}]};(up=EM||(EM={})).OFF="off",up.SKO="overlay_view",up.SKP="product_view",up.DEFAULT="default";var nj=e=>{switch(e){case"off":return eb.OFF;case"overlay_view":return eb.SKO;default:return eb.SKPV}},nz=class{getFullScreenClickConfig(){return{enabled:(()=>{if(this.placementType!==eN.FULLSCREEN)return!0;let e=this.skOverlayAutoTokenValue,t=this.fullCtaOptionTokenValue,n=this.fullCtaTokenValue;return"fsc_off"!==t&&("true"===e||"true"===n)})(),id:this.id,target:[eN.BANNER,eN.MREC].includes(this.placementType)?eb.SKPV:nj(this.skFullCtaTokenValue)}}constructor({skOverlayAutoTokenValue:e,fullCtaOptionTokenValue:t,fullCtaTokenValue:n,skFullCtaTokenValue:i,id:r,placementType:a}){this.skOverlayAutoTokenValue=e,this.fullCtaOptionTokenValue=t,this.fullCtaTokenValue=n,this.skFullCtaTokenValue=i,this.id=r,this.placementType=a}};(ug=Eb||(Eb={})).CHECKPOINT_0="checkpoint.0",ug.CHECKPOINT_100="checkpoint.100",ug.CHECKPOINT_25="checkpoint.25",ug.CHECKPOINT_50="checkpoint.50",ug.CHECKPOINT_75="checkpoint.75",ug.CLICK_URL="clickUrl",ug.POSTROLL_CLICK="postroll.click",ug.POSTROLL_VIEW="postroll.view",ug.VIDEO_CLOSE="video.close",ug.VIDEO_MUTE="video.mute",ug.VIDEO_UNMUTE="video.unmute",ug.ASOI_INTERACTION="download.ASOIInteraction",ug.ASOI_COMPLETE="download.ASOIComplete",ug.REWARD_GRANTED="rewardGranted";var n$=Eb,nq=()=>ee(),nZ=(e,t=!1,n)=>{let i=nq(),r={type:"tpat",event:e};t&&(r.fireOnlyOnce=!0),n&&(r.data=n),i.emit(r)},nQ=(e=nZ,t=Z())=>{let n=(null==t?void 0:t.getSceneType())===eM.image||(null==t?void 0:t.getSceneType())===eM.endcard;t&&"shouldSplitVideoEndcardClick"in t&&t.shouldSplitVideoEndcardClick?(null==t?void 0:t.getSceneType())===eM.video&&e(n$.CLICK_URL,!0):e(n$.CLICK_URL,!0),n&&e(n$.POSTROLL_CLICK,!0)},nJ=class{getStoreKitOverlayAutoShowConfig(e=nQ){let t="adv_pref"===this.fullCtaOptionTokenValue,n="false"===this.skOverlayDisableAutoMMPTokenValue;return{enabled:!!nR(this.environmentService,this.placementTypeService)&&void 0!==this.appStoreId&&0!==this.appStoreId.length&&Q(this.skOverlayAutoTokenValue)&&t,autoShowDelay:(()=>{if(!this.skOverlayDelaySecondsTokenValue)return 5e3;let e=parseInt(this.skOverlayDelaySecondsTokenValue,10);return Number.isNaN(e)?5e3:1e3*e})(),isAutoClose:!!this.skOverlayAutoCloseTokenValue&&!["0","-1"].includes(this.skOverlayAutoCloseTokenValue),autoCloseDelay:(()=>{var e;let t=parseInt(null!==(e=this.skOverlayAutoCloseTokenValue)&&void 0!==e?e:"0",10);return Number.isNaN(t)?5e3:Math.max(5e3,1e3*t)})(),openCallback:n?e:()=>{}}}constructor(e,t,n,i,r,a,o=j(),s=z()){this.appStoreId=e,this.fullCtaOptionTokenValue=t,this.skOverlayAutoTokenValue=n,this.skOverlayDelaySecondsTokenValue=i,this.skOverlayAutoCloseTokenValue=r,this.skOverlayDisableAutoMMPTokenValue=a,this.environmentService=o,this.placementTypeService=s}},n0=(e=L())=>{let t=e.get(y.APP_STORE_ID);if(t)return t;let n=e.get(y.CTA_BUTTON_URL),i=null==n?void 0:n.match(/\/id(\d+)/i);return(null==i?void 0:i[1])?i[1]:void 0},n1=class{getAppStoreOnDelayConfig(){var e;let t=Number(null!==(e=this.appStoreOnVideoAutoDelayTokenValue)&&void 0!==e?e:"0");return{enabled:!(!nl(this.environmentService)||void 0===this.appStoreId||0===this.appStoreId.length||this.placementService.isInLine())&&!Number.isNaN(t)&&Number.isFinite(t)&&t>0,autoShowDelay:Number.isNaN(t)||!Number.isFinite(t)||t<3e3?3e3:t}}constructor(e,t,n=j(),i=z()){this.appStoreOnVideoAutoDelayTokenValue=e,this.appStoreId=t,this.environmentService=n,this.placementService=i}},n2=e=>{var t;return!!e&&"false"===(null==e||null===(t=e.trim())||void 0===t?void 0:t.toLowerCase())},n3=class{getStoreKitOverlayAutoShowConfig(e=nQ){let t=this.isEndcardOnly?this.skOverlayDelaySecondsTokenValue:this.ecSkOverlayDelaySecondsTokenValue,n="false"===this.ecSkOverlayDisableAutoMMPTokenValue&&0===this.endcardIndex;return{enabled:!(!nR(this.environmentService,this.placementTypeService)||!this.appStoreId||n2(this.skOverlayAutoTokenValue))&&!(this.endcardIndex>0)&&("adv_pref"===this.fullCtaOptionTokenValue||this.isEndcardOnly)&&!!t&&parseInt(t,10)>=0,isAutoClose:!!this.skOverlayAutoCloseTokenValue&&!["0","-1"].includes(this.skOverlayAutoCloseTokenValue),autoShowDelay:(()=>{let e=parseInt(null!=t?t:"5",10);return Number.isNaN(e)?3e3:Math.max(3e3,1e3*e)})(),autoCloseDelay:(()=>{var e;let t=parseInt(null!==(e=this.skOverlayAutoCloseTokenValue)&&void 0!==e?e:"0",10);return Number.isNaN(t)?5e3:Math.max(5e3,1e3*t)})(),openCallback:n?()=>e():()=>{}}}constructor(e,t,n,i,r,a,o,s,l,d=j(),c=z()){this.endcardIndex=e,this.isEndcardOnly=t,this.appStoreId=n,this.fullCtaOptionTokenValue=i,this.skOverlayAutoTokenValue=r,this.skOverlayDelaySecondsTokenValue=a,this.ecSkOverlayDelaySecondsTokenValue=o,this.skOverlayAutoCloseTokenValue=s,this.ecSkOverlayDisableAutoMMPTokenValue=l,this.environmentService=d,this.placementTypeService=c}},n5=class{getAppStoreOnDelayConfig(){var e;let t=Number(null!==(e=this.appStoreOnEndcardAutoDelayTokenValue)&&void 0!==e?e:"0");return{enabled:!!nl(this.environmentService)&&void 0!==this.appStoreId&&0!==this.appStoreId.length&&0===this.endcardIndex&&!Number.isNaN(t)&&Number.isFinite(t)&&t>0,autoShowDelay:Number.isNaN(t)||!Number.isFinite(t)||t<3e3?3e3:t}}constructor(e,t,n,i=j()){this.endcardIndex=e,this.appStoreId=t,this.appStoreOnEndcardAutoDelayTokenValue=n,this.environmentService=i}};const n4=(e,t=L(),n=z())=>({appNameEncoded:t.get(y.APP_NAME_ENCODED),appStoreId:t.get(y.APP_STORE_ID),ctaButtonDelay:t.get(y.DOWNLOAD_BUTTON_DELAY_SECONDS),ctaButtonText:t.get(y.CTA_BUTTON_TEXT),ctaButtonTextEncoded:t.get(y.CTA_BUTTON_ENCODED_TEXT),ctaButtonUrl:t.get(y.CTA_BUTTON_URL),ctaTarget:eb.SKPV,enabled:!1,endcardCloseButtonDelaySeconds:t.get(y.EC_CLOSE_BUTTON_DELAY_SECONDS),fullCtaOptionTokenValue:t.get(y.FULL_CTA_OPTION),fullCtaTokenValue:t.get(y.FULL_CTA),hasEndcard:t.has(y.EC_HTML)||t.has(y.EC_IMAGE),hasVideo:t.has(y.MAIN_VIDEO)||t.has(y.MAIN_STREAM),icon:t.get(y.APP_ICON),id:e,isFullscreen:n.isFullscreen(),name:t.get(y.APP_NAME),showECCloseButtonCountDownTokenValue:t.get(y.SHOW_EC_CLOSE_BUTTON_COUNTDOWN),skCtaOnlyTokenValue:t.get(y.SK_CTA_ONLY),skFscTokenValue:t.get(y.SK_FSC),staticEndcardCloseButtonDelaySeconds:t.get(y.STATIC_EC_CLOSE_BUTTON_DELAY_SECONDS)});var n6=class{getCtaButtonText(){if(this.ctaButtonTextEncoded)try{return M(this.ctaButtonTextEncoded)}catch(e){}return this.ctaButtonText?this.ctaButtonText:this.icon&&this.name&&this.appStoreId?"GET":"Open"}getCtaButtonDelay(){var e;return parseInt(null!==(e=this.ctaButtonDelay)&&void 0!==e?e:"4",10)}getCloseDelay(){let e=this.hasVideo&&!this.hasEndcard,t=3;return e&&this.endcardCloseButtonDelaySeconds?t=Number(this.endcardCloseButtonDelaySeconds):this.staticEndcardCloseButtonDelaySeconds&&(t=Number(this.staticEndcardCloseButtonDelaySeconds)),Math.min(Math.max(t,1),e?6:30)}getCountDown(){return!this.showECCloseButtonCountDownTokenValue||"true"===this.showECCloseButtonCountDownTokenValue}getAppName(){var e;if(this.appNameEncoded)try{return M(this.appNameEncoded)}catch(e){}return null!==(e=this.name)&&void 0!==e?e:""}getLastChanceEndcardConfig(){return{enabled:this.isFullscreen&&this.enabled,id:this.id,appMeta:{enabled:!(!this.icon||!this.name),name:this.getAppName(),icon:this.icon},cta:{text:this.getCtaButtonText(),url:this.ctaButtonUrl||"",isPersistent:!1,target:nj(this.skCtaOnlyTokenValue),delay:this.getCtaButtonDelay()},fsc:{enabled:Q(this.fullCtaTokenValue)&&"fsc_off"!==this.fullCtaOptionTokenValue,ctaUrl:this.ctaButtonUrl,target:nj(this.skFscTokenValue)},close:{delay:this.getCloseDelay(),style:nH.CLOSE,countdown:this.getCountDown()}}}setLastChanceEndcardConfig(){}constructor({appNameEncoded:e,appStoreId:t,ctaButtonDelay:n,ctaButtonText:i,ctaButtonTextEncoded:r,ctaButtonUrl:a,ctaTarget:o,enabled:s=!1,endcardCloseButtonDelaySeconds:l,fullCtaOptionTokenValue:d,fullCtaTokenValue:c,hasEndcard:E,hasVideo:u,icon:_,id:v,isFullscreen:T,name:h,showECCloseButtonCountDownTokenValue:S,skCtaOnlyTokenValue:p,skFscTokenValue:g,staticEndcardCloseButtonDelaySeconds:C}){this.appNameEncoded=e,this.appStoreId=t,this.ctaButtonDelay=n,this.ctaButtonText=i,this.ctaButtonTextEncoded=r,this.ctaButtonUrl=a,this.ctaTarget=null!=o?o:eb.SKPV,this.enabled=s,this.endcardCloseButtonDelaySeconds=l,this.fullCtaOptionTokenValue=d,this.fullCtaTokenValue=c,this.hasEndcard=!!E,this.hasVideo=!!u,this.icon=_,this.id=v,this.isFullscreen=!!T,this.name=h,this.showECCloseButtonCountDownTokenValue=S,this.skCtaOnlyTokenValue=p,this.skFscTokenValue=g,this.staticEndcardCloseButtonDelaySeconds=C}},n8=class{getCloseButtonConfig(){return{delay:this.getDelay(),style:this.getStyle(),countdown:this.getCountDown()}}constructor({ecCloseButtonDelaySecondsTokenValue:e,staticEcCloseButtonDelaySecondsTokenValue:t,endcardCloseButtonAsSkipTokenValue:n,showECCloseButtonCountDownTokenValue:i,isSecondEndcard:r}){this.getDelay=()=>{let e=0;return this.isSecondEndcard&&this.staticEcCloseButtonDelaySecondsTokenValue?e=Number(this.staticEcCloseButtonDelaySecondsTokenValue):this.ecCloseButtonDelaySecondsTokenValue&&(e=Number(this.ecCloseButtonDelaySecondsTokenValue)),e},this.getStyle=()=>this.isSecondEndcard?nH.CLOSE:Q(this.endcardCloseButtonAsSkipTokenValue)?nH.SKIP:nH.CLOSE,this.getCountDown=()=>!this.showECCloseButtonCountDownTokenValue||Q(this.showECCloseButtonCountDownTokenValue),this.ecCloseButtonDelaySecondsTokenValue=e,this.staticEcCloseButtonDelaySecondsTokenValue=t,this.endcardCloseButtonAsSkipTokenValue=n,this.showECCloseButtonCountDownTokenValue=i,this.isSecondEndcard=r}},n7=class{getTrackingEventMapConfig(){return{enabled:this.enabled,events:this.events}}constructor(e,t){this.enabled=e,this.events=t}};const n9=new Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short"});(uC=Ek||(Ek={})).RESOURCE="resource",uC.EXCEPTION="exception",uC.UNHANDLEDREJECTION="unhandledrejection",uC.PLAYABLE="playable",(uO=EU||(EU={})).IMAGE="img",uO.VIDEO="video";var ie=Ek,it=(e,t=et())=>{if(!e)return[];try{let t=JSON.parse(e);return Array.isArray(t)?t.slice(0,4):[]}catch(e){t.emit({type:"error-logging",event:ie.RESOURCE,data:{error:{message:"Unable to parse app screenshots"}}})}return[]};const ii=(e=L(),t=et())=>({ctaButtonUrl:e.get(y.CTA_BUTTON_URL),ctaButtonText:e.get(y.CTA_BUTTON_TEXT),ctaButtonTextEncoded:e.get(y.CTA_BUTTON_ENCODED_TEXT),ctaButtonDelay:e.get(y.DOWNLOAD_BUTTON_DELAY_SECONDS),appName:e.get(y.APP_NAME),appIcon:e.get(y.APP_ICON),appDescription:e.get(y.APP_DESCRIPTION),appRatingCount:e.get(y.APP_RATING_COUNT),appLongDescription:e.get(y.APP_LONG_DESCRIPTION),appContentRating:e.get(y.APP_CONTENT_RATING),appScreenShots:e.get(y.APP_SCREENSHOTS),appDownloadCount:e.get(y.APP_DOWNLOAD_COUNT),appRating:e.get(y.APP_RATING),appStoreRating:e.get(y.APP_STORE_RATING),appStoreId:e.get(y.APP_STORE_ID),appNameEncoded:e.get(y.APP_NAME_ENCODED),appDescriptionEncoded:e.get(y.APP_DESCRIPTION_ENCODED),appLongDescriptionEncoded:e.get(y.APP_LONG_DESCRIPTION_ENCODED),errorLoggingReportingService:t});var ir=class{hasAppMetadata(){return!(!this.appIcon||!this.appName)}getAppRatingCount(){var e;let t=parseInt(null!==(e=this.appRatingCount)&&void 0!==e?e:"",10);return Number.isInteger(t)&&Number.isFinite(t)?n9.format(t):""}getAppContentRatingImg(){var e,t;return null!==(t={Everyone:"https://cdn-lb.vungle.com/esrb/E.svg","Everyone 10+":"https://cdn-lb.vungle.com/esrb/E10plus.svg",Teen:"https://cdn-lb.vungle.com/esrb/T.svg","Mature 17+":"https://cdn-lb.vungle.com/esrb/M.svg","Adults Only 18+":"https://cdn-lb.vungle.com/esrb/AO.svg"}[null!==(e=this.appContentRating)&&void 0!==e?e:""])&&void 0!==t?t:""}getAppDownloadCount(){let{appDownloadCount:e}=this;if(!e)return"";if(/[KMB]/.test(e))return e;e.includes("-")&&([e]=e.split("-"));let t=Number(e=e.replace(/[,+ ]+/g,""));return t?`${new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:0}).format(t)}+`:""}getAppRating(){var e,t;let n=null!==(t=null!==(e=this.appRating)&&void 0!==e?e:this.appStoreRating)&&void 0!==t?t:"4.4",i=n.lastIndexOf("/")+1,r=n.indexOf("-stars.svg"),a=n.substring(i,r);if(a){let e=parseFloat(a);if(!Number.isNaN(e))return e}let o=parseFloat(n);return Number.isNaN(o)?parseFloat("4.4"):o}getAppName(){var e;if(this.appNameEncoded)try{return M(this.appNameEncoded)}catch(e){}return null!==(e=this.appName)&&void 0!==e?e:""}getAppDescription(){var e;if(this.appDescriptionEncoded)try{return M(this.appDescriptionEncoded)}catch(e){}return null!==(e=this.appDescription)&&void 0!==e?e:""}getAppLongDescription(){var e;if(this.appLongDescriptionEncoded)try{return M(this.appLongDescriptionEncoded)}catch(e){}return null!==(e=this.appLongDescription)&&void 0!==e?e:""}getCtaButtonText(){if(this.ctaButtonTextEncoded)try{return M(this.ctaButtonTextEncoded)}catch(e){}return this.ctaButtonText&&""!==this.ctaButtonText.trim()?this.ctaButtonText:this.hasAppMetadata()&&this.appStoreId?"GET":"Open"}getCtaButtonDelay(){var e;let t=parseInt(null!==(e=this.ctaButtonDelay)&&void 0!==e?e:"",10);return Number.isInteger(t)&&Number.isFinite(t)?t:0}getCtaButtonUrl(){var e;return null!==(e=this.ctaButtonUrl)&&void 0!==e?e:""}getAppMetaData(){var e,t;return{enabled:this.hasAppMetadata(),company:this.getAppDescription(),contentRating:null!==(e=this.appContentRating)&&void 0!==e?e:"",contentRatingImg:this.getAppContentRatingImg(),description:this.getAppLongDescription(),downloads:this.getAppDownloadCount(),icon:null!==(t=this.appIcon)&&void 0!==t?t:"",isRatingGreaterThanMinimum:this.getAppRating()>=4,minimumAppRating:4,name:this.getAppName(),price:"",rating:this.getAppRating(),ratingCount:this.getAppRatingCount(),screenshots:it(this.appScreenShots,this.errorLoggingReportingService)}}constructor({ctaButtonUrl:e,ctaButtonText:t,ctaButtonTextEncoded:n,ctaButtonDelay:i,appName:r,appIcon:a,appDescription:o,appRatingCount:s,appLongDescription:l,appContentRating:d,appScreenShots:c,appDownloadCount:E,appRating:u,appStoreRating:_,appStoreId:v,appNameEncoded:T,appDescriptionEncoded:h,appLongDescriptionEncoded:S,errorLoggingReportingService:p=et()}){this.ctaButtonUrl=e,this.ctaButtonText=t,this.ctaButtonTextEncoded=n,this.ctaButtonDelay=i,this.appName=r,this.appIcon=a,this.appDescription=o,this.appRatingCount=s,this.appLongDescription=l,this.appContentRating=d,this.appScreenShots=c,this.appDownloadCount=E,this.appRating=u,this.appStoreRating=_,this.appStoreId=v,this.appNameEncoded=T,this.appDescriptionEncoded=h,this.appLongDescriptionEncoded=S,this.errorLoggingReportingService=p}},ia=class extends ir{getCallToActionConfig(){return{url:super.getCtaButtonUrl(),text:super.getCtaButtonText(),appMeta:super.getAppMetaData(),delay:super.getCtaButtonDelay(),target:eb.SKPV}}constructor({appMetaProviderParams:e}){super(e)}};(uA=EB||(EB={})).SCRIPT_ERROR="Unexpected script error",uA.UNHANDLED_REJECTION="Unhandled rejection error",uA.TOKEN_ERROR="syntaxerror: unexpected token ':'",(uI=EH||(EH={}))[uI.InvalidImageError=1e4]="InvalidImageError",uI[uI.InvalidVideoError=10001]="InvalidVideoError",uI[uI.Error=30006]="Error";var io=class extends a{getMessageFromErrorEvent(e){var t;return e.message&&""!==e.message?e.message:(null===(t=e.error)||void 0===t?void 0:t.message)&&""!==e.error.message?e.error.message:"Unexpected script error"}isIgnoredError(e){let t=e.toLowerCase();return["syntaxerror: unexpected token ':'"].some((e=>-1!==t.indexOf(e)))}sendImageError(e,t=!1){let n=this.getImageErrorEvent(e.target);t&&(n.data.isFatal=!0),this.send(n)}shouldImageErrorBeFatal(e){var t;return"image_0"===e&&!(null===(t=this.currentScene())||void 0===t?void 0:t.prev)}handlePlayableError(e){var t,n,i,r;let a=e.data&&"playable-error"===e.data.title,o=null!==(i=null===(n=e.data)||void 0===n||null===(t=n.content)||void 0===t?void 0:t.message)&&void 0!==i?i:"";a&&!this.isIgnoredError(o)&&(e.data.content.error_source=eV.PLAYABLE,this.send({type:"error-logging",event:ie.PLAYABLE,data:{error:e.data.content,sceneId:null===(r=Z())||void 0===r?void 0:r.getId()}}))}handleUnhandledrejectionError(e){var t,n;this.send({type:"error-logging",event:ie.UNHANDLEDREJECTION,data:{error:{message:null!==(n=null===(t=e.reason)||void 0===t?void 0:t.toString())&&void 0!==n?n:"Unhandled rejection error",error_source:eV.TEMPLATE}}})}handleCommonError(e){let{localName:t}=e.target;if("video"===t)return;if("img"===t){let{id:t}=e.target,n=this.shouldImageErrorBeFatal(t);return void this.sendImageError(e,n)}let n={type:"error-logging",event:ie.EXCEPTION,data:{error:{message:this.getMessageFromErrorEvent(e),error_source:eV.TEMPLATE,resource_url:null==e?void 0:e.filename}}};this.send(n)}getErrorCode(e){var t;let n=null===(t=e.data)||void 0===t?void 0:t.resourceType;return n===EU.IMAGE?1e4:n===EU.VIDEO?10001:30006}getImageErrorEvent(e){let{currentSrc:t}=e;return{type:"error-logging",event:ie.RESOURCE,data:{resourceType:EU.IMAGE,error:{resource_url:t,error_source:eV.RESOURCE,message:W}}}}init(){window.addEventListener("error",this.handleCommonError.bind(this),!0),window.addEventListener("unhandledrejection",this.handleUnhandledrejectionError.bind(this)),window.addEventListener("message",this.handlePlayableError.bind(this))}send(e){this.errorLoggingReportingService.emit(e)}notifyFatalError(e){var t,n,i,r;let a=this.getErrorCode(e),o=null!==(r=null===(t=e.data.error)||void 0===t?void 0:t.message)&&void 0!==r?r:"Unknown error";null===(i=this.mraidService.getMraidBridgeExt())||void 0===i||null===(n=i.notifyError)||void 0===n||n.call(i,a,o,!0)}static getServiceIdentifier(){return"ErrorLoggingServiceInterface"}constructor(e=R(),t=et(),n=Z){super(),this.mraidService=e,this.errorLoggingReportingService=t,this.currentScene=n}},is=()=>{let e=r.getInstance(),t=io.getServiceIdentifier();return e.get(t)};(uf=EW||(EW={})).CLOSE_AD="closeAd",uf.CLOSE_STOREKIT_OVERLAY="closeStoreKitOverlay",uf.ENSURE_REWARD_GRANTED="ensureRewardGranted",uf.SEND_VIDEO_ERROR="sendVideoError";var il=()=>({closeAd:()=>{nC()},closeStoreKitOverlay:()=>{var e;null===(e=nu())||void 0===e||e.close()},ensureRewardGranted:(e,t,n=L(),i=ne(),r=ee(),a=R(),o=nZ)=>{var s;!i.getActivityEvents().some((e=>"observability"===e.eventType&&e.data.name===eP.FORFEIT_REWARD))&&J(n)&&(r.getActivityEvents().some((e=>"tpat"===e.eventType&&e.name===n$.REWARD_GRANTED))||(null===(s=a.getMraidBridgeExt())||void 0===s||s.notifySuccessfulViewAd(),o(n$.REWARD_GRANTED,!0)))},sendVideoError:(e,t,n=is())=>{let i={type:"error-logging",event:ie.RESOURCE,data:{resourceType:EU.VIDEO,isFatal:!0,error:{message:F}}};n.send(i)}});(uN=EF||(EF={})).ON_CREATIVE_VIEW="onCreativeView",uN.DESTROY_IFRAME="destroyIframe",uN.FLUSH_MRAID_EVENTS_PROXY_CALLBACKS="flushMraidEventsProxyCallbacks",uN.INIT_CHECKPOINTS="initCheckpoints",uN.INIT_OMSDK_HTML_DISPLAY_SERVICE="initOmsdkHtmlDisplayService",uN.ON_ENDCARD_START="onEndcardStart",uN.ON_ENDCARD_CLOSE="onEndcardClose",uN.ON_ENDCARD_CLOSE_BUTTON_WILL_SHOW="closeWillAppear",uN.ON_SHOW="onShow";var id=EF;class ic extends t5{getId(){return"closed"}static getInstances(){let e=z();return e.isBanner()||e.isMrec()||e.isInLine()?[]:[new ic]}getSceneType(){return eM.closed}constructor(){super(),this.addEntryAction({name:EW.ENSURE_REWARD_GRANTED}),this.addEntryAction({name:id.DESTROY_IFRAME}),this.getEntryActions().some((e=>e.name===EW.CLOSE_AD))||this.addEntryAction({name:EW.CLOSE_AD}),this.addTransition(d({},nk))}}var iu=(e=L(),t=z())=>!!t.isMrec()||Q(e.get(y.START_MUTED))||Q(e.get(y.REAL_START_MUTED));const iE=[y.EC_IMAGE,y.EC_IMAGE_2,y.EC_HTML,y.ADM_HTML,y.EC_HTML_2];(um=Ex||(Ex={})).BASE64_ENCODED="base64-encoded",um.GZIP="gzip",um.NONE="none";class i_ extends nB{static getInstances(e=L(),t=z(),n=j(),i=et()){let r=[y.EC_HTML,y.ADM_HTML,y.EC_HTML_2],a=[],o={[y.EC_HTML]:"endcard",[y.ADM_HTML]:"endcard",[y.EC_HTML_2]:"secondEndcard"},s=Q(e.get(y.EC_HTML_PRELOAD));return r.filter((t=>e.has(t))).forEach(((r,l)=>{var d;let c=r===y.ADM_HTML,E=`${o[r]}_${l}`;a.push(new i_({id:E,endcardContent:null!==(d=e.get(r))&&void 0!==d?d:"",index:l,isAlternative:!1,compressionType:e.get(y.EC_HTML_COMPRESS)?"gzip":"base64-encoded",storeKitOverlayAutoShowConfig:new n3(l,this.isEndcardOnly(e),n0(e),e.get(y.FULL_CTA_OPTION),e.get(y.SKOVERLAY_AUTO),e.get(y.SKOVERLAY_DELAY_SECONDS),e.get(y.EC_SKOVERLAY_DELAY_SECONDS),e.get(y.SKOVERLAY_AUTO_CLOSE),e.get(y.EC_SKOVERLAY_DISABLE_AUTO_MMP),n,t).getStoreKitOverlayAutoShowConfig(),appStoreOnDelayConfig:new n5(l,n0(e),e.get(y.APP_STORE_ON_ENDCARD_AUTO_DELAY),n).getAppStoreOnDelayConfig(),lastChanceEndcardConfig:new n6(n4(E,e,t)).getLastChanceEndcardConfig(),omsdkEnabled:c,closeButtonConfig:new n8({ecCloseButtonDelaySecondsTokenValue:e.get(y.EC_CLOSE_BUTTON_DELAY_SECONDS),staticEcCloseButtonDelaySecondsTokenValue:e.get(y.STATIC_EC_CLOSE_BUTTON_DELAY_SECONDS),showECCloseButtonCountDownTokenValue:e.get(y.SHOW_EC_CLOSE_BUTTON_COUNTDOWN),endcardCloseButtonAsSkipTokenValue:e.get(y.ENDCARD_CLOSE_BUTTON_AS_SKIP),isSecondEndcard:1===l}).getCloseButtonConfig(),trackingEventMapConfig:new n7(!1).getTrackingEventMapConfig(),callToActionConfig:new ia({appMetaProviderParams:ii(e,i)}).getCallToActionConfig(),muted:iu(e,t),eligibleToPreload:s,placementTypeService:t,shouldSplitVideoEndcardClick:Q(e.get(y.VIDEO_ENDCARD_CLICK_SPLIT))}))})),a}getId(){return this.id}getSceneType(){return this.sceneType}getStoreKitOverlayAutoShowConfig(){return this.storeKitOverlayAutoShowConfig}getAppStoreOnDelayConfig(){return this.appStoreOnDelayConfig}getCloseButtonConfig(){return C(d({},this.closeButtonConfig),{style:this.isLastPage()?nH.CLOSE:this.closeButtonConfig.style})}getLastChanceEndcardConfig(){return this.lastChanceEndcardConfig}getTrackingEventMapConfig(){return this.trackingEventMapConfig}getCallToActionConfig(){return this.callToActionConfig}setLastChanceEndcardConfig(e){this.lastChanceEndcardConfig=e}constructor({id:e,endcardContent:t,index:n,isAlternative:i,compressionType:r,storeKitOverlayAutoShowConfig:a,appStoreOnDelayConfig:o,lastChanceEndcardConfig:s,omsdkEnabled:l,closeButtonConfig:d,trackingEventMapConfig:c,muted:E=!1,eligibleToPreload:u=!1,callToActionConfig:_,placementTypeService:v=z(),shouldSplitVideoEndcardClick:T=!1}){super({isFullscreen:v.isFullscreen()}),this.sceneType=eM.endcard,this.id=e,this.endcardContent=t,this.index=n,this.alternative=i,this.compressionType=r,this.storeKitOverlayAutoShowConfig=a,this.appStoreOnDelayConfig=o,this.lastChanceEndcardConfig=s,this.omsdkEnabled=l,this.trackingEventMapConfig=c,this.closeButtonConfig=d,this.callToActionConfig=_,this.placementTypeService=v,this.muted=E,this.eligibleToPreload=u,this.shouldSplitVideoEndcardClick=T,l?this.addEntryAction({name:id.INIT_OMSDK_HTML_DISPLAY_SERVICE}):(this.addEntryAction({name:id.ON_ENDCARD_START}),this.addExitAction({name:id.ON_ENDCARD_CLOSE})),0===n&&(this.addTransition(nG),this.addTransition(nY),this.addTransition(nK),this.addTransition(nX)),this.addOrUpdateTransition({name:Eh.CLOSE,actions:[],scene:new ic}),this.addExitAction({name:id.FLUSH_MRAID_EVENTS_PROXY_CALLBACKS}),this.addOrUpdateTransition({name:Eh.CLOSE_BUTTON_WILL_SHOW,actions:[{name:id.ON_ENDCARD_CLOSE_BUTTON_WILL_SHOW}]}),this.addTransition({name:Eh.CREATIVE_VIEW,actions:[{name:id.ON_CREATIVE_VIEW}]}),this.addEntryAction({name:id.ON_SHOW})}}i_.isEndcardOnly=(e=L())=>{let t=!e.has(y.MAIN_VIDEO)&&!e.has(y.MAIN_STREAM),n=1===iE.filter((t=>e.has(t))).length;return t&&n};var iv=i_,iT=class{getDelay(){return Q(this.incentivizedTokenValue)&&this.incentivizedCloseButtonDelaySecondsTokenValue?Number(this.incentivizedCloseButtonDelaySecondsTokenValue):this.closeButtonDelaySecondsTokenValue?Number(this.closeButtonDelaySecondsTokenValue):0}getCountDown(){return void 0===this.showVideoCloseButtonCountDownTokenValue||Q(this.showVideoCloseButtonCountDownTokenValue)}getStyle(){return Q(this.videoCloseButtonAsSkipTokenValue)?nH.SKIP:nH.CLOSE}getCloseButtonConfig(){return{delay:this.getDelay(),style:this.getStyle(),countdown:this.getCountDown()}}constructor({closeButtonDelaySecondsTokenValue:e,incentivizedCloseButtonDelaySecondsTokenValue:t,incentivizedTokenValue:n,videoCloseButtonAsSkipTokenValue:i,showVideoCloseButtonCountDownTokenValue:r}){this.closeButtonDelaySecondsTokenValue=e,this.incentivizedCloseButtonDelaySecondsTokenValue=t,this.incentivizedTokenValue=n,this.videoCloseButtonAsSkipTokenValue=i,this.showVideoCloseButtonCountDownTokenValue=r}},iS=class{getProgressBarConfig(){var e,t;return{show:!this.isBanner&&!n2(this.videoProgressBarTokenValue),color:null!==(t=null!==(e=this.videoProgressBarColorTokenValue)&&void 0!==e?e:this.ctaButtonBackgroundTokenValue)&&void 0!==t?t:ed}}constructor({videoProgressBarTokenValue:e,videoProgressBarColorTokenValue:t,ctaButtonBackgroundTokenValue:n,isBanner:i}){this.videoProgressBarTokenValue=e,this.videoProgressBarColorTokenValue=t,this.ctaButtonBackgroundTokenValue=n,this.isBanner=i}};const ih=(e=L(),t=z(),n=et())=>{let i=ii(e,n);return{appStoreId:n0(e),skCtaOnlyTokenValue:e.get(y.SK_CTA_ONLY),blockPersistentCtaTokenValue:e.get(y.BLOCK_PERSISTENT_CTA),appMetaProviderParams:i,placementTypeService:t}};var ip=class extends ir{getCallToActionTarget(){return this.placementTypeService.isBanner()||this.placementTypeService.isMrec()?eb.SKPV:nj(this.skCtaOnlyTokenValue)}isPersistentCtaEnabled(){return(this.placementTypeService.isFullscreen()||this.placementTypeService.isMrec()||this.placementTypeService.isInLine())&&!Q(this.blockPersistentCtaTokenValue)}getCallToActionConfig(){return{isPersistent:this.isPersistentCtaEnabled(),target:this.getCallToActionTarget(),url:super.getCtaButtonUrl(),text:super.getCtaButtonText(),appMeta:super.getAppMetaData(),delay:super.getCtaButtonDelay()}}constructor({appStoreId:e,skCtaOnlyTokenValue:t,blockPersistentCtaTokenValue:n,appMetaProviderParams:i,placementTypeService:r=z()}){super(i),this.appStoreId=e,this.skCtaOnlyTokenValue=t,this.blockPersistentCtaTokenValue=n,this.placementTypeService=r}},ig=class{getStreamManifest(){var e;if(void 0!==this.mainManifestTokenValue&&""!==this.mainManifestTokenValue)return{manifest:M(this.mainManifestTokenValue),track_0:M(null!==(e=this.track0TokenValue)&&void 0!==e?e:""),chunks:this.chunkSeriesValues}}constructor(e,t,n){this.mainManifestTokenValue=e,this.track0TokenValue=t,this.chunkSeriesValues=n}},iC=function(e){if(null===e||"object"!=typeof e||"function"!=typeof e.getStreamManifest)return!1;let t=e.getStreamManifest();return void 0===t||!(null===t||"object"!=typeof t||void 0!==t.manifest&&"string"!=typeof t.manifest||void 0!==t.track_0&&"string"!=typeof t.track_0||!(void 0===t.chunks||Array.isArray(t.chunks)&&t.chunks.every((e=>"string"==typeof e||null!==e&&"object"==typeof e&&Object.values(e).every((e=>"string"==typeof e))))))};const iO=e=>{if("object"==typeof e)return Object.values(e).some((e=>iO(e)));let t=e.toLowerCase();return!t.startsWith("http://")&&!t.startsWith("https://")};var iA=e=>`file://${window.location.pathname.replace("index.html","")}${e}`,iI=class{getCachedFirstTrack(){var e,t;let n=null===(e=q.getValue())||void 0===e?void 0:e.scene;if(!iC(n)||!this.hasCachedFirstTrack())return"";let i=null===(t=n.getStreamManifest())||void 0===t?void 0:t.track_0;return void 0===i?"":i}getCachedManifest(){var e,t;let n=null===(e=q.getValue())||void 0===e?void 0:e.scene;if(!iC(n)||!this.hasCachedManifest())return"";let i=null===(t=n.getStreamManifest())||void 0===t?void 0:t.manifest;return void 0===i?"":i}getCachedVideoSegmentUrls(){var e,t,n,i;let r=null===(e=q.getValue())||void 0===e?void 0:e.scene;return iC(r)&&null!==(i=null===(n=r.getStreamManifest())||void 0===n||null===(t=n.chunks)||void 0===t?void 0:t.map((e=>{if(iO(e))if("string"==typeof e){if(!e.toLowerCase().startsWith("file://"))return iA(e)}else if("object"==typeof e)return Object.entries(e).reduce(((e,[t,n])=>(e[t]=n.toLowerCase().startsWith("file://")?n:iA(n),e)),{});return e})))&&void 0!==i?i:[]}hasCachedFirstTrack(){var e,t;let n=null===(e=q.getValue())||void 0===e?void 0:e.scene;return!!iC(n)&&!!(null===(t=n.getStreamManifest())||void 0===t?void 0:t.track_0)}hasCachedManifest(){var e,t;let n=null===(e=q.getValue())||void 0===e?void 0:e.scene;return!!iC(n)&&!!(null===(t=n.getStreamManifest())||void 0===t?void 0:t.manifest)}hasCachedStreamChunks(){var e,t,n;let i=null===(e=q.getValue())||void 0===e?void 0:e.scene;if(!iC(i))return!1;let r=null!==(n=null===(t=i.getStreamManifest())||void 0===t?void 0:t.chunks)&&void 0!==n?n:[];return 0!==r.length&&iO(r[0])}getChunkFormat(){var e,t;let n=null===(e=q.getValue())||void 0===e?void 0:e.scene;if(!iC(n)||!this.hasCachedStreamChunks())return"";let i=(null===(t=n.getStreamManifest())||void 0===t?void 0:t.chunks)[0].split(".");return i.length<2?"":i[i.length-1]}};(uD=EG||(EG={})).PROGRESSIVE="mp4",uD.HLS="hls";class iN extends nB{getTransitions(){let e=super.getTransitions();return e.push(nW,nF,nx,nG,nY,nK,nX),e}getId(){return this.id}getSceneType(){return eM.video}getVideoPlayer(){return"mp4"===this.videoType?"progressive":window.Hls.isSupported()?"custom":"native"}getVideoUrl(){return"mp4"===this.videoType&&void 0!==this.originalVideoUrl?this.originalVideoUrl:this.url}getObservabilityData(){var e,t,n,i;let r=new iI;return{url:null!==(n=this.getVideoUrl())&&void 0!==n?n:"",video:this.videoType,player:this.getVideoPlayer(),manifest:r.hasCachedManifest(),track:r.hasCachedFirstTrack(),segments:null!==(i=null===(t=this.getStreamManifest())||void 0===t||null===(e=t.chunks)||void 0===e?void 0:e.length)&&void 0!==i?i:0,cached:r.getCachedVideoSegmentUrls().length,format:r.getChunkFormat()}}getProgressBarConfig(){return this.progressBarConfig}getFullScreenClickConfig(){return this.fullScreenClickConfig}getAppStoreOnDelayConfig(){return this.appStoreOnDelayConfig}getCloseButtonConfig(){return C(d({},this.closeButtonConfig),{style:this.isLastPage()?nH.CLOSE:this.closeButtonConfig.style})}getStoreKitOverlayAutoShowConfig(){return this.storeKitOverlayAutoShowConfig}getCallToActionConfig(){return this.callToActionConfig}getLastChanceEndcardConfig(){return this.lastChanceEndcardConfig}getTrackingEventMapConfig(){return this.trackingEventMapConfig}setLastChanceEndcardConfig(e){this.lastChanceEndcardConfig=e}getStreamManifest(){return this.streamManifest}static isLoopingVideo(e,t=!1){return t||Q(e)}static getInstances(e=L(),t=z(),n=j(),i=ih()){let r=[y.MAIN_VIDEO,y.MAIN_STREAM],a=[],o=e.get(y.ORIGINAL_VIDEO_URL),s=iN.isLoopingVideo(e.get(y.VIDEO_LOOPING),iN.isVideoOnly(e));return r.filter((t=>e.has(t))).forEach(((r,l)=>{var d;let c=r===y.MAIN_STREAM?"hls":"mp4",E=`video_${l}`;a.push(new iN({id:E,url:null!==(d=e.get(r))&&void 0!==d?d:"",index:l,isAlternative:!1,videoType:c,streamManifest:new ig(e.get(y.MAIN_MANIFEST),e.get(y.TRACK_0),e.getSeriesValues("STREAM_CHUNK_")).getStreamManifest(),progressBarConfig:new iS({videoProgressBarTokenValue:e.get(y.VIDEO_PROGRESS_BAR),videoProgressBarColorTokenValue:e.get(y.VIDEO_PROGRESS_BAR_COLOR),ctaButtonBackgroundTokenValue:e.get(y.CTA_BUTTON_BACKGROUND),isBanner:t.isBanner()}).getProgressBarConfig(),fullScreenClickConfig:new nz({skOverlayAutoTokenValue:e.get(y.SKOVERLAY_AUTO),fullCtaOptionTokenValue:e.get(y.FULL_CTA_OPTION),fullCtaTokenValue:e.get(y.FULL_CTA),skFullCtaTokenValue:e.get(y.SK_FSC),id:E,placementType:t.getPlacementType()}).getFullScreenClickConfig(),storeKitOverlayAutoShowConfig:new nJ(n0(e),e.get(y.FULL_CTA_OPTION),e.get(y.SKOVERLAY_AUTO),e.get(y.SKOVERLAY_DELAY_SECONDS),e.get(y.SKOVERLAY_AUTO_CLOSE),e.get(y.SKOVERLAY_DISABLE_AUTO_MMP),n,t).getStoreKitOverlayAutoShowConfig(),appStoreOnDelayConfig:new n1(e.get(y.APP_STORE_ON_VIDEO_AUTO_DELAY),n0(e),n,t).getAppStoreOnDelayConfig(),callToActionConfig:new ip(i).getCallToActionConfig(),lastChanceEndcardConfig:new n6(n4(E,e,t)).getLastChanceEndcardConfig(),trackingEventMapConfig:new n7(!1).getTrackingEventMapConfig(),closeButtonConfig:new iT({closeButtonDelaySecondsTokenValue:e.get(y.CLOSE_BUTTON_DELAY_SECONDS),incentivizedCloseButtonDelaySecondsTokenValue:e.get(y.INCENTIVIZED_CLOSE_BUTTON_DELAY_SECONDS),incentivizedTokenValue:e.get(y.INCENTIVIZED),videoCloseButtonAsSkipTokenValue:e.get(y.VIDEO_CLOSE_BUTTON_AS_SKIP),showVideoCloseButtonCountDownTokenValue:e.get(y.SHOW_VIDEO_CLOSE_BUTTON_COUNTDOWN)}).getCloseButtonConfig(),originalVideoUrl:o,loopVideo:s,isFullscreen:t.isFullscreen(),muted:iu(e,t),shouldSplitVideoEndcardClick:Q(e.get(y.VIDEO_ENDCARD_CLICK_SPLIT))}))})),a}constructor({id:e,url:t,index:n,isAlternative:i,videoType:r,streamManifest:a,fullScreenClickConfig:o,storeKitOverlayAutoShowConfig:s,appStoreOnDelayConfig:l,callToActionConfig:d,lastChanceEndcardConfig:c,progressBarConfig:E,closeButtonConfig:u,originalVideoUrl:_,trackingEventMapConfig:v,loopVideo:T=!1,muted:h=!1,isFullscreen:S,shouldSplitVideoEndcardClick:p=!1}){super({isFullscreen:S}),this.id=e,this.url=t,this.index=n,this.alternative=i,this.videoType=r,this.streamManifest=a,this.progressBarConfig=E,this.fullScreenClickConfig=o,this.storeKitOverlayAutoShowConfig=s,this.appStoreOnDelayConfig=l,this.callToActionConfig=d,this.lastChanceEndcardConfig=c,this.closeButtonConfig=u,this.originalVideoUrl=_,this.loopVideo=T,this.muted=h,this.trackingEventMapConfig=v,this.shouldSplitVideoEndcardClick=p,this.addTransition({name:Eh.NEXT,actions:[{name:t3.CLOSE_VIDEO}]})}}iN.isVideoOnly=(e=L())=>{let t=!e.some(...iE),n=1===[y.MAIN_VIDEO,y.MAIN_STREAM].filter((t=>e.has(t))).length;return t&&n};var im=function(e){return e instanceof iN&&Object.values(EG).includes(e.videoType)&&"object"==typeof e.progressBarConfig&&"object"==typeof e.fullScreenClickConfig&&"object"==typeof e.storeKitOverlayAutoShowConfig&&"object"==typeof e.appStoreOnDelayConfig&&"object"==typeof e.callToActionConfig&&"object"==typeof e.lastChanceEndcardConfig&&"object"==typeof e.trackingEventMapConfig&&(void 0===e.originalVideoUrl||!0)&&(void 0===e.loopVideo||!0)},iD=e=>e instanceof iv&&e.getSceneType()===eM.endcard,iR=class extends a{static getServiceIdentifier(){return"PreloadServiceInterface"}isHTMLPreloading(e=Z(),t=t2()){return im(e)&&(null==t?void 0:t.state.value)===Ev.PRELOADING}getHTMLSceneToPreload(e){let t=e.next;if(im(e)&&iD(t)&&(null==t?void 0:t.eligibleToPreload))return{scene:t,isCloseButtonVisible:!1,isPrivacyButtonVisible:!1,shouldRenderIFrame:!0}}startPreloading(e=t2()){null==e||e.send(E_.PRELOAD)}cancelPreloading(e=t2()){null==e||e.send(E_.CANCEL_PRELOAD)}},iL=(e=R(),t=j())=>{var n;let i=e.getMraid();t.getOperatingSystem()===eR.Windows&&(null==i||null===(n=i.useCustomClose)||void 0===n||n.call(i,!0))},iy=0;function iP(e,t,n,i,r,a){t||(t={});var o,s,l=t;"ref"in t&&(o=t.ref,delete t.ref);var d={type:e,props:l,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--iy,__i:-1,__u:0,__source:r,__self:a};if("function"==typeof e&&(o=e.defaultProps))for(s in o)void 0===l[s]&&(l[s]=o[s]);return eB.vnode&&eB.vnode(d),d}var iV=(e,t,n=t4())=>{let i=tZ(e),r=tO(void 0),a=()=>{var e;null==r||null===(e=r.current)||void 0===e||e.destroy(),r.current=void 0};return tC((()=>{var e;void 0===r.current&&(r.current=n.getNewInterval(1e3,(()=>{let e=i.value-1;i.value=e<=0?0:e})),null===(e=r.current)||void 0===e||e.start());return()=>a()}),[]),tQ((()=>{0===i.value&&a(),t&&t(i.value)})),i};EY="NQnIja_countdown";var iw=({delay:e,isVisible:t=!0,children:n,handleTimerUpdate:i,showNextButtonDuringCountDownInBackground:r})=>{let a=iV(e,i);if(a.value>0&&r)return iP("div",{children:n});if(a.value>0&&!t)return iP("div",{id:"countdown"});if(a.value>0&&t){let e=Math.round(a.value);return 0===e?null:iP("div",{id:"countdown",className:EY,children:e})}return iP("div",{children:n})},iM=(e,t,n=ee())=>(tC((()=>(n.addEventHandler(e,t),()=>{n.removeEventHandler(e,t)})),[n,e,t]),()=>{n.removeEventHandler(e,t)});const ib="close-or-skip-button",ik="privacy-drawer",iU="shield-icon",iB=[eN.MREC,eN.BANNER,eN.IN_LINE];var iH=class{placementSupportsNextButton(){return!iB.includes(this.placementTypeService.getPlacementType())}constructor(e=z()){this.placementTypeService=e}},iW=()=>nq().getActivityEvents().some((e=>e.name===n$.CLICK_URL||e.name===n$.POSTROLL_CLICK)),iF=class{getButtonPadding(e=0,t=10){return iW()?t:Math.min(Math.max(parseInt(this.tokenService.get(y.CLOSE_BUTTON_PADDING),10)||e,e),t)}constructor(e=L()){this.tokenService=e}};EK="mqB7Ka_closeIcon",EX="mqB7Ka_skipIcon";var ix=({sendEvent:e=()=>{},type:t=nH.CLOSE,service:n=new iF,showLastChanceEndcard:i=!1,beforeClick:r=()=>{}})=>{let a=t===nH.SKIP?EX:EK,o=t===nH.SKIP?"Skip button":"Close button",s=tZ(n.getButtonPadding());tC((()=>{e&&e({type:Eh.CLOSE_BUTTON_WILL_SHOW})}),[]),iM("tpat",(()=>{s.value=n.getButtonPadding()}));let l=-s.value;return iP("button",{title:o,"aria-label":o,id:ib,type:"button",style:{padding:`${s.value}px`,margin:`${l}px`},onClick:t=>{t.stopPropagation(),e({type:Eh.CLOSE_BUTTON_CLICK}),r(),e(i?{type:Eh.LAST_CHANCE_ENDCARD}:{type:Eh.NEXT})},children:iP("div",{className:a})})};Ej="LJWyoG_nextButton";const iG=tB(!0);var iY=({handleTimerUpdate:e,showNextButtonDuringCountDownInBackground:t,sendAdEvent:n,showLastChanceEndcard:i=!1,config:r,beforeClick:a=()=>{}})=>{let{delay:o=0,countdown:s=!0}=r,l=new iH,d=o>0;return iM("viewability",((e,t)=>{iG.value=t.event===nT.MAXIMIZED})),l.placementSupportsNextButton()?iP("div",{id:i?"last-chance-endcard-next-button":"next-button",className:Ej,role:"button",tabIndex:0,"data-countdown-running":iG.value,children:d?iP(iw,{delay:o,isVisible:s,handleTimerUpdate:e,showNextButtonDuringCountDownInBackground:t,children:iP(ix,{sendEvent:n,type:r.style,showLastChanceEndcard:i,beforeClick:a})}):iP(ix,{sendEvent:n,type:r.style,showLastChanceEndcard:i,beforeClick:a})}):null},iK={},iX=function(e,t,n,i,r){var a=new Worker(iK[t]||(iK[t]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return a.onmessage=function(e){var t=e.data,n=t.$e$;if(n){var i=Error(n[0]);i.code=n[1],i.stack=n[2],r(i,null)}else r(null,t)},a.postMessage(n,i),a},ij=Uint8Array,iz=Uint16Array,i$=Int32Array,iq=new ij([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),iZ=new ij([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),iQ=new ij([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),iJ=function(e,t){for(var n=new iz(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];var r=new i$(n[30]);for(i=1;i<30;++i)for(var a=n[i];a<n[i+1];++a)r[a]=a-n[i]<<5|i;return{b:n,r:r}},i0=iJ(iq,2),i1=i0.b,i2=i0.r;i1[28]=258,i2[258]=28;for(var i3=iJ(iZ,0),i5=i3.b,i4=i3.r,i6=new iz(32768),i8=0;i8<32768;++i8){var i7=(43690&i8)>>1|(21845&i8)<<1;i7=(61680&(i7=(52428&i7)>>2|(13107&i7)<<2))>>4|(3855&i7)<<4,i6[i8]=((65280&i7)>>8|(255&i7)<<8)>>1}var i9=function(e,t,n){for(var i,r=e.length,a=0,o=new iz(t);a<r;++a)e[a]&&++o[e[a]-1];var s=new iz(t);for(a=1;a<t;++a)s[a]=s[a-1]+o[a-1]<<1;if(n){i=new iz(1<<t);var l=15-t;for(a=0;a<r;++a)if(e[a])for(var d=a<<4|e[a],c=t-e[a],E=s[e[a]-1]++<<c,u=E|(1<<c)-1;E<=u;++E)i[i6[E]>>l]=d}else for(a=0,i=new iz(r);a<r;++a)e[a]&&(i[a]=i6[s[e[a]-1]++]>>15-e[a]);return i},re=new ij(288);for(i8=0;i8<144;++i8)re[i8]=8;for(i8=144;i8<256;++i8)re[i8]=9;for(i8=256;i8<280;++i8)re[i8]=7;for(i8=280;i8<288;++i8)re[i8]=8;var rt=new ij(32);for(i8=0;i8<32;++i8)rt[i8]=5;var rn=i9(re,9,0),ri=i9(re,9,1),rr=i9(rt,5,0),ra=i9(rt,5,1),ro=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},rs=function(e,t,n){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(7&t)&n},rl=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},rd=function(e){return(e+7)/8|0},rc=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new ij(e.subarray(t,n))},ru=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],rE=function(e,t,n){var i=Error(t||ru[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,rE),!n)throw i;return i},r_=function(e,t,n,i){var r=e.length,a=i?i.length:0;if(!r||t.f&&!t.l)return n||new ij(0);var o=!n,s=o||2!=t.i,l=t.i;o&&(n=new ij(3*r));var d=function(e){var t=n.length;if(e>t){var i=new ij(Math.max(2*t,e));i.set(n),n=i}},c=t.f||0,E=t.p||0,u=t.b||0,_=t.l,v=t.d,T=t.m,h=t.n,S=8*r;do{if(!_){c=rs(e,E,1);var p=rs(e,E+1,3);if(E+=3,!p){var g=e[(L=rd(E)+4)-4]|e[L-3]<<8,C=L+g;if(C>r){l&&rE(0);break}s&&d(u+g),n.set(e.subarray(L,C),u),t.b=u+=g,t.p=E=8*C,t.f=c;continue}if(1==p)_=ri,v=ra,T=9,h=5;else if(2==p){var O=rs(e,E,31)+257,A=rs(e,E+10,15)+4,I=O+rs(e,E+5,31)+1;E+=14;for(var f=new ij(I),N=new ij(19),m=0;m<A;++m)N[iQ[m]]=rs(e,E+3*m,7);E+=3*A;var R=ro(N),y=(1<<R)-1,D=i9(N,R,1);for(m=0;m<I;){var L,P=D[rs(e,E,y)];if(E+=15&P,(L=P>>4)<16)f[m++]=L;else{var V=0,w=0;for(16==L?(w=3+rs(e,E,3),E+=2,V=f[m-1]):17==L?(w=3+rs(e,E,7),E+=3):18==L&&(w=11+rs(e,E,127),E+=7);w--;)f[m++]=V}}var M=f.subarray(0,O),b=f.subarray(O);T=ro(M),h=ro(b),_=i9(M,T,1),v=i9(b,h,1)}else rE(1);if(E>S){l&&rE(0);break}}s&&d(u+131072);for(var U=(1<<T)-1,k=(1<<h)-1,B=E;;B=E){var H=(V=_[rl(e,E)&U])>>4;if((E+=15&V)>S){l&&rE(0);break}if(V||rE(2),H<256)n[u++]=H;else{if(256==H){B=E,_=null;break}var W=H-254;if(H>264){var x=iq[m=H-257];W=rs(e,E,(1<<x)-1)+i1[m],E+=x}var F=v[rl(e,E)&k],G=F>>4;F||rE(3),E+=15&F;b=i5[G];if(G>3){x=iZ[G];b+=rl(e,E)&(1<<x)-1,E+=x}if(E>S){l&&rE(0);break}s&&d(u+131072);var Y=u+W;if(u<b){var K=a-b,j=Math.min(b,Y);for(K+u<0&&rE(3);u<j;++u)n[u]=i[K+u]}for(;u<Y;++u)n[u]=n[u-b]}}t.l=_,t.p=B,t.b=u,t.f=c,_&&(c=1,t.m=T,t.d=v,t.n=h)}while(!c);return u!=n.length&&o?rc(n,0,u):n.subarray(0,u)},rv=function(e,t,n){n<<=7&t;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8},rT=function(e,t,n){n<<=7&t;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8,e[i+2]|=n>>16},rS=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var r=n.length,a=n.slice();if(!r)return{t:rI,l:0};if(1==r){var o=new ij(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var s=n[0],l=n[1],d=0,c=1,E=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};c!=r-1;)s=n[n[d].f<n[E].f?d++:E++],l=n[d!=c&&n[d].f<n[E].f?d++:E++],n[c++]={s:-1,f:s.f+l.f,l:s,r:l};var u=a[0].s;for(i=1;i<r;++i)a[i].s>u&&(u=a[i].s);var _=new iz(u+1),v=rh(n[c-1],_,0);if(v>t){i=0;var T=0,h=v-t,S=1<<h;for(a.sort((function(e,t){return _[t.s]-_[e.s]||e.f-t.f}));i<r;++i){var p=a[i].s;if(!(_[p]>t))break;T+=S-(1<<v-_[p]),_[p]=t}for(T>>=h;T>0;){var g=a[i].s;_[g]<t?T-=1<<t-_[g]++-1:++i}for(;i>=0&&T;--i){var C=a[i].s;_[C]==t&&(--_[C],++T)}v=t}return{t:new ij(_),l:v}},rh=function(e,t,n){return-1==e.s?Math.max(rh(e.l,t,n+1),rh(e.r,t,n+1)):t[e.s]=n},rp=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new iz(++t),i=0,r=e[0],a=1,o=function(e){n[i++]=e},s=1;s<=t;++s)if(e[s]==r&&s!=t)++a;else{if(!r&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(r),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(r);a=1,r=e[s]}return{c:n.subarray(0,i),n:t}},rg=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},rC=function(e,t,n){var i=n.length,r=rd(t+2);e[r]=255&i,e[r+1]=i>>8,e[r+2]=255^e[r],e[r+3]=255^e[r+1];for(var a=0;a<i;++a)e[r+a+4]=n[a];return 8*(r+4+i)},rO=function(e,t,n,i,r,a,o,s,l,d,c){rv(t,c++,n),++r[256];for(var E,u,_,v,T=rS(r,15),h=T.t,S=T.l,p=rS(a,15),g=p.t,C=p.l,O=rp(h),A=O.c,I=O.n,f=rp(g),N=f.c,m=f.n,R=new iz(19),y=0;y<A.length;++y)++R[31&A[y]];for(y=0;y<N.length;++y)++R[31&N[y]];for(var D=rS(R,7),L=D.t,P=D.l,V=19;V>4&&!L[iQ[V-1]];--V);var w=d+5<<3,M=rg(r,re)+rg(a,rt)+o,b=rg(r,h)+rg(a,g)+o+14+3*V+rg(R,L)+2*R[16]+3*R[17]+7*R[18];if(l>=0&&w<=M&&w<=b)return rC(t,c,e.subarray(l,l+d));if(rv(t,c,1+(b<M)),c+=2,b<M){E=i9(h,S,0),u=h,_=i9(g,C,0),v=g;var U=i9(L,P,0);rv(t,c,I-257),rv(t,c+5,m-1),rv(t,c+10,V-4),c+=14;for(y=0;y<V;++y)rv(t,c+3*y,L[iQ[y]]);c+=3*V;for(var k=[A,N],B=0;B<2;++B){var H=k[B];for(y=0;y<H.length;++y){var W=31&H[y];rv(t,c,U[W]),c+=L[W],W>15&&(rv(t,c,H[y]>>5&127),c+=H[y]>>12)}}}else E=rn,u=re,_=rr,v=rt;for(y=0;y<s;++y){var x=i[y];if(x>255){rT(t,c,E[(W=x>>18&31)+257]),c+=u[W+257],W>7&&(rv(t,c,x>>23&31),c+=iq[W]);var F=31&x;rT(t,c,_[F]),c+=v[F],F>3&&(rT(t,c,x>>5&8191),c+=iZ[F])}else rT(t,c,E[x]),c+=u[x]}return rT(t,c,E[256]),c+u[256]},rA=new i$([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),rI=new ij(0),rf=function(e,t,n,i,r,a){var o=a.z||e.length,s=new ij(i+o+5*(1+Math.ceil(o/7e3))+r),l=s.subarray(i,s.length-r),d=a.l,c=7&(a.r||0);if(t){c&&(l[0]=a.r>>3);for(var E=rA[t-1],u=E>>13,_=8191&E,v=(1<<n)-1,T=a.p||new iz(32768),h=a.h||new iz(v+1),S=Math.ceil(n/3),p=2*S,g=function(t){return(e[t]^e[t+1]<<S^e[t+2]<<p)&v},C=new i$(25e3),O=new iz(288),A=new iz(32),I=0,f=0,N=a.i||0,m=0,R=a.w||0,y=0;N+2<o;++N){var D=g(N),L=32767&N,P=h[D];if(T[L]=P,h[D]=L,R<=N){var V=o-N;if((I>7e3||m>24576)&&(V>423||!d)){c=rO(e,l,0,C,O,A,f,m,y,N-y,c),m=I=f=0,y=N;for(var w=0;w<286;++w)O[w]=0;for(w=0;w<30;++w)A[w]=0}var M=2,b=0,U=_,k=L-P&32767;if(V>2&&D==g(N-k))for(var B=Math.min(u,V)-1,H=Math.min(32767,N),W=Math.min(258,V);k<=H&&--U&&L!=P;){if(e[N+M]==e[N+M-k]){for(var x=0;x<W&&e[N+x]==e[N+x-k];++x);if(x>M){if(M=x,b=k,x>B)break;var F=Math.min(k,x-2),G=0;for(w=0;w<F;++w){var Y=N-k+w&32767,K=Y-T[Y]&32767;K>G&&(G=K,P=Y)}}}P=T[L=P],k+=L-P&32767}if(b){C[m++]=268435456|i2[M]<<18|i4[b];var j=31&i2[M],z=31&i4[b];f+=iq[j]+iZ[z],++O[257+j],++A[z],R=N+M,++I}else C[m++]=e[N],++O[e[N]]}}for(N=Math.max(N,R);N<o;++N)C[m++]=e[N],++O[e[N]];c=rO(e,l,d,C,O,A,f,m,y,N-y,c),d||(a.r=7&c|l[c/8|0]<<3,c-=7,a.h=h,a.p=T,a.i=N,a.w=R)}else{for(N=a.w||0;N<o+d;N+=65535){var X=N+65535;X>=o&&(l[c/8|0]=d,X=o),c=rC(l,c+1,e.subarray(N,X))}a.i=o}return rc(s,0,i+rd(c)+r)},rN=function(e,t,n,i,r){if(!r&&(r={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new ij(a.length+e.length);o.set(a),o.set(e,a.length),e=o,r.w=a.length}return rf(e,null==t.level?6:t.level,null==t.mem?r.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,i,r)},rm=function(e,t){var n={};for(var i in e)n[i]=e[i];for(var i in t)n[i]=t[i];return n},rD=function(e,t,n){for(var i=e(),r=e.toString(),a=r.slice(r.indexOf("[")+1,r.lastIndexOf("]")).replace(/\s+/g,"").split(","),o=0;o<i.length;++o){var s=i[o],l=a[o];if("function"==typeof s){t+=";"+l+"=";var d=s.toString();if(s.prototype)if(-1!=d.indexOf("[native code]")){var c=d.indexOf(" ",8)+1;t+=d.slice(c,d.indexOf("(",c))}else for(var E in t+=d,s.prototype)t+=";"+l+".prototype."+E+"="+s.prototype[E].toString();else t+=d}else n[l]=s}return t},rR=[],rL=function(e){var t=[];for(var n in e)e[n].buffer&&t.push((e[n]=new e[n].constructor(e[n])).buffer);return t},ry=function(e){(31!=e[0]||139!=e[1]||8!=e[2])&&rE(6,"invalid gzip data");var t=e[3],n=10;4&t&&(n+=2+(e[10]|e[11]<<8));for(var i=(t>>3&1)+(t>>4&1);i>0;i-=!e[n++]);return n+(2&t)},rP=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0};function rV(e,t){var n=ry(e);return n+8>e.length&&rE(6,"invalid gzip data"),r_(e.subarray(n,-8),{i:2},t&&t.out||new ij(rP(e)),t&&t.dictionary)}var rw="undefined"!=typeof TextDecoder&&new TextDecoder;try{rw.decode(rI,{stream:!0})}catch(e){}var rM=function(e){for(var t="",n=0;;){var i=e[n++],r=(i>127)+(i>223)+(i>239);if(n+r>e.length)return{s:t,r:rc(e,n-1)};t+=r?3==r?String.fromCharCode(55296|(i=((15&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536)>>10,56320|1023&i):1&r?String.fromCharCode((31&i)<<6|63&e[n++]):String.fromCharCode((15&i)<<12|(63&e[n++])<<6|63&e[n++]):String.fromCharCode(i)}};"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var rb=e=>{if(/Android/i.test(e.navigator.userAgent)){let t,n=e.addEventListener;e.addEventListener=(t,i,r)=>{n.call(e,"load"===t?"DOMContentLoaded":t,i,r)},Object.defineProperty(e,"onload",{set:n=>{t=n,e.addEventListener("DOMContentLoaded",t)},get:()=>t})}},rk=(e=z(),t=L())=>t.has(y.ADM_HTML)&&(e.isBanner()||e.isMrec()||e.isInLine()),rU=e=>{e.addEventListener("error",(t=>{var n,i,r;e.parent.postMessage({title:"playable-error",content:{message:null!==(r=null==t?void 0:t.message)&&void 0!==r?r:null==t||null===(n=t.error)||void 0===n?void 0:n.message,stack:null==t||null===(i=t.error)||void 0===i?void 0:i.stack}},"*")})),e.addEventListener("unhandledrejection",(t=>{e.parent.postMessage({title:"playable-error",content:{message:null==t?void 0:t.reason}},"*")}))},rB=e=>{let t=/<script[^>]*?src=(["'][^"']*?mraid.js[^>]*?["'])[^>]*?>(<\/script>)?/gi;return t.test(e)?e.replace(t,""):e};(uR=Ez||(Ez={})).ADD_EVENT_LISTENER="addEventListener",uR.CLOSE="close",uR.CLOSE_STOREKIT_OVERLAY_VIEW="closeStoreKitOverlayView",uR.EXIT_ALTERNATIVE="exitAlternative",uR.GET_CURRENT_POSITION="getCurrentPosition",uR.GET_DEFAULT_POSITION="getDefaultPosition",uR.GET_EXPAND_PROPERTIES="getExpandProperties",uR.GET_MAX_SIZE="getMaxSize",uR.GET_PLACEMENT_TYPE="getPlacementType",uR.GET_SCREEN_SIZE="getScreenSize",uR.GET_STATE="getState",uR.GET_VIEWABLE="getViewable",uR.GRANT_REWARD="grantReward",uR.IS_VIEWABLE="isViewable",uR.OPEN="open",uR.OPEN_STOREKIT_OVERLAY_VIEW="openStoreKitOverlayView",uR.OPEN_STOREKIT_PRODUCT_VIEW="openStoreKitProductView",uR.REMOVE_EVENT_LISTENER="removeEventListener",uR.SET_ORIENTATION_PROPERTIES="setOrientationProperties",uR.SHOW_ALTERNATIVE="showAlternative",uR.NEXT="next",(uL=E$||(E$={})).CREATE_CALENDAR_EVENT="createCalendarEvent",uL.EXPAND="expand",uL.GET_CONSENT_ACCEPT_BUTTON_TEXT="getConsentAcceptButtonText",uL.GET_CONSENT_BODY_TEXT="getConsentBodyText",uL.GET_CONSENT_DENY_BUTTON_TEXT="getConsentDenyButtonText",uL.GET_CONSENT_REQUIRED="getConsentRequired",uL.GET_CONSENT_TITLE_TEXT="getConsentTitleText",uL.GET_ORIENTATION_PROPERTIES="getOrientationProperties",uL.GET_RESIZE_PROPERTIES="getResizeProperties",uL.GET_VERSION="getVersion",uL.PLAY_VIDEO="playVideo",uL.RESIZE="resize",uL.SET_EXPAND_PROPERTIES="setExpandProperties",uL.SET_RESIZE_PROPERTIES="setResizeProperties",uL.STORE_PICTURE="storePicture",uL.USE_CUSTOM_CLOSE="useCustomClose";var rH=()=>({[E$.CREATE_CALENDAR_EVENT]:()=>{},[E$.EXPAND]:()=>{},[E$.GET_CONSENT_ACCEPT_BUTTON_TEXT]:()=>{},[E$.GET_CONSENT_BODY_TEXT]:()=>{},[E$.GET_CONSENT_DENY_BUTTON_TEXT]:()=>{},[E$.GET_CONSENT_REQUIRED]:()=>{},[E$.GET_CONSENT_TITLE_TEXT]:()=>{},[E$.GET_ORIENTATION_PROPERTIES]:()=>{},[E$.GET_RESIZE_PROPERTIES]:()=>{},[E$.GET_VERSION]:()=>()=>"1.0",[E$.PLAY_VIDEO]:()=>{},[E$.RESIZE]:()=>{},[E$.SET_EXPAND_PROPERTIES]:()=>{},[E$.SET_RESIZE_PROPERTIES]:()=>{},[E$.STORE_PICTURE]:()=>{},[E$.USE_CUSTOM_CLOSE]:()=>()=>!1});(uy=Eq||(Eq={})).PAUSE="pause",uy.PLAY="play",uy.MUTE="mute",uy.UNMUTE="unmute",uy.PROGRESS="progress",uy.ERROR="error",uy.CLOSE="close",uy.ENDED="ended",uy.DURATION_CHANGE="durationchange",uy.WAITING="waiting",uy.SUSPEND="suspend",uy.TIME_UPDATE="timeupdate",uy.CAN_PLAY_THROUGH="canplaythrough";var rW=Eq;(uP=EZ||(EZ={})).LANDSCAPE="landscape",uP.PORTRAIT="portrait",uP.UNKNOWN="unknown",(uV=EQ||(EQ={})).LOAD_FAIL="LOAD_FAIL",uV.PLAY="PLAY",uV.CAN_PLAY="CAN_PLAY",uV.AUTO_PLAY_FAIL="AUTO_PLAY_FAIL",uV.PAUSE="PAUSE",uV.END="END",uV.TIME_UPDATE="TIME_UPDATE",uV.CLOSE="CLOSE",uV.DURATION_CHANGE="DURATION_CHANGE",uV.WAITING="WAITING",uV.SUSPEND="SUSPEND",uV.RETRY="RETRY",uV.MAXIMIZE="MAXIMIZE",uV.MINIMIZE="MINIMIZE",uV.RESET_CLOSE="RESET_CLOSE",(uw=EJ||(EJ={})).LOADING="LOADING",uw.LOAD_FAIL_RETRY="LOAD_FAIL_RETRY",uw.PLAYING="PLAYING",uw.PAUSED="PAUSED",uw.AUTO_PLAY_FAIL="AUTO_PLAY_FAIL",uw.ENDED="ENDED",(uM=E0||(E0={})).UPDATE_PROGRESS="updateProgress",uM.EMIT_PROGRESS="emitProgress",uM.EMIT_LOAD="emitLoad",uM.EMIT_PLAY="emitPlay",uM.EMIT_PAUSE="emitPause",uM.EMIT_CLOSE="emitClose",uM.EMIT_CLOSE_FULLY_PLAYED="emitCloseFullyPlayed",uM.INCREMENT_LOOP_COUNT="incrementLoopCount",uM.REPORT_VIDEO_START="reportVideoStart",uM.SET_CAN_PLAY="setCanPlay",uM.CHECK_SUCCESS_FULL_VIEW_AD_REACHED="checkSuccessFulViewAdReached",uM.EMIT_DURATION_CHANGE="emitDurationChange",uM.EMIT_TIME_UPDATE="emitTimeUpdate",uM.EMIT_WAITING="emitWaiting",uM.EMIT_SUSPEND="emitSuspend",uM.UPDATE_CURRENT_TIME="updateCurrentTime",uM.RESET_CURRENT_TIME="resetCurrentTime",uM.RESET_CONTEXT="resetContext",uM.EMIT_CHECKPOINT_TPAT_EVENT="emitCheckpointTpatEvent",uM.EMIT_SCENE_EVENT="emitTrackingEvent";var rF="video",rx=e=>(null!=e?e:t0()).interpreterMap.get(rF),rG=(e=Z())=>({scene_id:e.getId(),scene_type:e.getSceneType()});const rY=(e,t,n)=>ee().getActivityEvents().filter((i=>{var r,a,o,s;return i.type===ey.EVENT&&"observability"===i.eventType&&(null===(r=i.data)||void 0===r?void 0:r.name)===eP.NEAR_CLOSE_BUTTON_CLICK&&(null===(a=i.data)||void 0===a?void 0:a.scene_type)===t&&(null===(o=i.data)||void 0===o?void 0:o.scene_id)===e&&(null===(s=i.data)||void 0===s?void 0:s.close_button_visible)===n})),rK=e=>{let t=document.querySelector(`#${ib}`);if(null===t)return!1;let{clientX:n,clientY:i}=e,{top:r,right:a,bottom:o,left:s}=t.getBoundingClientRect();return(n<s&&n>=s-30||n>a&&n<=a+30)&&i>=r-30&&i<=o+30||(i<r&&i>=r-30||i>o&&i<=o+30)&&n>=s-30&&n<=a+30},rX=e=>{let t=window.innerWidth-75,n=75;return e.clientX>=t&&e.clientY<=n},rj=(e,t,n,i)=>{rK(e)&&i({name:eP.NEAR_CLOSE_BUTTON_CLICK,close_button_visible:!0,coordinate:e,scene_id:n,scene_type:t})},rz=(e,t,n,i)=>{rX(e)&&i({name:eP.NEAR_CLOSE_BUTTON_CLICK,close_button_visible:!1,coordinate:e,scene_id:n,scene_type:t})},r$=(e,t=Z().getSceneType(),n=Z().getId(),i=nn)=>{if(void 0===e)return;let r={clientX:"touches"in e?e.touches[0].clientX:e.clientX,clientY:"touches"in e?e.touches[0].clientY:e.clientY};null===document.querySelector(`#${ib}`)?rz(r,t,n,i):rj(r,t,n,i)};var rq=(e,t)=>{let n=rY(e,t,!1),i=rY(e,t,!0),r=n.map((e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.coordinate})).map((e=>({x:e.clientX,y:e.clientY}))),a=i.map((e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.coordinate})).map((e=>({x:e.clientX,y:e.clientY})));nn({name:eP.NEAR_CLOSE_BUTTON_CLICK_COUNT,scene_id:e,scene_type:t,before_close_button_appears:n.length,after_close_button_appears:i.length,coordinates:r.concat(a)})},rZ=()=>{let e=r.getInstance(),t=en.getServiceIdentifier();return e.get(t)};(ub=E1||(E1={})).NESTED_IFRAME_WITH_CORS="cors",ub.NESTED_IFRAME_WITHOUT_CORS="basic";const rQ=e=>{let t=ee().getActivityEvents().filter((t=>{var n,i;return t.type===ey.EVENT&&"observability"===t.eventType&&(null===(n=t.data)||void 0===n?void 0:n.name)===eP.NESTED_IFRAME_TYPE&&(null===(i=t.data)||void 0===i?void 0:i.scene_id)===e})).map((e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.nested_iframe_type}));return t.includes(E1.NESTED_IFRAME_WITH_CORS)?E1.NESTED_IFRAME_WITH_CORS:t.includes(E1.NESTED_IFRAME_WITHOUT_CORS)?E1.NESTED_IFRAME_WITHOUT_CORS:""},rJ=e=>ee().getActivityEvents().filter((t=>{var n,i;return t.type===ey.EVENT&&"observability"===t.eventType&&(null===(n=t.data)||void 0===n?void 0:n.name)===eP.CLICK_OCCURRED&&(null===(i=t.data)||void 0===i?void 0:i.scene_id)===e})).length,r0=e=>ee().getActivityEvents().filter((t=>{var n;return t.type===ey.EVENT&&"error-logging"===t.eventType&&t.name===ie.PLAYABLE&&(null===(n=t.data)||void 0===n?void 0:n.scene_id)===e})).length,r1=(e,t)=>{var n,i,r,a,o;return{near_click_count_after_close_button_appears:null===(n=t.getPendingEventData(eP.NEAR_CLOSE_BUTTON_CLICK_COUNT,e))||void 0===n?void 0:n.after_close_button_appears,near_click_count_before_close_button_appears:null===(i=t.getPendingEventData(eP.NEAR_CLOSE_BUTTON_CLICK_COUNT,e))||void 0===i?void 0:i.before_close_button_appears,near_close_button_clicks:null===(r=t.getPendingEventData(eP.NEAR_CLOSE_BUTTON_CLICK_COUNT,e))||void 0===r?void 0:r.coordinates,close_button_idle_time:null===(a=t.getPendingEventData(eP.CLOSE_BUTTON_VISIBLE,e))||void 0===a?void 0:a.duration,interaction_after_close_button_visible:!!(null===(o=t.getPendingEventData(eP.INTERACTION_AFTER_CLOSE_BUTTON_VISIBLE,e))||void 0===o?void 0:o.value)}},r2=(e,t,n,i)=>{var r,a,o,s;n(C(d({name:eP.VIDEO_SCENE_END,scene_id:e,scene_type:t},r1(e,i)),{duration:null===(r=i.getPendingEventData(eP.VIDEO_DURATION))||void 0===r?void 0:r.duration,first_click_after_video_play:null===(a=i.getPendingEventData(eP.FIRST_INTERACTION_AFTER_VIDEO_PLAY_DURATION))||void 0===a?void 0:a.duration,video_load_duration:null===(o=i.getPendingEventData(eP.VIDEO_START_DELAY))||void 0===o?void 0:o.duration,persistent_cta_duration:null===(s=i.getPendingEventData(eP.PERSISTENT_CTA_BUTTON_DURATION))||void 0===s?void 0:s.duration,video_click_count:rJ(e)}),1,["name","scene_id"])},r3=(e,t,n,i)=>{var r,a,o;n(C(d({name:eP.ENDCARD_SCENE_END,scene_id:e,scene_type:t},r1(e,i)),{duration:null===(r=i.getPendingEventData(eP.ENDCARD_DURATION,e))||void 0===r?void 0:r.duration,iframe:rQ(e),endcard_load_duration:null===(a=i.getPendingEventData(eP.ENDCARD_LOAD_DURATION,e))||void 0===a?void 0:a.duration,endcard_click_count:rJ(e),endcard_error_count:r0(e),endcard_first_click:null===(o=i.getPendingEventData(eP.ENDCARD_FIRST_CLICK_DURATION,e))||void 0===o?void 0:o.duration}),1,["name","scene_id"])},r5=(e=nn,t=rZ())=>{var n,i;let r=ew.lastChanceEndcard,a=ew.lastChanceEndcard;e(C(d({name:eP.LAST_CHANCE_ENDCARD_END,scene_id:r,scene_type:a},r1(r,t)),{duration:null===(n=t.getPendingEventData(eP.LAST_CHANCE_ENDCARD_DURATION))||void 0===n?void 0:n.duration,last_chance_endcard_clicked:0!==rJ(r),last_chance_endcard_cta_button_duration:null===(i=t.getPendingEventData(eP.LAST_CHANCE_ENDCARD_CTA_BUTTON_DURATION))||void 0===i?void 0:i.duration}),1,["name","scene_id"])};var r4=(e,t,n=nn,i=rZ())=>{t===eM.video&&r2(e,t,n,i),t===eM.endcard&&r3(e,t,n,i),t===ew.lastChanceEndcard&&r5(n,i)};const r6=(e,t,n=nn)=>{let i;t===eM.video&&n({name:eP.VIDEO_CLOSE,scene_id:e},1,["name","scene_id"]),t===eM.endcard&&(i=eP.ENDCARD_CLOSE),t===ew.lastChanceEndcard&&(i=eP.LAST_CHANCE_ENDCARD_DURATION_END),i&&n({name:i,scene_id:e},1,["name","scene_id"])};var r8=(e,t,n=nn,i=rq,r=r4)=>{i(e,t),r6(e,t,n);let a=new Map([[eM.video,eP.VIDEO_CLOSE_BUTTON_CLICK],[eM.endcard,eP.ENDCARD_CLOSE_BUTTON_CLICK]]);a.set(ew.lastChanceEndcard,eP.LAST_CHANCE_ENDCARD_CLOSE_BUTTON_CLICK),a.has(t)&&n({name:a.get(t),scene_id:e},1,["name","scene_id"]),r(e,t)},r7=()=>{let e=r.getInstance(),t=tJ.getServiceIdentifier();return e.get(t)};const r9=()=>ee(),ae=()=>ee();var at=()=>({[t3.MUTE_SOUND]:()=>{r7().mute()},[t3.UN_MUTE_SOUND]:()=>{r7().unmute()},[t3.EMIT_MUTED]:()=>{let e=r9(),t=r7();e.emit({type:"video",event:t.isMuted()?rW.MUTE:rW.UNMUTE})},[t3.EMIT_VIDEO_ERROR]:(e,t)=>{r9().emit({type:"video",event:rW.ERROR,data:t})},[t3.CLOSE_VIDEO]:()=>{let e=rx();null==e||e.send({type:EQ.CLOSE});let t=rG();t&&r8(t.scene_id,t.scene_type)},[t3.CLOSE_VIDEO_CURRENT_SCENE]:()=>{let e=rx();null==e||e.send({type:EQ.CLOSE});let t=rG();t&&r8(t.scene_id,t.scene_type)},[t3.PAUSE_VIDEO]:()=>{let e=rx();null==e||e.send({type:EQ.PAUSE})},[t3.PLAY_VIDEO]:()=>{let e=rx();null==e||e.send({type:EQ.PLAY})},[t3.POSTROLL_VIEW]:()=>{nZ(n$.POSTROLL_VIEW,!0)},[t3.SEND_EVENT_VIDEO_SKIP_TO_NEXT_SCENE]:()=>{nn({name:eP.VIDEO_SKIP_TO_ENDCARD})}});(uk=E2||(E2={})).SHOW="SHOW",uk.HIDE="HIDE",(uU=E3||(E3={})).SHOWING="SHOWING",uU.HIDDEN="HIDDEN",(E5||(E5={})).ON_LAST_CHANCE_ENDCARD_START="onLastChanceEndcardStart";const an="last-chance-endcard",ai=e=>({id:null!=e?`${an}-${e}`:an,initial:E3.HIDDEN,context:{delay:0},states:{[E3.SHOWING]:{on:{[E2.HIDE]:{target:E3.HIDDEN}}},[E3.HIDDEN]:{on:{[E2.SHOW]:{target:E3.SHOWING,actions:[E5.ON_LAST_CHANCE_ENDCARD_START]}}}}}),ar={actions:{[E5.ON_LAST_CHANCE_ENDCARD_START]:()=>{nn({name:eP.LAST_CHANCE_ENDCARD_START}),nn({name:eP.LAST_CHANCE_ENDCARD_DURATION_START})}}};var aa=(e,t)=>{let n=null!=t?t:t0(),i=null!=e?`${an}-${e}`:an;return n.interpreterMap.get(i)},ao=(e=rG,t=aa)=>{let n=t(e().scene_id);return null==n?void 0:n.state.matches(E3.SHOWING)},as=(e=rG,t=ao)=>{let n=e();return{sceneId:t()?ew.lastChanceEndcard:n.scene_id,sceneType:t()?ew.lastChanceEndcard:n.scene_type}},al=(e=as)=>({[Ew.EMIT_CLOSE_BUTTON_SHOW]:()=>{let{sceneId:t,sceneType:n}=e(),i=new Map([[eM.video,eP.VIDEO_CLOSE_BUTTON_SHOW],[eM.endcard,eP.ENDCARD_CLOSE_BUTTON_SHOW]]);i.set(ew.lastChanceEndcard,eP.LAST_CHANCE_ENDCARD_CLOSE_BUTTON_SHOW),i.has(n)&&nn({name:i.get(n),scene_type:n,scene_id:t},1,["name","scene_id"])},[Ew.EMIT_CLOSE_BUTTON_CLICK]:()=>{let{sceneId:t,sceneType:n}=e();r8(t,n)},[Ew.SET_CLOSE_BUTTON_VISIBLE]:p({isCloseButtonVisible:!0}),[Ew.SET_CLOSE_BUTTON_HIDDEN]:p({isCloseButtonVisible:!1})});(uB=E4||(E4={})).PROGRESS="progress",uB.VIDEO_LENGTH="videoLength",uB.SUCCESSFUL_VIEW_AD="successfulViewAd",uB.VIDEO_REACHED_DURATION="videoReachedDuration";var ad=E4,ac=(e,t=L())=>{let n=Number(t.get(y.INCENTIVIZED_CLOSE_BUTTON_DELAY_SECONDS));return!Q(t.get(y.IS_INCENTIVE_TIED_TO_CLOSE_BUTTON_DELAY))||Number.isNaN(n)||n>e?.8*e:.8*n},au=(e,t)=>0===t?0:t-e<=.5?4:Math.floor(e/t*4);const aE=(e,t,n)=>{R().getMraidBridgeExt()&&t>0&&e>0&&ae().emit({type:"videoViewed",event:ad.VIDEO_LENGTH,data:{currentTime:e,duration:t,seconds:n},fireOnlyOnce:!0})},a_=(e,t)=>{J()&&e>=ac(t)&&ae().emit({type:"videoViewed",event:ad.SUCCESSFUL_VIEW_AD,fireOnlyOnce:!0})},av=(e,t,n)=>{let i=au(e,t),r=ae();4===i&&r.emit({type:"videoViewed",event:ad.VIDEO_REACHED_DURATION,data:{currentTime:e,duration:t,seconds:n},fireOnlyOnce:!0})},aT=(e,t,n)=>{let i=ae();i.getActivityEvents().some((e=>e.name===ad.PROGRESS&&e.data.seconds>=n))||i.emit({type:"videoViewed",event:ad.PROGRESS,data:{currentTime:e,duration:t,seconds:n}}),aE(e,t,n),a_(e,t),av(e,t,n)},aS=(e,t)=>Math.floor(1e3*(t.isInLine()?Math.max(e,.1):e));var ah=(e,t,n=ee(),i=R(),r=z())=>{var a,o,s,l;let d=i.getMraidBridgeExt();if(!d)return;let c=aS(null!==(s=null===(a=t.data)||void 0===a?void 0:a.currentTime)&&void 0!==s?s:0,r),E=Math.floor(1e3*(null!==(l=null===(o=t.data)||void 0===o?void 0:o.duration)&&void 0!==l?l:0)),u=n.getActivityEvents().some((e=>{var t;return(null==e||null===(t=e.data)||void 0===t?void 0:t.name)===eP.FORFEIT_REWARD}));switch(t.event){case ad.PROGRESS:d.notifyEventValuePairEvent("videoViewed",c);break;case ad.VIDEO_REACHED_DURATION:d.notifyEventValuePairEvent("videoViewed",E);break;case ad.VIDEO_LENGTH:d.notifyEventValuePairEvent("videoLength",E);break;case ad.SUCCESSFUL_VIEW_AD:u||(nn({name:eP.GRANT_REWARD}),d.notifySuccessfulViewAd(),nZ(n$.REWARD_GRANTED,!0))}};const ap=[{currentTime:.1,timeout:0},{currentTime:2,timeout:2e3},{currentTime:3,timeout:1e3},{currentTime:4,timeout:1e3},{currentTime:5,timeout:1e3}],ag=(e,t)=>[n$.CHECKPOINT_0,n$.CHECKPOINT_25,n$.CHECKPOINT_50,n$.CHECKPOINT_75,n$.CHECKPOINT_100][Math.floor(e/t*4)],aC=(e,t=t8())=>{let n=ap[e],i=ap.length-1;t.getNewTimer(n.timeout,(()=>{nZ(ag(n.currentTime,5),!0,{currentTime:n.currentTime,endcardDuration:5}),aT(n.currentTime,5,Math.round(n.currentTime)),e!==i&&aC(e+1)})).start()};var aO=()=>"true"===L().get(y.OM_ENABLED);(E6||(E6={})).REMOVE_HANDLER="REMOVE_HANDLER";var aA=()=>{try{return window.OmidSessionClient.default}catch(e){return}},aI=class{init(e,t){var n,i;if(this.sessionClient=aA(),!this.sessionClient)return;let{AdSession:r,Partner:a,Context:o,VerificationScriptResource:s,AdEvents:l,MediaEvents:d}=this.sessionClient;if(t){let e=new s(t.vendorURL,t.vendorKey,t.params);this.verificationScriptResources=[e]}let c=j().getSdkVersion().toString();this.partner=new a(this.vungleData.partnerName,c||this.vungleData.partnerVersion),this.context=new o(this.partner,this.verificationScriptResources),void 0!==e&&(null===(n=this.context)||void 0===n||n.setVideoElement(e)),this.adSession=new r(this.context),(null===(i=this.adSession)||void 0===i?void 0:i.isSupported)&&this.adSession.isSupported()&&(this.adEvents=new l(this.adSession),this.mediaEvents=new d(this.adSession))}eventDrain(){this.funcsOnImpression.forEach((e=>{e()})),this.funcsOnImpression=[]}pushOrCallFunction(e){this.hasSessionStarted?e():this.funcsOnImpression.push(e)}onCtaClick(){this.pushOrCallFunction((()=>{var e;null===(e=this.mediaEvents)||void 0===e||e.adUserInteraction("click")}))}constructor(){this.vungleData={partnerName:"Vungle",partnerVersion:"1.0"},this.hasSessionStartRequested=!1,this.initialized=!1,this.hasSessionStarted=!1,this.funcsOnImpression=[]}};(uH=E8||(E8={})).HTML_DISPLAY="htmlDisplay",uH.VIDEO="video";var af=E8;(E7||(E7={})).LOADED="loaded";var aN=E7;(uW=E9||(E9={})).SESSION_START="sessionStart",uW.SESSION_ERROR="sessionError",uW.SESSION_FINISH="sessionFinish";var am=E9,aD=class extends aI{init(){if(!this.initialized)try{var e,t,n;this.initialized=!0,super.init(),null===(e=this.adSession)||void 0===e||e.setCreativeType(af.HTML_DISPLAY),null===(t=this.adSession)||void 0===t||t.setImpressionType(aN.LOADED),null===(n=this.adSession)||void 0===n||n.registerSessionObserver(this.onSessionChange.bind(this))}catch(e){ee().emit({type:"error-logging",event:ie.EXCEPTION,data:{error:{message:"Unable to init omsdk banner and mrec"}}})}}onSessionStarted(){var e,t;this.hasSessionStartRequested&&this.initialized&&!this.hasSessionStarted&&(null===(e=this.adEvents)||void 0===e||e.impressionOccurred(),this.hasSessionStarted=!0,null===(t=this.adEvents)||void 0===t||t.loaded(null),this.eventDrain())}onSessionChange(e){if(e.type===am.SESSION_START)return this.hasSessionStartRequested=!0,void this.onSessionStarted();e.type===am.SESSION_FINISH&&ee().emit({type:"cta",event:E6.REMOVE_HANDLER})}static getServiceIdentifier(){return"OmsdkHtmlDisplayServiceInterface"}constructor(){super(),this.init()}},aR=()=>{if(aO()){let e=aD.getServiceIdentifier(),t=new aD;r.getInstance().bind(e,t)}};(uF=_e||(_e={})).SILENT="silent",uF.UN_SILENT="un-silent";var aL=_e,ay=(e=R())=>{var t,n,i;return null!==(i=null===(n=e.getMraidExt())||void 0===n||null===(t=n.isSilent)||void 0===t?void 0:t.call(n))&&void 0!==i&&i},aP=(e=eo())=>e.filter((e=>{let t=e.getSceneType();return[eM.video,eM.endcard].includes(t)})).some((e=>e.muted)),aV=()=>ee();const aw=(e=ee())=>e.getActivityEvents().some((e=>"silent"===e.eventType&&(e.name===aL.SILENT||e.name===aL.UN_SILENT))),aM=(e,t,n)=>{t||n||e.emit({type:"silent",event:aL.UN_SILENT})},ab=(e,t)=>{e.emit({type:"silent",event:t?aL.SILENT:aL.UN_SILENT})},ak=(e=R(),t=aV(),n=j(),i=aP())=>{let r=ay(e);var a;n.getOperatingSystem()===eR.iOS?(null===(a=e.getMraid())||void 0===a||a.removeEventListener("silentChange",ak),aM(t,i,r)):ab(t,r)};var aU=()=>{let e=r.getInstance(),t=e$.getServiceIdentifier();return e.get(t)},aB=()=>ee(),aH=(e=aB(),t=aU())=>{let n=t.isViewable();e.emit({type:"viewability",event:n?nT.MAXIMIZED:nT.MINIMIZED})},aW=()=>{let e=r.getInstance(),t=iR.getServiceIdentifier();return e.get(t)};(ux=_t||(_t={})).INFO="info",ux.READY="ready",ux.ERROR="error",ux.STATE_CHANGE="stateChange",ux.ORIENTATION_CHANGE="orientationChange",ux.VIEWABLE_CHANGE="viewableChange",ux.SIZE_CHANGE="sizeChange",ux.SILENT_CHANGE="silentChange",(_n||(_n={})).CLOSE_BUTTON_WILL_SHOW="closeButtonWillShow";var aF=class extends a{getEventCallbacks(e){return this.callbacks[e]=this.callbacks[e]||[],[...this.callbacks[e]]}updateEventCallbacks(e,t){this.callbacks[e]=t}addEventListener(e,t){if(!this.allowedMraidEvents.includes(e))return;let n=this.getEventCallbacks(e);this.updateEventCallbacks(e,[...n,t])}removeEventListener(e,t){if(this.allowedMraidEvents.includes(e))if(t){let n=this.getEventCallbacks(e).filter((e=>e!==t));this.updateEventCallbacks(e,n)}else this.updateEventCallbacks(e,[])}flushAllEventCallbacks(){this.allowedMraidEvents.forEach((e=>{this.updateEventCallbacks(e,[])}))}init(){this.mraidEvents.forEach((e=>{this.mraidService.getMraid().addEventListener(e,((...t)=>{"silentChange"===e&&this.injectedHandleAdSilentMessage(),"viewableChange"===e&&this.injectedHandleAdViewabilityMessage(),this.getEventCallbacks(e).forEach((e=>{e(...t)}))}))}))}triggerEvent(e,...t){"viewableChange"===e&&this.injectedPreloadService.isHTMLPreloading()||this.getEventCallbacks(e).forEach((e=>{e(...t)}))}static getServiceIdentifier(){return"MraidEventsProxyServiceInterface"}constructor(e,t=R(),n=ak,i=aH,r=aW()){super(),this.mraidEvents=e,this.mraidService=t,this.injectedHandleAdSilentMessage=n,this.injectedHandleAdViewabilityMessage=i,this.injectedPreloadService=r,this.allowedMraidEvents=[...this.mraidEvents,...Object.values(_n)],this.callbacks={}}},ax=()=>{let e=r.getInstance(),t=aF.getServiceIdentifier();return e.get(t)},aG=e=>{e.length>0&&((new Image).src=e)},aY=()=>ee();const aK=(e,t)=>`${e}_${t}`,aX=e=>{let t=e.split("_");return t[t.length-1]},aj=(e,t)=>{var n,i;if(!(null===(n=t.data)||void 0===n?void 0:n.trackingEventMapConfig.enabled))return;let r=aX(t.event),a=null===(i=t.data)||void 0===i?void 0:i.trackingEventMapConfig.events;if(!(null==a?void 0:a[r]))return;let o=a[r];null==o||o.forEach((e=>{aG(e)}))};var az=(e=!0,t=aY())=>{tC((()=>e?(t.addEventHandler("tracking-event",aj),()=>{t.removeEventHandler("tracking-event",aj)}):()=>{}),[t,e])},a$=(e,t,n,i=!1,r=aY())=>{if(!t||!n||!n.enabled)return;let a=n.events;if(!(null==a?void 0:a[e]))return;let o=aK(t,e);r.emit({type:"tracking-event",event:o,fireOnlyOnce:i,data:{trackingEventMapConfig:n}})},aq=(e=rG,t=Z,n=t2)=>({[id.ON_CREATIVE_VIEW]:()=>{let e=t();e&&[eM.endcard,eM.image].includes(e.getSceneType())&&a$(ek.CREATIVE_VIEW,e.getId(),e.getTrackingEventMapConfig(),!0)},[id.FLUSH_MRAID_EVENTS_PROXY_CALLBACKS]:()=>{ax().flushAllEventCallbacks()},[id.DESTROY_IFRAME]:p({shouldRenderIFrame:!1}),[id.INIT_CHECKPOINTS]:()=>{!ee().hasExistingEvent({type:"tpat",event:n$.CHECKPOINT_0})&&aU().isViewable()&&aC(0)},[id.INIT_OMSDK_HTML_DISPLAY_SERVICE]:()=>{aR()},[id.ON_ENDCARD_START]:()=>{nn({name:eP.ENDCARD_START}),nn({name:eP.ENDCARD_LOAD_START}),nn({name:eP.ENDCARD_FIRST_CLICK_START})},[id.ON_ENDCARD_CLOSE]:()=>{let t=e();t&&r8(t.scene_id,t.scene_type)},[id.ON_ENDCARD_CLOSE_BUTTON_WILL_SHOW]:()=>{let e=ax();e.triggerEvent(_n.CLOSE_BUTTON_WILL_SHOW),e.removeEventListener(_n.CLOSE_BUTTON_WILL_SHOW)},[id.ON_SHOW]:()=>{let e=n();null==e||e.send({type:E_.SHOW})}});const aZ=$({isLastChanceEndcardOverlayShowing:!1},"LastChanceEndcardOverlayContext");(uG=_i||(_i={})).SHOW_LAST_CHANCE_ENDCARD="showLastChanceEndcard",uG.CLOSE_LAST_CHANCE_ENDCARD="closeLastChanceEndcard";var aQ=()=>({showLastChanceEndcard:()=>{let e=q.getValue().scene;if(nU(e)){let t=aa(e.getId());aZ.setValue({isLastChanceEndcardOverlayShowing:!0}),null==t||t.send({type:E2.SHOW})}},closeLastChanceEndcard:()=>{aZ.setValue({isLastChanceEndcardOverlayShowing:!1});let e=q.getValue().scene;if(nU(e)){let t=aa(e.getId());null==t||t.send({type:E2.HIDE})}}}),aJ=class extends a{initializeForComponent(e,t,n){0!==t&&(this.storeKitOverlayService.canOpen()?e(!0):this.timerService.getNewTimer(n,(()=>{this.initializeForComponent(e,t-1,n)})).start())}startAutoShow(e){var t;if(this.reset(),!e.enabled)return Promise.resolve();let n=this.timerService.getNewTimer(null!==(t=e.autoShowDelay)&&void 0!==t?t:5e3);return this.openTimer=n,(async()=>{let t;if(e.isAutoClose){var i;let n=null!==(i=e.autoCloseDelay)&&void 0!==i?i:5e3;t=this.timerService.getNewTimer(n,(()=>{this.storeKitOverlayService.close()})),this.closeTimer=t}this.storeKitOverlayService.open({delayed:!0,fallback:Ef.OFF}),await n.asPromise().then((()=>{this.storeKitOverlayService.open({delayed:!0,fallback:Ef.OFF}),t&&t.start(),e.openCallback&&e.openCallback(),n.destroy()}))})()}reset(){this.openTimer&&(this.openTimer.destroy(),this.openTimer=void 0),this.closeTimer&&(this.closeTimer.destroy(),this.closeTimer=void 0)}static getServiceIdentifier(){return"StoreKitOverlayAutoShowServiceInterface"}constructor(e,t=t8()){super(),this.storeKitOverlayService=e,this.timerService=t}},a0=()=>{let e=r.getInstance(),t=aJ.getServiceIdentifier();if(e.has(t))return e.get(t)};(_r||(_r={})).RESET_AUTO_SHOW_OVERLAY_SERVICE="resetAutoShowOverlayService";var a1=(e=a0)=>({resetAutoShowOverlayService:()=>{let t=e();null==t||t.reset()}}),a2=()=>d({},il(),ni(),at(),nE(),a1(),ny(),t7(),t6(),al(),aq(),aQ()),a3=()=>({isPrivacyButtonVisible:!1,isPrivacyDrawerOpen:!1,isCloseButtonVisible:!1,shouldRenderIFrame:!0}),a5=class{convertScene(e){let t=e.getTransitions(),n={[e.getId()]:{entry:[],exit:[],on:{}}};return e.getEntryActions().forEach((t=>{n[e.getId()].entry.push(t.name)})),e.getExitActions().forEach((t=>{n[e.getId()].exit.push(t.name)})),t.forEach((t=>{let i=t.actions.map((e=>e.name)),{cond:r}=t;t.scene?n[e.getId()].on[t.name]={actions:i,target:t.scene.getId(),cond:r}:n[e.getId()].on[t.name]={actions:i,cond:r}})),this.removeFalsyValues(n)}convertScenes(e){let t={};return e.forEach((e=>{Object.assign(t,this.convertScene(e))})),t}removeFalsyValues(e){return Object.keys(e).forEach((t=>{e[t]&&"object"==typeof e[t]?(this.removeFalsyValues(e[t]),0===Object.keys(e[t]).length&&delete e[t]):e[t]||delete e[t]})),e}},a4=()=>{let e=new a5,t=eo(),n=e.convertScenes(t);return{id:"ad",initial:t[0].getId(),states:n,context:a3()}};(_a||(_a={})).DECODING_ERROR="decoding_error";var a6=_a,a8=(e=R(),t=z())=>{var n,i,r,a,o,s;return null!==(s=null!==(o=null===(i=e.getMraidExt())||void 0===i||null===(n=i.getConsentRequired)||void 0===n?void 0:n.call(i))&&void 0!==o?o:null===(a=e.getMraid())||void 0===a||null===(r=a.getConsentRequired)||void 0===r?void 0:r.call(a))&&void 0!==s&&s&&!t.isBanner()},a7=class{decodeAndUnzip(e){try{let t=Uint8Array.from(atob(e),(e=>e.charCodeAt(0))),n=rV(t),i=String.fromCharCode.apply(null,n).replace(/"stateMachine":/g,'"statemachine":');return JSON.parse(i)}catch(e){return void this.freeFormReportingService.emit({type:"free-form",event:a6.DECODING_ERROR})}}getAdExperience(e=a8(this.mraidService,this.placementTypeService)){var t,n;if(!this.adExperienceCache){let n=null!==(t=this.tokenService.get(y.AD_EXPERIENCE))&&void 0!==t?t:"",i=this.decodeAndUnzip(n);this.adExperienceCache=this.addGDPRSceneIfConsentRequired(i,e)}return null!==(n=this.adExperienceCache)&&void 0!==n?n:{components:{},statemachine:{id:"ad",initial:"closed",states:{}}}}addGDPRSceneIfConsentRequired(e,t=a8(this.mraidService,this.placementTypeService)){if(e&&t){let t=e.statemachine.initial;e.statemachine.states.gdpr={on:{[Eh.NEXT]:{target:t}}},e.statemachine.initial=ea}return e}getAdMachineConfig(){let e=this.getAdExperience();return C(d({},null==e?void 0:e.statemachine),{id:"ad"})}getSceneData(){let e=this.getAdExperience();return(null==e?void 0:e.components)?Object.entries(e.components).map((([e,t])=>C(d({},t),{id:e}))):[]}constructor(e=L(),t=ee(),n=R(),i=z()){this.tokenService=e,this.freeFormReportingService=t,this.mraidService=n,this.placementTypeService=i}},a9=(e=new a7,t=eo())=>{let n=e.getAdMachineConfig();return n.states=n.states||{},t.forEach((e=>{let t=e.getId();n.states[t]=n.states[t]||{on:{},entry:[],exit:[]},e.getTransitions().forEach((e=>{if(n.states[t].on){var i,r,a;let o=e.name,s=null===(i=e.scene)||void 0===i?void 0:i.getId(),l=null===(r=n.states[t].on)||void 0===r?void 0:r[o],c={actions:Array.from(new Set([...Array.from(null!==(a=null==l?void 0:l.actions)&&void 0!==a?a:[]),...e.actions.map((e=>e.name))])),cond:(null==l?void 0:l.cond)?l.cond:e.cond};s&&(c.target=s),n.states[t].on[o]=d({},null!=l?l:{},c)}})),n.states[t].entry||(n.states[t].entry=[]),n.states[t].entry.push(...e.getEntryActions().map((e=>e.name))),n.states[t].exit||(n.states[t].exit=[]),n.states[t].exit.push(...e.getExitActions().map((e=>e.name)))})),C(d({},n),{context:d({},a3(),n.context)})},oe=(e=L())=>[e.has(y.AD_EXPERIENCE)?a9():a4(),{actions:d({},a2())}];const ot=(e=t0())=>{let t=e.machineMap.get("ad");if(t)return t.machine;let[n,i]=oe();return e.createMachine(n,i)};var on=(e=t0())=>e.interpret(ot(e)),oi=()=>({width:window.innerWidth,height:window.innerHeight}),or=()=>C(d({},oi()),{useCustomClose:!1,isModal:!1}),oa=()=>d({x:0,y:0},oi()),oo={};function os(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}(oo=os).default=os;class ol extends Error{}var od=(e,t=1e4,n=new ol("Timed out waiting!"))=>new Promise(((i,r)=>{let a=t=>{var o;let s=e();((o=oo)&&o.__esModule?o.default:o)(s)?s.then((e=>{e?i(e):t<0?r(n):setTimeout((()=>a(t-100)),100)})):s?i(s):t<0?r(n):setTimeout((()=>a(t-100)),100)};setTimeout((()=>a(t-100)),100)}));const oc=new w("5.0.0");var ou=(e=j())=>e.getMraidVersion().isGreaterThanOrEqualTo(oc);const oE=(e=ee())=>e.getActivityEvents().filter((e=>{var t;return e.type===ey.EVENT&&"observability"===e.eventType&&(null===(t=e.data)||void 0===t?void 0:t.name)===eP.OPEN_STOREKIT_PRODUCT_VIEW_COMMAND})).length>=2;var o_=async(e,t=nA(),n=oE(),i=ou(),r=nn)=>{if(n)return!1;if(r({name:eP.OPEN_STOREKIT_PRODUCT_VIEW_COMMAND}),null==t||t.open(),i)try{await od((()=>null==t?void 0:t.isOpen()),e)}catch(e){return!1}return!0},ov=()=>({[Ez.OPEN_STOREKIT_OVERLAY_VIEW]:(e,t=nR,n=nu)=>async()=>{if(!t())return!1;let e=n();if(!e.isIdle())return!1;if(e.isOpen())return!0;e.open({fallback:Ef.OFF});try{return await od((()=>e.isOpen()),3e3),!0}catch(e){return!1}},[Ez.CLOSE_STOREKIT_OVERLAY_VIEW]:(e,t=nR,n=nu)=>async()=>{if(!t())return!1;let e=n();if(!e.isOpen())return!0;e.close();try{return await od((()=>!e.isOpen()),3e3),!0}catch(e){return!1}},[Ez.OPEN_STOREKIT_PRODUCT_VIEW]:(e,t=nl,n=nA,i=o_)=>async()=>{if(!t())return!1;let e=n();return null!=e&&!!e.isOpen()||(null==e||e.open(),await i(3e3))}}),oT=e=>(null!=e?e:ee()).getActivityEvents().some((e=>e.type===ey.EVENT&&"observability"===e.eventType&&e.data.name===eP.ENDCARD_CLICK)),oS=()=>{if(rk())return!1;let e=j();if(e.getOperatingSystem()===eR.Android||e.getOperatingSystem()===eR.Unknown)return!1;let t=new w("6.12.0");return!e.getSdkVersion().isLessThanOrEqualTo(t)};(uY=_o||(_o={})).DOWNLOAD_BUTTON_CTA="DOWNLOAD_BUTTON_CTA",uY.ENDCARD_CTA="ENDCARD_CTA",uY.LAST_CHANCE_ENDCARD_CTA="LAST_CHANCE_ENDCARD_CTA",uY.PERSISTENT_CTA="PERSISTENT_CTA";var oh=_o;const op=()=>ee(),og=()=>ee();var oC=(uK=e=>{op().emit({type:"cta",event:oh.ENDCARD_CTA,data:{ctaUrl:e}})},t=!1,function(...n){!t&&(e||(uK.apply(this,n),t=!0,e=window.setTimeout((()=>{t=!1,e=void 0}),300)))}),oO=e=>!!e&&!![eM.video,eM.image,eM.endcard].includes(e.getSceneType())&&e.getLastChanceEndcardConfig().enabled,oA=()=>d({[Ez.CLOSE]:(e,t=on)=>()=>t().send(Eh.CLOSE),[Ez.ADD_EVENT_LISTENER]:()=>(e,t,n=ax)=>{n().addEventListener(e,t)},[Ez.EXIT_ALTERNATIVE]:(e,t=on,n=r8,i=oO)=>()=>{if(aZ.getValue().isLastChanceEndcardOverlayShowing)return;let e=Z(),r={type:Eh.NEXT};e&&(n(e.getId(),e.getSceneType()),i(e)&&(r={type:Eh.LAST_CHANCE_ENDCARD})),t().send(r)},[Ez.IS_VIEWABLE]:(e,t=aU,n=aW)=>()=>!n().isHTMLPreloading()&&t().isViewable(),[Ez.GET_VIEWABLE]:(e,t=aU,n=aW)=>()=>!n().isHTMLPreloading()&&t().isViewable(),[Ez.GET_CURRENT_POSITION]:()=>oa,[Ez.GET_DEFAULT_POSITION]:()=>oa,[Ez.GET_EXPAND_PROPERTIES]:()=>or,[Ez.GET_MAX_SIZE]:()=>oi,[Ez.GET_PLACEMENT_TYPE]:e=>e.getPlacementType.bind(e),[Ez.GET_SCREEN_SIZE]:()=>oi,[Ez.GET_STATE]:e=>e.getState.bind(e),[Ez.OPEN]:(e,t=rk,n=oT,i=oC)=>t()?e=>n()?i(e):null:e=>{i(e,"CTA")},[Ez.REMOVE_EVENT_LISTENER]:()=>(e,t,n=ax)=>{n().removeEventListener(e,t)},[Ez.SET_ORIENTATION_PROPERTIES]:(e,t=oS)=>t()?e.setOrientationProperties.bind(e):()=>null,[Ez.SHOW_ALTERNATIVE]:(e,t=on)=>e=>{aZ.getValue().isLastChanceEndcardOverlayShowing||t().send(e)},[Ez.NEXT]:(e,t=on)=>e=>{aZ.getValue().isLastChanceEndcardOverlayShowing||t().send(e)},[Ez.GRANT_REWARD]:(e,t=R,n=nn,i=nZ)=>{let r=t().getMraidBridgeExt();return n({name:eP.GRANT_REWARD}),null==r||r.notifySuccessfulViewAd(),i(n$.REWARD_GRANTED,!0),()=>null}},ov()),oI=()=>C(d({},oA(),rH()),{supports:()=>e=>Object.values(Ez).includes(e)}),of=class{getProxyMraid(){return new Proxy(this.originalMraid,this.getProxyHandler())}constructor(e=R().getMraid(),t=oI(),n=nn){this.originalMraid=e,this.commandHandlers=t,this.injectedEmitObservabilityEvent=n,this.getProxyHandler=()=>{let{commandHandlers:e,injectedEmitObservabilityEvent:t}=this;return{get:(n,i)=>e[i]?e[i](n):n[i]?n[i]:(t({name:eP.UNKNOWN_MRAID_COMMAND,value:i}),()=>!1)}}}},oN=e=>{e.addEventListener("load",(()=>{nn({name:eP.ENDCARD_LOAD_COMPLETE,scene_id:Z().getId()})}))},om=e=>{let t=/(?:window\.)?(?:top\.|parent\.)?(?:window\.)?(?:location(?:\.href)?)\s*=\s*([^;]+?)(;|\s*<\/script>|$)/g;return t.test(e)?e.replace(t,((e,t,n)=>`mraid.open(${t})${n}`)):e},oD=()=>"ontouchstart"in document.documentElement==1?"touchstart":"click";const oR=(e,t)=>{if(e instanceof Element){var n;let i=null!==(n=e.getAttribute("id"))&&void 0!==n?n:"";return!t.includes(i)&&("body"===e.tagName.toLowerCase()||oR(e.parentElement,t))}return!0},oL=[el,ib,iU,ik],oy=(e,t,n=nn)=>{oR(e.target,oL)&&n({name:eP.INTERACTION_AFTER_CLOSE_BUTTON_VISIBLE,value:null!==document.querySelector(`#${ib}`),scene_id:t},1,["name","scene_id"])},oP=(e,t,n=nn)=>{oR(e.target,oL)&&n({name:eP.CLICK_OCCURRED,scene_id:t})},oV=(e,t,n=nn)=>{oR(e.target,oL)&&t===eM.video&&n({name:eP.FIRST_INTERACTION_ON_VIDEO_PAGE},1)},ow=(e,t,n,i=nn)=>{oR(e.target,oL)&&[eM.endcard,eM.image].includes(t)&&e.isTrusted&&(i({name:eP.ENDCARD_FIRST_CLICK,scene_id:n},1,["name","scene_id"]),i({name:eP.ENDCARD_CLICK,scene_id:n}))},oM=(e,t=!1,n=Z,i=nn)=>{var r,a;let o=t?ew.lastChanceEndcard:null===(r=n())||void 0===r?void 0:r.getSceneType(),s=t?ew.lastChanceEndcard:null===(a=n())||void 0===a?void 0:a.getId();oy(e,s,i),oP(e,s,i),oV(e,o,i),ow(e,o,s,i),r$(e,o,s)};var ob=(e,t=!0,n=Z,i=nn,r=oM)=>{tC((()=>{if(!t)return()=>{};let a=t=>{r(t,e,n,i)};return document.body.addEventListener(oD(),a,!0),()=>{document.body.removeEventListener(oD(),a,!0)}}),[e,t])},ok=(e,t,n,i=oM,r=a$)=>{e&&e.document.addEventListener(oD(),(e=>{(null==e?void 0:e.isTrusted)&&r(ek.CLICK_THROUGH,n,t),i(e,!1)}),!0)},oU=e=>e.replace(/(top\.window\.open|top\.mraid\.open|parent\.window\.open|parent\.mraid\.open)\((.*?)\)/g,"mraid.open($2)"),oB=()=>{let e=r.getInstance(),t=ez.getServiceIdentifier();return e.get(t)};(uX=_s||(_s={}))[uX.MUTE=0]="MUTE",uX[uX.UNMUTE=1]="UNMUTE";var oH=class{interceptAudioContext(){let e=this;function t(){let t=new e.originAudioContext,n=t.createGain();return n.gain.setValueAtTime(e.shouldMute?0:1,t.currentTime),n.connect(t.destination),Object.defineProperty(t,"destination",{get:()=>n,configurable:!0}),e.instances.set(t,n),t}t.prototype=this.originAudioContext.prototype,Object.defineProperty(this.targetWindow,"AudioContext",{value:t,configurable:!0})}muteAll(){this.shouldMute=!0,this.instances.forEach(((e,t)=>{e.gain.setValueAtTime(0,t.currentTime)}))}unmuteAll(){this.shouldMute=!1,this.instances.forEach(((e,t)=>{e.gain.setValueAtTime(1,t.currentTime)}))}constructor(e,t){this.instances=new Map,this.targetWindow=e,this.originAudioContext=e.AudioContext||e.webkitAudioContext,this.shouldMute=t,this.interceptAudioContext()}};(uj=_l||(_l={})).AUDIO="audio",uj.VIDEO="video",uj.IFRAME="iframe",uj.DEFAULT="default";var oW=e=>{let t=e.nodeName.toLowerCase();switch(t){case"audio":case"video":case"iframe":return t;default:return"default"}},oF=class{isNodeAllowed(e){return[_l.AUDIO,_l.VIDEO].includes(oW(e))}preventSoundResume(e){Object.defineProperty(e,"muted",{set:()=>{},get:()=>!0,configurable:!0})}mute(e,t=!0){(!t||this.isNodeAllowed(e))&&(e.muted=!0,this.preventSoundResume(e),this.storeElement(e))}unmute(e,t=!0){if(t&&!this.isNodeAllowed(e))return;let n=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"muted");n&&Object.defineProperty(e,"muted",n),e.muted=!1,this.storeElement(e)}muteAll(){this.instances.forEach((e=>{this.mute(e,!1)})),Array.from(this.targetWindow.document.querySelectorAll("audio, video")).forEach((e=>{this.mute(e,!1)}))}unmuteAll(){this.instances.forEach((e=>{this.unmute(e,!1)}))}storeElement(e){this.instances.has(e)||this.instances.add(e)}constructor(e){this.targetWindow=e,this.instances=new Set}};class ox{interceptStaticIframes(){Array.from(this.targetWindow.document.querySelectorAll("iframe")).forEach((e=>{this.handleIframeNode(e)}))}doMuteAllIfMute(){this.mute&&this.muteAllMedias()}unmuteAllMedias(){this.mute=!1,this.silencers.forEach((e=>e.unmuteAll()))}muteAllMedias(){this.mute=!0,this.silencers.forEach((e=>e.muteAll()))}handleIframeNode(e){var t;ox.isWindowAccessible(e.contentWindow)&&ox.interceptAllMediaElements(e.contentWindow,this.mute);let n=!ox.hasIframeCrossOriginUrl(e);this.injectedEmitObservabilityEvent({name:eP.NESTED_IFRAME_TYPE,scene_id:null===(t=this.injectedGetCurrentScene())||void 0===t?void 0:t.getId(),nested_iframe_type:n?E1.NESTED_IFRAME_WITHOUT_CORS:E1.NESTED_IFRAME_WITH_CORS})}handleNewNode(e){oW(e)===_l.IFRAME&&this.handleIframeNode(e),this.mute?this.silencers.forEach((t=>{var n;return null===(n=t.mute)||void 0===n?void 0:n.call(t,e)})):this.silencers.forEach((t=>{var n;return null===(n=t.unmute)||void 0===n?void 0:n.call(t,e)}))}interceptCreateElement(){let e=this.targetWindow.document.createElement;Object.defineProperty(this.targetWindow.document,"createElement",{value:(t,...n)=>{let i=e.call(this.targetWindow.document,t,...n);return this.handleNewNode(i),i},configurable:!0})}observeDomMutation(){new this.targetWindow.MutationObserver((e=>{e.forEach((e=>{let{addedNodes:t}=e;for(let e=0;e<t.length;e+=1)this.handleNewNode(t[e])}))})).observe(this.targetWindow.document,{subtree:!0,childList:!0})}constructor(e,t,n=!1,i=nn,r=Z){this.targetWindow=e,this.silencers=t,this.mute=n,this.injectedEmitObservabilityEvent=i,this.injectedGetCurrentScene=r,this.interceptCreateElement(),"complete"===this.targetWindow.document.readyState?(this.doMuteAllIfMute(),this.observeDomMutation()):this.targetWindow.document.addEventListener("DOMContentLoaded",(()=>{this.doMuteAllIfMute(),this.observeDomMutation()})),this.interceptStaticIframes(),this.doMuteAllIfMute()}}ox.instances=new Map,ox.hasIframeCrossOriginUrl=e=>{var t;return null===(t=e.src)||void 0===t?void 0:t.toLowerCase().startsWith("http")},ox.isWindowAccessible=e=>{try{return!!(null==e?void 0:e.document)}catch(e){return!1}},ox.interceptAllMediaElements=(e,t,n=nn,i=Z)=>{let r=new ox(e,[new oF(e),new oH(e,t)],t,n,i);ox.instances.set(e,r)},ox.muteAllMedias=()=>{ox.instances.forEach((e=>{ox.isWindowAccessible(e.targetWindow)&&e.muteAllMedias()}))},ox.unmuteAllMedias=()=>{ox.instances.forEach((e=>{ox.isWindowAccessible(e.targetWindow)&&e.unmuteAllMedias()}))};var oG=(e,t)=>{Object.defineProperty(e,t,{configurable:!1,enumerable:!0,value:e[t],writable:!1})},oY=e=>{let t=e.addEventListener;e.addEventListener=(n,i,r)=>{"beforeunload"!==n&&t.call(e,n,i,r)}},oK=(e,t,n)=>{if(e)return t;let i=new URLSearchParams(window.location.search);return t||i.has(n)},oX=(e,t)=>{e.document.addEventListener("click",(e=>{var n;let i=e.target.closest("a");if(i){if(!e.isTrusted)return void e.preventDefault();(null===(n=i.href)||void 0===n?void 0:n.toLowerCase().startsWith("http"))&&(e.preventDefault(),t(i.href))}}),{capture:!0})},oj=class extends iH{getIframeHTML(){return this.scene.isAlternative()?this.decodeHtml(this.scene.endcardContent,!1):this.decodeHtml(this.scene.endcardContent,this.scene.compressionType===Ex.GZIP)}getCloseButtonConfig(){let e=this.scene.getCloseButtonConfig(),t=this.scene instanceof iv&&1===this.scene.index,n=C(d({},e),{delay:!t&&this.globalTimerService.isEnabled()?this.globalTimerService.getEndcardPageCloseButtonDelaySeconds():e.delay});return(oK(!0,Q("false"),"VIDEO_TIMER_VISIBLE_ENDCARD_TIMER_NOT_VISIBLE")||oK(!0,Q("false"),"BOTH_VIDEO_AND_ENDCARD_TIMERS_NOT_VISIBLE"))&&(n.countdown=!1),(oK(!0,Q("false"),"VIDEO_TIMER_NOT_VISIBLE_ENDCARD_TIMER_VISIBLE")||oK(!0,Q("false"),"VIDEO_ENDCARD_TIMERS_BOTH_VISIBLE"))&&(n.countdown=!0),n}initMraidInIframeForFullscreen(e){if(!e)return;let t=this.proxyMraidService.getProxyMraid();e.mraid=t,oG(e,"mraid"),e.open=e=>t.open(e)}initMraidInIframeForNonFullscreen(e){let t=e.contentWindow;t.mraid=this.proxyMraidService.getProxyMraid(),oG(t,"mraid"),t.open=()=>null;let n=e=>{if(e.isTrusted){var i,r,a;t.document.removeEventListener("click",n,!0),t.open=e=>oC(e);let o=e.target.closest("a");(null==o||null===(i=o.href)||void 0===i?void 0:i.startsWith("http"))?e.preventDefault():null===(r=(a=e.target).click)||void 0===r||r.call(a)}},i=()=>{var e;"loading"!==(null===(e=t.document)||void 0===e?void 0:e.readyState)?t.document.addEventListener("click",n,{capture:!0}):requestAnimationFrame(i)};requestAnimationFrame(i)}injectMethodToIframe(e){rk()?this.initMraidInIframeForNonFullscreen(e):this.initMraidInIframeForFullscreen(e.contentWindow)}decompressEncodedEndcard(e){let t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e+=1)n[e]=t.charCodeAt(e);return function(e){if(rw)return rw.decode(e);var t=rM(e),n=t.s;return t.r.length&&rE(8),n}(rV(n)).toString()}decodeHtml(e,t){try{let n;n=t&&this.placementTypeService.isFullscreen()?this.decompressEncodedEndcard(e):M(e);let i=rB(n),r=om(i);return oU(r)}catch(e){return void this.errorLoggingService.emit({type:"error-logging",event:ie.EXCEPTION,data:{error:{message:"Failed to decode endcard"}}})}}addEndcardClickListener(e){if(this.scene.isAlternative())return;let t=this.scene;ok(e,t.getTrackingEventMapConfig(),t.getId())}updateIframeContent(e,t){if(null==e?void 0:e.current){var n;let i=null===(n=e.current)||void 0===n?void 0:n.contentWindow,r=null==i?void 0:i.document;rb(i),oY(i),this.injectMethodToIframe(e.current);try{r.open(),rU(i),oN(i),this.addEndcardClickListener(i),r.write('<base target="_parent"><style>body {margin: 0;padding: 0;overflow: hidden;}</style>'+(null!=t?t:"")),r.close(),oX(i,oC),ox.interceptAllMediaElements(i,this.muteService.isMuted())}catch(e){this.errorLoggingService.emit({type:"error-logging",event:ie.EXCEPTION,data:{error:{message:"Failed to write endcard to iframe"}}})}}}constructor(e,t=op(),n=et(),i=j(),r=z(),a=new of,o=oB(),s=r7()){super(),this.scene=e,this.ctaReportingService=t,this.errorLoggingService=n,this.environmentService=i,this.placementTypeService=r,this.proxyMraidService=a,this.globalTimerService=o,this.muteService=s}},oz=function(e,t,n=t0()){let i=tA((()=>n.createMachine(e,t)),[e]),r=tZ(i.initialState),[a,o]=tA((()=>{let e=n.interpret(i),t=e.subscribe((e=>{r.value=e}));return[e,t]}),[i]);return tC((()=>(a.status!==eI.Running&&a.start(),()=>{o.unsubscribe(),a.stop()})),[a]),[r,a.send,a,e]};(uz=_d||(_d={})).SHOW="ASOD_SHOW",uz.CLOSE="ASOD_CLOSE",(u$=_c||(_c={})).INITIAL="ASOD_INITIAL",u$.SHOWN="ASOD_SHOWN",(uq=_u||(_u={})).SET_DELAY="ASOD_SET_DELAY",uq.OPEN_APP_STORE="ASOD_OPEN_APP_STORE";var o$=class extends a{fireStoreKitOverlayWithDelay(e){let t=nu();new m(e,(()=>{(null==t?void 0:t.canOpen())&&(null==t||t.open())})).start()}openStoreViewWithDelay(e){if(nI()&&nR())return void this.fireStoreKitOverlayWithDelay(e);let t=t8().getNewTimer(e,(()=>{let e=nA();null==e||e.open(!1)}));t.start(),this.timer=t}reset(){var e;null===(e=this.timer)||void 0===e||e.destroy()}static getServiceIdentifier(){return"AppStoreOnDelayServiceInterface"}},oq=()=>{let e=r.getInstance(),t=o$.getServiceIdentifier();return e.get(t)};const oZ=e=>({id:`app-store-on-delay-${e}`,initial:_c.INITIAL,context:{delay:0},states:{[_c.INITIAL]:{on:{[_d.SHOW]:{target:_c.SHOWN,actions:[_u.SET_DELAY]}}},[_c.SHOWN]:{entry:[_u.OPEN_APP_STORE]}}}),oQ={actions:{[_u.SET_DELAY]:p({delay:(e,t)=>t.delay}),[_u.OPEN_APP_STORE]:e=>{oq().openStoreViewWithDelay(e.delay)}}};var oJ=(e,t,n=!0,i=!0)=>{let[,r]=oz(oZ(e),oQ);tC((()=>t.enabled&&n&&i?(r({type:_d.SHOW,delay:t.autoShowDelay}),()=>{oq().reset()}):()=>{}),[n,i])},o0=(e,t=!0,n=!0,i=a0(),r=nu())=>{let a=tZ(null==r?void 0:r.canOpen()),o=()=>e.enabled&&a.value&&t?(null==i||i.startAutoShow(e),()=>{null==i||i.reset()}):()=>{};tQ(o),tC(o,[t,n]),tC((()=>{e.enabled&&(null==i||i.initializeForComponent((e=>{a.value=e}),10,500))}),[])},o1=(e=r7())=>{tC((()=>{e.isMuted()?ox.muteAllMedias():ox.unmuteAllMedias()}),[e.getMutedSignal().value])};_E="oAV7cW_endcard",__="oAV7cW_endcardIframe";var o2=({sendAdEvent:e,htmlService:t,scene:n})=>{let i=tO(null),[r,a]=(tc=1,function(e){var t=tg(to++,2);if(t.t=e,!t.__c&&(t.__=[tR(void 0,!1),function(e){var n=t.__N?t.__N[0]:t.__[0],i=t.t(n,e);n!==i&&(t.__N=[i,t.__[1]],t.__c.setState({}))}],t.__c=ts,!ts.u)){var n=function(e,n,r){if(!t.__c.__H)return!0;var a=t.__c.__H.__.filter((function(e){return!!e.__c}));if(a.every((function(e){return!e.__N})))return!i||i.call(this,e,n,r);var o=!1;return a.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(o=!0)}})),!(!o&&t.__c.props===e)&&(!i||i.call(this,e,n,r))};ts.u=!0;var i=ts.shouldComponentUpdate,r=ts.componentWillUpdate;ts.componentWillUpdate=function(e,t,a){if(this.__e){var o=i;i=void 0,n(e,t,a),i=o}r&&r.call(this,e,t,a)},ts.shouldComponentUpdate=n}return t.__N||t.__}(tR));return tC((()=>{r&&requestAnimationFrame((()=>{let e=t.getIframeHTML(n);t.updateIframeContent(i,e)}))}),[r]),o1(),iP("iframe",{id:"endcardIframe",title:"endcard",onLoad:()=>{e({type:Eh.PRIVACY_LOGO_SHOW}),a(!0)},ref:i,className:__,allow:"autoplay",scrolling:"no",frameBorder:"0"})},o3=(...e)=>e.filter(Boolean).join(" "),o5=(e,t)=>{tC((()=>{let n=window.setInterval((()=>{var i;(null===(i=e.current)||void 0===i?void 0:i.complete)&&(t({type:Eh.PRIVACY_LOGO_SHOW}),window.clearInterval(n))}),100);return()=>{window.clearInterval(n)}}),[])};(_v||(_v={})).FSC="FSC";var o4=_v,o6=class{clickHandler(e){this.reportingService.emit({type:"fsc",event:o4.FSC,data:{ctaUrl:e}})}constructor(e=og()){this.reportingService=e}};_T="_7pzQ5q_hidden",_S="_7pzQ5q_overlayCta";const o8=tB(!1),o7=(e,t)=>{o8.value=t.event===nT.MINIMIZED},o9=e=>e?`${e}-fullscreen-overlay`:"fullscreen-overlay";var se=({config:e,ctaUrl:t,service:n=new o6,reportingService:i=aB(),children:r})=>(tC((()=>(i.addEventHandler("viewability",o7),()=>{i.removeEventHandler("viewability",o7)})),[]),iP(e3,{children:[e.enabled&&iP("button",{className:o3(_S,o8.value?_T:""),type:"button",id:o9(e.id),"aria-label":"fsc","aria-hidden":o8.value,onClick:()=>n.clickHandler(t)}),r]})),st=e=>{let[t]=oz(ai(e),ar);return t};_h="poFP6W_animate",_p="poFP6W_backgroundNone",_g="poFP6W_button",_C="poFP6W_icon",_O="poFP6W_lastChanceEndCard",_A="poFP6W_name",_I="poFP6W_opaque",_f="poFP6W_overlay";const sn=tB(!1);var si=({config:e,sendAdEvent:t=()=>{},backgroundNone:n=!1,injectedEmitObservabilityEvent:i=nn,onVisibilityChange:r})=>{var a,o,s,l,d,c,E,u;let _=tO(null),v=st(e.id);o5(_,t);let T=()=>{ee().emit({type:"cta",event:oh.LAST_CHANCE_ENDCARD_CTA}),sn.value=!0,i({name:eP.LAST_CHANCE_ENDCARD_CTA_BUTTON_CLICK})};return tC((()=>{r(e.enabled&&!v.value.matches(E3.HIDDEN))}),[e.enabled,v.value]),!e.enabled||v.value.matches(E3.HIDDEN)?null:iP("div",{className:o3(_f,null!=(null===(a=e.appMeta)||void 0===a?void 0:a.icon)?_I:""),id:"last-chance-endcard-overlay",children:iP(se,{config:{enabled:!!(null===(o=e.fsc)||void 0===o?void 0:o.enabled)},children:[iP(iY,{sendAdEvent:t,config:null!==(u=e.close)&&void 0!==u?u:{},showLastChanceEndcard:!1,beforeClick:()=>{r8(ew.lastChanceEndcard,ew.lastChanceEndcard)}}),iP("div",{className:o3(_O,n?_p:""),id:"last-chance-endcard",children:[(null===(s=e.appMeta)||void 0===s?void 0:s.icon)&&iP("img",{className:_C,ref:_,src:null===(l=e.appMeta)||void 0===l?void 0:l.icon,alt:null===(d=e.appMeta)||void 0===d?void 0:d.name,id:"last-chance-endcard-app-icon",onClick:T,"aria-hidden":"true"}),iP("p",{className:_A,id:"last-chance-endcard-app-name",onClick:T,"aria-hidden":"true",children:null===(c=e.appMeta)||void 0===c?void 0:c.name}),iP("button",{type:"button",className:o3(_g,sn.value?"":_h),"data-animate":!sn.value,onClick:T,id:"last-chance-endcard-cta",children:null===(E=e.cta)||void 0===E?void 0:E.text})]})]})})},sr=(e,t=!0)=>{tC((()=>t?(e&&e({type:Eh.CLOSE_BUTTON_MOUNT}),()=>{e&&e({type:Eh.CLOSE_BUTTON_UNMOUNT})}):()=>{}),[t])},sa=(e=L())=>{var t;return null!==(t=e.get(y.CTA_BUTTON_URL))&&void 0!==t?t:""},so=class extends a{openCTAWithMraid(){var e;this.url&&(null===(e=this.mraidService.getMraid())||void 0===e||e.open(this.url))}openOverlayView(){var e;null===(e=this.storeKitOverlayService)||void 0===e||e.open()}openProductView(){var e;null===(e=this.productViewService)||void 0===e||e.open()}handleOverlayViewCTA(){var e;this.isStoreKitOverlaySupported?this.openOverlayView():(null===(e=this.productViewService)||void 0===e?void 0:e.canOpen())?this.openProductView():this.openCTAWithMraid()}notifyClickEventToEDsp(){let{isClickEventFromIframe:e,url:t}=this;e&&t&&aG(t)}handleProductViewCTA(){var e,t;null!==(e=this.productViewService)&&void 0!==e&&e.isOpen()||(this.shouldReplaceShowStoreKitOverlay?this.openOverlayView():this.appStoreId&&(null===(t=this.productViewService)||void 0===t?void 0:t.canOpen())?(this.openProductView(),this.notifyClickEventToEDsp()):this.openCTAWithMraid())}invoke(e){let{target:t,url:n,shouldReplaceShowStoreKitOverlay:i,isClickEventFromIframe:r}=e;if(this.injectedFireMMPEvents(),this.url=n||this.ctaButtonUrl,this.shouldReplaceShowStoreKitOverlay=null!=i&&i,this.isClickEventFromIframe=null!=r&&r,this.environmentService.getOperatingSystem()===eR.iOS)switch(t){case eb.OFF:this.openCTAWithMraid();break;case eb.SKO:this.handleOverlayViewCTA();break;case eb.SKPV:default:this.handleProductViewCTA()}else this.openCTAWithMraid()}static getServiceIdentifier(){return"CallToActionServiceInterface"}constructor(e=R(),t=j(),n=nA(),i=nu(),r=nR(),a=n0(),o=sa(),s=nQ){super(),this.mraidService=e,this.environmentService=t,this.productViewService=n,this.storeKitOverlayService=i,this.isStoreKitOverlaySupported=r,this.appStoreId=a,this.ctaButtonUrl=o,this.injectedFireMMPEvents=s,this.url="",this.shouldReplaceShowStoreKitOverlay=!1,this.isClickEventFromIframe=!1}},ss=()=>{let e=r.getInstance(),t=so.getServiceIdentifier();return e.get(t)},sl=({callToActionConfig:e,trackingEventMapConfig:t,sceneId:n,shouldReplaceShowStoreKitOverlay:i,callToActionService:r=ss(),injectedEmitTrackingEvent:a=a$})=>iM("cta",((o,s)=>{if(e){var l,d;let{target:o,url:c}=e,E=s.event===oh.ENDCARD_CTA;r.invoke({target:o,url:null!==(d=null===(l=s.data)||void 0===l?void 0:l.ctaUrl)&&void 0!==d?d:c,shouldReplaceShowStoreKitOverlay:i,isClickEventFromIframe:E}),a(ek.CLICK_THROUGH,n,t)}})),sd=()=>{let e=r.getInstance(),t=aD.getServiceIdentifier();if(e.has(t))return e.get(t)};const sc=(e,t)=>{let n=sd();if(n)switch(t.event){case oh.ENDCARD_CTA:n.onCtaClick();break;case E6.REMOVE_HANDLER:nv().removeEventHandler(t.type,sc)}};var su=({trackingEventMapConfig:e,fullScreenClickConfig:t,sceneId:n,shouldReplaceShowStoreKitOverlay:i,callToActionService:r=ss(),injectedEmitTrackingEvent:a=a$})=>iM("fsc",(()=>{(null==t?void 0:t.enabled)&&(r.invoke({target:t.target,url:t.ctaUrl,shouldReplaceShowStoreKitOverlay:i}),a(ek.CLICK_THROUGH,n,e))}));(_N||(_N={})).APP_META_UPDATE="APP_META_UPDATE";var sE=_N,s_=()=>ee(),sv=(e,t=!0,n=s_())=>{tC((()=>{var i;t&&e&&"function"==typeof e.getCallToActionConfig&&n.emit({type:"app-meta",event:sE.APP_META_UPDATE,data:null!==(i=e.getCallToActionConfig().appMeta)&&void 0!==i?i:{enabled:!1}})}),[t])};const sT=e=>({id:t1,initial:e?Ev.INITIAL:Ev.SHOWING,states:{[Ev.INITIAL]:{on:{[E_.SHOW]:{target:Ev.SHOWING},[E_.PRELOAD]:{target:Ev.PRELOADING,actions:[ET.INITIALIZE_PRELOAD]}}},[Ev.PRELOADING]:{on:{[E_.SHOW]:{target:Ev.SHOWING,actions:[ET.EMIT_SHOW,ET.TRIGGER_VIEWABLE_CHANGE]},[E_.CANCEL_PRELOAD]:{target:Ev.INITIAL,actions:[ET.CANCEL_PRELOAD,ET.FLUSH_MRAID_EVENTS]}}},[Ev.SHOWING]:{}}}),sS=(e=ax(),t=aU())=>({actions:{[ET.INITIALIZE_PRELOAD]:()=>{nn({name:eP.PRELOAD_START})},[ET.FLUSH_MRAID_EVENTS]:()=>{e.flushAllEventCallbacks()},[ET.EMIT_SHOW]:()=>{nn({name:eP.PRELOAD_END,preloadSuccess:!0})},[ET.CANCEL_PRELOAD]:()=>{nn({name:eP.PRELOAD_END,preloadSuccess:!1})},[ET.TRIGGER_VIEWABLE_CHANGE]:()=>{e.triggerEvent(_t.VIEWABLE_CHANGE,t.isViewable())}}});var sh=e=>oz(sT(e),sS());(uZ=_m||(_m={}))[uZ.Eligible=1]="Eligible",uZ[uZ.Not_Eligible=2]="Not_Eligible",uZ[uZ.Started=3]="Started",uZ[uZ.Canceled=4]="Canceled";var sp=(e,t=aW())=>{let n=tZ(e?1:2);return[()=>{1===n.value&&(n.value=3,t.startPreloading())},()=>{3===n.value&&(n.value=4,t.cancelPreloading())}]};const sg=tB(!1),sC=(e,t)=>{if(t)return sg.value?e.getLastChanceEndcardConfig().cta:e.getCallToActionConfig()};var sO=({scene:e,sendAdEvent:t,shouldRenderIFrame:n=!0,isCloseButtonVisible:i=!0,eligibleToPreload:r=!1})=>{let a=new oj(e),[o]=sh(r),s=o.value.matches(Ev.SHOWING);oJ(e.getId(),e.getAppStoreOnDelayConfig(),!0,s),o0(e.getStoreKitOverlayAutoShowConfig(),!0,s),sl({callToActionConfig:sC(e,s),trackingEventMapConfig:e.isAlternative()?void 0:e.getTrackingEventMapConfig(),sceneId:e.getId()}),su({fullScreenClickConfig:s&&sg.value?e.getLastChanceEndcardConfig().fsc:void 0,trackingEventMapConfig:e.getTrackingEventMapConfig(),sceneId:e.getId(),showHTMLPage:s}),iM("cta",((e,t)=>{s&&!sg.value&&sc(e,t)}));let[l,d]=sp(r);return iM("video",((e,t)=>{if(r)switch(t.event){case rW.SUSPEND:case rW.WAITING:d();break;case rW.CAN_PLAY_THROUGH:l()}})),sr(t,s),az(s),sv(e,s),ob(sg.value,s),tC((()=>{s&&t({type:Eh.CREATIVE_VIEW})}),[s]),o.value.matches(Ev.INITIAL)?null:iP(e3,{children:[s&&iP(si,{config:e.getLastChanceEndcardConfig(),sendAdEvent:t,onVisibilityChange:e=>{sg.value=e}}),iP("div",{className:_E,id:e.getId(),style:{visibility:o.value.matches(Ev.PRELOADING)?"hidden":""},children:[i&&!sg.value&&iP(iY,{sendAdEvent:t,config:a.getCloseButtonConfig(),showLastChanceEndcard:e.getLastChanceEndcardConfig().enabled}),n&&iP(o2,{sendAdEvent:t,htmlService:a,scene:e})]})]})};(uQ=_D||(_D={})).CALL="CALL",uQ.DONE="DONE",(uJ=_R||(_R={})).IDLE="IDLE",uJ.BUSY="BUSY";const sA=e=>({id:`throttle-${e}`,initial:_R.IDLE,context:{},states:{IDLE:{on:{[_D.CALL]:{target:_R.BUSY}}},BUSY:{on:{[_D.DONE]:{target:_R.IDLE}}}}});var sI=()=>document.querySelector("#dynamic");(_L||(_L={})).CLOSE="vungle.events.request.close";var sf=_L,sN=(e,t=eo())=>{let n=t.find((t=>t.getId()===e.value));if(!n)throw Error(`No scene found for state ${e.value}`);return n},sm=()=>ee();const sD=(e,t)=>{t!==eM.closed&&nn({name:eP.SCENE_START,scene_id:e,scene_type:t})};var sR=(e=sI())=>{let t=on(),n=t.send,i=tZ(t.state),r=oz(sA("ad")),[a,o]=r;q.setValue({scene:sN(i.value)});let s=tA((()=>e=>{[Eh.NEXT,Eh.LAST_CHANCE_ENDCARD,Eh.LAST_CHANCE_ENDCARD_CLOSE].includes(e.type)?a.value.matches(_R.IDLE)&&(o({type:_D.CALL}),n(e),window.setTimeout((()=>{o({type:_D.DONE})}),500)):n(e)}),[r]);return tC((()=>{let e=sN(i.value);sD(e.getId(),e.getSceneType());let n=t.subscribe((e=>{let t=i.value.value,n=sN(e);q.setValue({scene:n}),i.value=e,e.changed&&t!==e.value&&sD(n.getId(),n.getSceneType())}));return()=>{n.unsubscribe()}}),[t]),tC((()=>{let t=sm(),r=()=>{var e;t.emit({type:"custom-mraid",event:sf.CLOSE,data:d({isVideoState:(null===(e=sN(i.value))||void 0===e?void 0:e.getSceneType())===eM.video,sendAdEvent:n},i.value.context)})};return null==e||e.addEventListener(sf.CLOSE,r),()=>{null==e||e.removeEventListener(sf.CLOSE,r)}}),[e]),[i,s]};_y="wnLcbW_closeIcon",_P="wnLcbW_fallback";var sL=()=>(tC((()=>{t8().getNewTimer(500,(()=>{nC()})).start()}),[]),iP("div",{id:"app-store-transition-fallback",className:_P,children:iP("button",{title:"Close","aria-label":"Close",id:ib,type:"button",onClick:()=>{nC()},style:_y,children:iP("div",{className:_y})})})),sy=class extends e5{componentDidCatch(e,t){ee().emit({type:"error-logging",event:ie.EXCEPTION,data:{error:{message:e.message,stack:`Stack trace:\n${e.stack}\n\nError info:\n${JSON.stringify(t)}\n`}}})}render(){let{children:e}=this.props;return e}},sP=class{getConsentTitleText(){var e,t,n,i,r,a;return null!==(a=null!==(r=null===(t=this.mraidService.getMraidExt())||void 0===t||null===(e=t.getConsentTitleText)||void 0===e?void 0:e.call(t))&&void 0!==r?r:null===(i=this.mraidService.getMraid())||void 0===i||null===(n=i.getConsentTitleText)||void 0===n?void 0:n.call(i))&&void 0!==a?a:"Ad-Interaction Data Collection"}getConsentBodyText(){var e,t,n,i,r,a;return null!==(a=null!==(r=null===(t=this.mraidService.getMraidExt())||void 0===t||null===(e=t.getConsentBodyText)||void 0===e?void 0:e.call(t))&&void 0!==r?r:null===(i=this.mraidService.getMraid())||void 0===i||null===(n=i.getConsentBodyText)||void 0===n?void 0:n.call(i))&&void 0!==a?a:"With permission, Liftoff collects your ad-interaction data to serve relevant ads to you. Note: you'll see ads independent of your selection, but they may not be as relevant. Do you consent to data tracking for more relevant ads?"}getConsentAcceptButtonText(){var e,t,n,i,r,a;return null!==(a=null!==(r=null===(t=this.mraidService.getMraidExt())||void 0===t||null===(e=t.getConsentAcceptButtonText)||void 0===e?void 0:e.call(t))&&void 0!==r?r:null===(i=this.mraidService.getMraid())||void 0===i||null===(n=i.getConsentAcceptButtonText)||void 0===n?void 0:n.call(i))&&void 0!==a?a:"I consent"}getConsentDenyButtonText(){var e,t,n,i,r,a;return null!==(a=null!==(r=null===(t=this.mraidService.getMraidExt())||void 0===t||null===(e=t.getConsentDenyButtonText)||void 0===e?void 0:e.call(t))&&void 0!==r?r:null===(i=this.mraidService.getMraid())||void 0===i||null===(n=i.getConsentDenyButtonText)||void 0===n?void 0:n.call(i))&&void 0!==a?a:"I do not consent"}consentAction(e){var t;null===(t=this.mraidService.getMraidBridgeExt())||void 0===t||t.consentAction(e)}constructor(e=R()){this.mraidService=e}};_V="C4yOdG_bodyText",_w="C4yOdG_buttons",_M="C4yOdG_content",_b="C4yOdG_gdpr",_k="C4yOdG_header",_U="C4yOdG_icon",_B="C4yOdG_primaryButton",_H="C4yOdG_secondaryButton",_W="C4yOdG_title";var sV=({sendAdEvent:e=()=>{}})=>{let t=new sP,n=n=>{t.consentAction(n),e({type:Eh.NEXT})};return iP("div",{className:_b,id:"gdpr",children:[iP("div",{className:_M,children:[iP("header",{className:_k,children:[iP("span",{className:_U}),iP("h3",{id:"gdpr-title",className:_W,children:t.getConsentTitleText()})]}),iP("p",{id:"gdpr-body-text",className:_V,children:t.getConsentBodyText()})]}),iP("div",{className:_w,children:[iP("button",{type:"button",id:"gdpr-accept",className:_B,onClick:()=>n("opted_in"),children:t.getConsentAcceptButtonText()}),iP("button",{type:"button",id:"gdpr-deny",className:_H,onClick:()=>n("opted_out"),children:t.getConsentDenyButtonText()})]})]})},sw=class extends iH{getCloseButtonConfig(){let e=this.scene.getCloseButtonConfig(),t=1===this.scene.index;return C(d({},e),{delay:!t&&this.globalTimerService.isEnabled()?this.globalTimerService.getEndcardPageCloseButtonDelaySeconds():e.delay})}constructor(e,t=oB()){super(),this.scene=e,this.globalTimerService=t}};_F="J2DrKG_staticImageEndcard";const sM=tB(!1);var sb=({scene:e,sendAdEvent:t,isCloseButtonVisible:n=!0})=>{let i=new sw(e),r=tO(null);return oJ(e.getId(),e.getAppStoreOnDelayConfig()),o0(e.getStoreKitOverlayAutoShowConfig()),o5(r,t),sr(t),az(),sv(e),su({fullScreenClickConfig:sM.value?e.getLastChanceEndcardConfig().fsc:e.getFullScreenClickConfig(),trackingEventMapConfig:e.getTrackingEventMapConfig(),sceneId:e.getId()}),sl({callToActionConfig:sM.value?e.getLastChanceEndcardConfig().cta:void 0,trackingEventMapConfig:e.getTrackingEventMapConfig(),sceneId:e.getId()}),tC((()=>{t({type:Eh.CREATIVE_VIEW})}),[]),ob(sM.value),iP(e3,{children:[iP(si,{config:e.getLastChanceEndcardConfig(),sendAdEvent:t,onVisibilityChange:e=>{sM.value=e}}),iP("div",{className:_F,children:iP(se,{config:e.getFullScreenClickConfig(),ctaUrl:e.getFullScreenClickConfig().ctaUrl,children:[n&&!sM.value&&iP(iY,{config:i.getCloseButtonConfig(),sendAdEvent:t,showLastChanceEndcard:e.getLastChanceEndcardConfig().enabled}),iP("img",{src:e.url,ref:r,alt:"image",id:e.getId()})]})})]})};(u0=_x||(_x={})).Native="native",u0.Custom="custom",u0.NotSupported="not-supported",(u1=_G||(_G={})).Manifest="manifest",u1.Video="video";class sk extends window.Hls.DefaultConfig.loader{openAndSendXhr(e,t,n){let i=new iI;this.hasCachedManifest(t,i)?this.loadFromString(i.getCachedManifest(),e,t):this.hasCachedLevel(t,i)?this.loadFromString(i.getCachedFirstTrack(),e,t):super.openAndSendXhr(e,t,n)}hasCachedLevel(e,t=new iI){return"type"in e&&"level"===e.type&&"id"in e&&0===(null==e?void 0:e.id)&&t.hasCachedFirstTrack()}hasCachedManifest(e,t=new iI){return"type"in e&&"manifest"===e.type&&t.hasCachedManifest()}loadFromString(e,t,n){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;let i={url:n.url,data:e,code:200};setTimeout((()=>{this.callbacks.onSuccess(i,this.stats,n,t)}),0)}}class sU extends window.Hls.DefaultConfig.loader{getLocalFileURL(e){let t=new iI,n=Number(e.sn),i=this.getIndexOffset(e);return t.getCachedVideoSegmentUrls()[n+i]}getIndexOffset(e){var t;return"initSegment"===(null===(t=e.initSegment)||void 0===t?void 0:t.sn)?-1:0}shouldLoadFromFileURL(e){if("main"!==e.type||"initSegment"===e.sn)return!1;let t=this.getLocalFileURL(e);return(null==t?void 0:t.length)>0&&iO(t)}async load(e,t,n){this.shouldLoadFromFileURL(e.frag)&&(e.url=this.getLocalFileURL(e.frag)),super.load(e,t,n)}readystatechange(){let{context:e,loader:t,stats:n}=this;if(e&&t&&!n.aborted)if(4===t.readyState&&this.shouldLoadFromFileURL(this.context.frag)){if(this.callbacks){let{onProgress:i}=this.callbacks;i&&i(n,e,t.response,t);let r={url:t.responseURL,data:t.response,code:200};setTimeout((()=>{this.callbacks.onSuccess(r,n,e,t)}),0)}}else super.readystatechange()}}var sB=e=>"data:application/x-mpegurl;base64,"+btoa(e),sH=(e,t)=>{let n=e.split("\n");for(let e=0;e<n.length;e+=1)if(n[e].startsWith("#EXT")&&n[e].includes("URI=")){let i=n[e].indexOf("URI="),r=i+4,a=n[e].charAt(r);for(let t=i+5;t<n[e].length&&r===i+4;t+=1)n[e].charAt(t)===a&&(r=t);let o=n[e].substring(i+5,r);if(!o.toLowerCase().startsWith("http")){let a=t.split("/");a.pop(),a.push(o),n[e]=n[e].substring(0,i+5)+a.join("/")+n[e].substring(r)}}return n.join("\n")},sW=(e,t,n)=>{let i=!1,r=e.split("\n"),a=n.split("/");a.pop();for(let e=0;e<r.length-1;e+=1)if(r[e].startsWith("#EXT-X-STREAM-INF"))if(i){if(!r[e+1].toLowerCase().startsWith("http")){let t=r[e+1].split("/");r[e+1]=a.concat(t).join("/")}}else i=!0,r[e+1]=t;return r.join("\n")},sF=(e,t)=>{let n=e.split("\n"),i=t.split("/");i.pop();for(let e=0;e<n.length-1;e+=1)if(n[e].startsWith("#EXT-X-STREAM-INF")&&!n[e+1].toLowerCase().startsWith("http")){let t=n[e+1].split("/");n[e+1]=i.concat(t).join("/")}return n.join("\n")},sx=(e,t)=>{let n=e.split("\n");for(let e=0;e<n.length-1;e+=1)if(n[e].startsWith("#EXT-X-STREAM-INF")){if(n[e+1].toLowerCase().startsWith("http"))return n[e+1];let i=t.split("/");return i.pop(),i.push(n[e+1]),i.join("/")}},sG=class{getStreamPlayer(e){if(null===e)return _x.NotSupported;if(window.Hls.isSupported()){let e=this.environmentService.getOperatingSystem(),t=this.environmentService.getSdkVersion();if(e!==eR.iOS||t.isGreaterThanOrEqualTo(new w("7")))return _x.Custom}return""!==e.canPlayType(this.hlsMediaType)?_x.Native:_x.NotSupported}async loadHls(e,t){let n=new window.Hls({maxLoadingDelay:4,maxStarvationDelay:4,pLoader:sk,fLoader:sU,debug:!1});n.loadSource(e),n.attachMedia(t)}async getHlsManifest(e){if(!this.streamPunkService.hasCachedStreamChunks()&&!this.streamPunkService.hasCachedFirstTrack())return this.streamPunkService.hasCachedManifest()?sB(sF(this.streamPunkService.getCachedManifest(),e)):e;try{let t;if(this.streamPunkService.hasCachedManifest())t=this.streamPunkService.getCachedManifest();else{let n=await this.getManifest(e);if(void 0===n)return e;t=await n.text()}let n=sx(t,e);if(!n){let n=this.updateStream(t,e);return sB(n)}try{let i;if(this.streamPunkService.hasCachedFirstTrack())i=this.streamPunkService.getCachedFirstTrack();else{let t=await this.getVideo(n);if(void 0===t)return e;i=await t.text()}let r=this.updateStream(i,n),a=sB(r),o=sW(t,a,n),s=sH(o,e);return sB(s)}catch(t){return this.handleStreamError(t,n,_G.Video),e}}catch(t){return this.handleStreamError(t,e,_G.Manifest),e}}insertCachedVideoSegments(e,t){let n=this.streamPunkService.getCachedVideoSegmentUrls().reverse(),i=t.split("/");i.pop();let r=e.split("\n");for(let e=0;e<r.length-1;e+=1)if(r[e].startsWith("#EXTINF"))if(n.length>0)r[e+1]=n.pop();else if(!r[e+1].toLowerCase().startsWith("http")){let t=r[e+1].split("/");r[e+1]=i.concat(t).join("/")}return r.join("\n")}updateStream(e,t){return sH(this.insertCachedVideoSegments(e,t),t)}handleStreamError(e,t,n){var i;this.errorLoggingService.emit({type:"error-logging",event:ie.EXCEPTION,data:{error:{message:e instanceof TypeError||e.message.includes("ailed to fetch")||(null===(i=e.message)||void 0===i?void 0:i.includes("ross-origin"))?`CORS issue prevented HLS ${n} cache optimization from ${t}`:`Failed to download HLS ${n} from ${t}: ${e.message}`}}})}async getStream(e,t){let n=await window.fetch(e);if(n.ok||0===n.status)return n;this.errorLoggingService.emit({type:"error-logging",event:ie.EXCEPTION,data:{error:{message:`Network ${n.status} while loading HLS ${t}: ${e}`}}})}getManifest(e){return this.getStream(e,_G.Manifest)}getVideo(e){return this.getStream(e,_G.Video)}constructor(e=j(),t=et(),n=new iI){this.environmentService=e,this.errorLoggingService=t,this.streamPunkService=n,this.hlsMediaType="application/vnd.apple.mpegurl"}},sY=class{monitorVideoHealth(e,t,n){var i;n&&(null!=(null===(i=this.videoMonitorTimer)||void 0===i?void 0:i.getId())&&this.videoMonitorTimer.destroy(),this.videoMonitorTimer=this.timerService.getNewTimer(3e4,(()=>{!e.value.matches(EJ.AUTO_PLAY_FAIL)&&!e.value.matches(EJ.LOADING)&&(e.value.context.canPlay&&e.value.context.currentTime>=0||t(Y))})),this.videoMonitorTimer.start())}startStreamingVideo(e,t,n,i=new sG(this.environmentService,this.errorLoggingService)){switch(e.setAttribute("type","application/x-mpegURL"),i.getStreamPlayer(e)){case _x.Custom:i.loadHls(t,e);break;case _x.Native:e.setAttribute("src",t),e.load();break;default:this.observabilityReportingService.emit({type:"observability",event:ey.EVENT,data:{name:eP.HLS_NOT_SUPPORTED}}),n({type:Eh.NEXT})}}getMutedSignal(){return this.muteService.getMutedSignal()}constructor(e=t8(),t=j(),n=et(),i=ne(),r=r7()){this.timerService=e,this.environmentService=t,this.errorLoggingService=n,this.observabilityReportingService=i,this.muteService=r}},sK=class extends aI{init(){if(!this.initialized)try{var e,t,n;this.initialized=!0;let i=JSON.parse(window.atob(this.rawOmsdkData));if(!i.vendorURL||!i.vendorKey)return;super.init(this.videoElement,i),null===(e=this.adSession)||void 0===e||e.setCreativeType(af.VIDEO),null===(t=this.adSession)||void 0===t||t.setImpressionType(aN.LOADED),null===(n=this.adSession)||void 0===n||n.registerSessionObserver(this.onSessionChange.bind(this))}catch(e){ee().emit({type:"error-logging",event:ie.EXCEPTION,data:{error:{message:"Unable to init omsdk video"}}})}}onSessionStarted(){var e,t;this.hasSessionStartRequested&&this.initialized&&this.duration&&!this.hasSessionStarted&&(null===(e=this.adEvents)||void 0===e||e.impressionOccurred(),this.hasSessionStarted=!0,this.isSkippable=!es(this.duration),this.vastProperties=new this.sessionClient.VastProperties(this.isSkippable,0,!0,"preroll"),null===(t=this.adEvents)||void 0===t||t.loaded(this.vastProperties),this.eventDrain())}onSessionChange(e){if(e.type===am.SESSION_START)return this.hasSessionStartRequested=!0,void this.onSessionStarted();if(e.type===am.SESSION_FINISH){let e=ee();e.emit({type:"video",event:E6.REMOVE_HANDLER}),e.emit({type:"cta",event:E6.REMOVE_HANDLER})}}onVideoCheckpoint(){let{currentTime:e,duration:t,muted:n}=this.videoElement;this.pushOrCallFunction((()=>{var i;this.isBuffering&&(this.isBuffering=!1,null===(i=this.mediaEvents)||void 0===i||i.bufferFinish());let r=au(e,t);if(e>0&&this.mediaEvents){for(let e=this.checkpointsReached.length;e<=r;e+=1)switch(this.checkpointsReached[e]=!0,e){case 0:this.volume=n?0:1,this.mediaEvents.start(t,this.volume);break;case 1:this.mediaEvents.firstQuartile();break;case 2:this.mediaEvents.midpoint();break;case 3:this.mediaEvents.thirdQuartile();break;case 4:this.mediaEvents.complete()}}}))}onVideoTimeUpdate(){this.onSessionStarted()}onSoundChange(e){this.pushOrCallFunction((()=>{var t;this.volume="mute"===e?0:1,null===(t=this.mediaEvents)||void 0===t||t.volumeChange(this.volume)}))}onVideoBuffering(){this.isBuffering||(this.pushOrCallFunction((()=>{var e;null===(e=this.mediaEvents)||void 0===e||e.bufferStart()})),this.isBuffering=!0)}onVideoStateChanged(e){this.pushOrCallFunction((()=>{var t,n;if(this.checkpointsReached[0]){if("pause"===e)return void(null===(n=this.mediaEvents)||void 0===n||n.pause());null===(t=this.mediaEvents)||void 0===t||t.resume()}}))}onVideoDisplayState(e){let{duration:t}=this.videoElement;!this.isVideoReady&&t>0&&(this.isVideoReady=!0,this.pushOrCallFunction((()=>{var t;null===(t=this.mediaEvents)||void 0===t||t.playerStateChange(e)})))}onVideoMetadataAvailable(e){this.duration=e,this.onSessionStarted()}onVideoPageClose(){this.pushOrCallFunction((()=>{var e;this.isSkippable&&(null===(e=this.mediaEvents)||void 0===e||e.skipped())}))}static getServiceIdentifier(){return"OmsdkVideoServiceInterface"}constructor(e,t){super(),this.videoElement=e,this.rawOmsdkData=t,this.checkpointsReached=[],this.volume=0,this.vastProperties=null,this.isBuffering=!1,this.isSkippable=!1,this.isVideoReady=!1,this.videoElement=e,this.init()}};const sX=()=>L().has(y.OM_SDK_DATA)&&aO();var sj=e=>{if(sX()){var t;let n=null!==(t=L().get(y.OM_SDK_DATA))&&void 0!==t?t:"";r.getInstance().bind(sK.getServiceIdentifier(),new sK(e,n))}};(u2=_Y||(_Y={})).SHOWING="SHOWING",u2.HIDDEN="HIDDEN",(u3=_K||(_K={})).SHOW="SHOW",u3.HIDE="HIDE",u3.CLOSE="CLOSE",(u5=_X||(_X={})).PAUSE_VIDEO="pauseVideo",u5.PLAY_VIDEO="playVideo",u5.FORFEIT_REWARD="forfeitReward";const sz="incentivized-dialog",s$=()=>({id:sz,initial:_Y.HIDDEN,context:{},states:{[_Y.HIDDEN]:{on:{[_K.SHOW]:{target:_Y.SHOWING,actions:[_X.PAUSE_VIDEO,Ep.PAUSE_INTERVALS,Eg.STANDBY_TIMERS]}}},[_Y.SHOWING]:{on:{[_K.HIDE]:{target:_Y.HIDDEN,actions:[_X.PLAY_VIDEO,Ep.START_INTERVALS,Eg.WAKE_TIMERS]},[_K.CLOSE]:{target:_Y.HIDDEN,actions:[_X.FORFEIT_REWARD,Ep.START_INTERVALS,Eg.WAKE_TIMERS]}}}}}),sq={actions:d({},t7(),{pauseVideo:()=>{let e=rx();null==e||e.send({type:EQ.PAUSE})},playVideo:()=>{let e=rx();null==e||e.send({type:EQ.PLAY})},forfeitReward:()=>{nn({name:eP.FORFEIT_REWARD})}},t6())};var sZ=e=>(null!=e?e:t0()).interpreterMap.get(sz),sQ=(e,t,n=Z(),i=rx(),r=on(),a=sZ())=>{if(!im(n))return;let o=!1;r.state.context.isPrivacyDrawerOpen&&(o=!0),(null==a?void 0:a.state.value)===_Y.SHOWING&&(o=!0),t.event!==nT.MAXIMIZED||o?t.event===nT.MINIMIZED&&(null==i||i.send({type:EQ.MINIMIZE})):null==i||i.send({type:EQ.MAXIMIZE,hasHlsVideo:n.videoType===EG.HLS})},sJ=(e=z())=>!e.isBanner();_j="S2LOeW_icon",_z="S2LOeW_muted",_$="S2LOeW_unmuted";const s0={marginLeft:"0px",marginTop:"0px"},s1=tB(s0);var s2=({sendAdEvent:e,isMuted:t,isVisible:n,videoPlayerHeight:i})=>{let r=()=>{if(!n)return;let e=document.querySelector("video");if(!e)return;let t=d({},s0),{videoWidth:i,videoHeight:r}=e,{clientWidth:a,clientHeight:o}=null==e?void 0:e.parentElement,s=i/r;a/o>s?t.marginLeft=(a-o*s)/2+"px":t.marginTop=(o-a/s)/2+"px",s1.value=t};return tC((()=>(window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}))),tC((()=>{r()}),[n,i]),n?iP("button",{type:"button",className:t?_z:_$,id:el,title:t?"Unmute":"Mute","aria-label":"Mute button",style:s1.value,onClick:()=>{e({type:t?Eh.UNMUTE:Eh.MUTE})},children:iP("span",{className:_j})}):null};_q="OaF7uW_paused",_Z="OaF7uW_videoProgress";var s3=({value:e,duration:t,progressBarConfig:{show:n,color:i},paused:r})=>n?iP("div",{role:"progressbar",title:"Video progress",className:_Z,"aria-label":"Video progress",children:iP("span",{className:!r&&e>0?"":_q,style:{backgroundColor:i,animationDuration:`${t}s`},id:"video-progress-bar"})}):null,s5=e=>{var t;return(null===(t=e.next)||void 0===t?void 0:t.getSceneType())===eM.endcard};_Q="ok_seq_videoPlayer",_J="ok_seq_videoPlayerWrap";var s4=({sendVideoEvent:e,sendAdEvent:t,videoState:n,scene:i})=>{var r;let a=new sY,o=new sG,s=tA((()=>aB()),[]),{url:l}=i,d=tO(null),c=tO(null),E=tO(null),u=tZ(0),_=tZ(l),v=a.getMutedSignal(),T=tZ(""),h=t=>{e({type:t,eventTarget:d.current,url:_.value})},S=()=>{h(EQ.CAN_PLAY),t({type:Eh.PRIVACY_LOGO_SHOW})},p=e=>{t({type:Eh.VIDEO_ERROR,error:Error(e),videoUrl:_.value}),t({type:Eh.VIDEO_FAILURE})},g=()=>{setTimeout((()=>{d.current&&(d.current.muted=v.value)}),100)},C=()=>{let e=t8();c.current=e.getNewTimer(1e4,(()=>{n.value.value!==EJ.AUTO_PLAY_FAIL&&(!n.value.context.canPlay||n.value.context.currentTime<=0)&&p(G)})),c.current.start()};return tC((()=>{var r,a,o;switch(n.value.value){case EJ.PLAYING:null===(a=c.current)||void 0===a||null===(r=a.destroy)||void 0===r||r.call(a),(()=>{var t;let i=null===(t=d.current)||void 0===t?void 0:t.play();i?i.then(g).catch((t=>{let n=t.name.toLowerCase();"notallowederror"===n?e({type:EQ.AUTO_PLAY_FAIL}):"aborterror"===n||p(K)})):window.setTimeout((()=>{var t;n.value.value===EJ.PLAYING&&0===(null===(t=document.getElementsByTagName("video")[0])||void 0===t?void 0:t.currentTime)&&e({type:EQ.AUTO_PLAY_FAIL})}),2500)})();break;case EJ.LOAD_FAIL_RETRY:(()=>{e({type:EQ.RETRY});let t=i.originalVideoUrl;t&&t!==_.value?_.value=t:p(x)})();break;case EJ.PAUSED:null===(o=d.current)||void 0===o||o.pause();break;case EJ.ENDED:if(i.loopVideo)e({type:EQ.PLAY});else{let n=i.getLastChanceEndcardConfig().enabled;e({type:EQ.CLOSE}),t(n?{type:Eh.LAST_CHANCE_ENDCARD}:{type:Eh.COMPLETE})}}}),[n.value.value]),tQ((()=>{d.current&&_.value&&(sj(d.current),d.current.setAttribute("muted","true"),i.videoType===EG.PROGRESSIVE&&(e=>{d.current&&e&&(d.current.setAttribute("src",e),d.current.load(),s5(i)?C():a.monitorVideoHealth(n,p,d.current))})(_.value))})),tQ((()=>{let e=o.getStreamPlayer(d.current);if(_.value&&i.videoType===EG.HLS&&e!==_x.NotSupported){let t=async()=>{e===_x.Native?T.value=await o.getHlsManifest(_.value):T.value=_.value};s5(i)?C():a.monitorVideoHealth(n,p,d.current),t()}})),tQ((()=>{""!==T.value&&(null==d?void 0:d.current)&&a.startStreamingVideo(d.current,T.value,t)})),tQ((()=>{var e,t;d.current&&(null===(e=(t=n.value).matches)||void 0===e?void 0:e.call(t,EJ.PLAYING))&&!d.current.paused&&!d.current.ended&&(d.current.muted=v.value)})),tC((()=>(s.addEventHandler("viewability",sQ),()=>{s.removeEventHandler("viewability",sQ)})),[e,s]),tC((()=>{let e=t=>{d.current&&(d.current.readyState>2?S():t8().getNewTimer(t,(()=>{e(t)})).start())};e(200)}),[]),iP("div",{className:o3(_J,"videoPlayer"),ref:E,id:i.getId(),children:[iP(s2,{sendAdEvent:t,isMuted:v.value,isVisible:n.value.context.canPlay&&sJ(),videoPlayerHeight:null===(r=E.current)||void 0===r?void 0:r.clientHeight}),iP("video",{title:"Video player",id:"video-player",ref:d,muted:!0,playsInline:!0,className:_Q,poster:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQAAAAA3bvkkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAnRSTlMAAHaTzTgAAAACYktHRAAB3YoTpAAAAAd0SU1FB+YHDAoSGnw+PegAAAAKSURBVAjXY2AAAAACAAHiIbwzAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTA3LTEyVDEwOjE4OjI2KzA4OjAww+Ou8wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0wNy0xMlQxMDoxODoyNiswODowMLK+Fk8AAAAASUVORK5CYII=",onError:()=>{_.value===l?h(EQ.LOAD_FAIL):p(F)},onDurationChange:()=>{h(EQ.DURATION_CHANGE)},onWaiting:()=>{h(EQ.WAITING)},onSuspend:()=>{h(EQ.SUSPEND)},onCanPlay:S,onCanPlayThrough:()=>{r9().emit({type:"video",event:rW.CAN_PLAY_THROUGH})},onTimeUpdate:t=>{let{target:i}=t,r=n.value.value!==EJ.PLAYING;Number.isNaN(i.duration)||0===i.duration||i.seeking||r||(u.value=i.currentTime,e({eventTarget:i,type:EQ.TIME_UPDATE}))},onEnded:()=>{u.value=0,e({type:EQ.END})},onPlaying:()=>{nn({name:eP.VIDEO_START_SUCCESS},1)},onSeeking:e=>{let t=e.target,n=t.currentTime-u.value;!(t.readyState<3)&&Math.abs(n)>.01&&(t.currentTime=u.value)},"data-loop-count":n.value.context.loopCount,"data-scene-id":i.getId(),disableRemotePlayback:!0}),iP(s3,{value:n.value.context.progress,duration:n.value.context.duration,paused:n.value.value===EJ.PAUSED,progressBarConfig:i.getProgressBarConfig()})]})},s6=(e,t=j())=>{var n;let i=t.getOperatingSystem();if(i===eR.Android)return!!(null!==(n=null==e?void 0:e.filter)&&void 0!==n?n:null==e?void 0:e.webkitFilter);if(i===eR.iOS){let e=document.createElement("div");if("webkitFilter"in e.style||"filter"in e.style)return!0}return!1};_0="RypQCq_videoBlurWrap";var s8=({isInLine:e=!1})=>{var t,n,i,r;let a=tO(null),o=tO(),s=tO(),l=tZ(!1),d=tZ(window.document.body.clientWidth),c=tZ(window.document.body.clientHeight),E=tZ(0),u=tZ(0),_=tZ(0),v=tZ(0),T=null===(t=rx())||void 0===t?void 0:t.state.context.videoElement,h=null===(n=rx())||void 0===n?void 0:n.state.context.canPlay,S=null===(i=rx())||void 0===i?void 0:i.state.context.videoWidth,p=null===(r=rx())||void 0===r?void 0:r.state.context.videoHeight,g=()=>{d.value=window.document.body.clientWidth,c.value=window.document.body.clientHeight},C=()=>{if(!T)return;let t=T.videoHeight>T.videoWidth;l.value=(e||t)&&!!T&&(!!e||T.videoWidth/T.videoHeight<d.value/c.value)&&s6(o.current)},O=()=>{g(),(()=>{var e;null===(e=o.current)||void 0===e||e.clearRect(0,0,_.value,v.value)})(),C()};return tC((()=>{T&&(E.value=T.clientHeight,u.value=T.clientWidth),C()}),[null==T?void 0:T.clientHeight,null==T?void 0:T.clientWidth,o.current]),tC((()=>{if(h){window.addEventListener("resize",O),g(),(()=>{if(a.current&&d&&c&&S&&p&&c){var e;let t=S/d.value,n=p/c.value,i=S/p<d.value/c.value?t:n,r=Math.floor(Number(S/i)),s=Math.floor(Number(p/i));o.current=null===(e=a.current)||void 0===e?void 0:e.getContext("2d"),_.value=r,v.value=s}})();let e=t4();s.current=e.getNewInterval(60,(()=>{l.value&&o.current&&o.current.drawImage(T,0,0,_.value,v.value)})),s.current.start()}return()=>{var e;window.removeEventListener("resize",O),null===(e=s.current)||void 0===e||e.destroy()}}),[h]),iP("div",{id:"video-blur",className:_0,children:iP("canvas",{id:"video-blur-canvas",ref:a,width:_,height:v})})};_1="dDtiqq_tapToPlayContainer",_2="dDtiqq_tapToPlayIcon",_3="dDtiqq_tapToPlayMask",_5="dDtiqq_tapToPlayText";var s7=({isVisible:e,sendVideoEvent:t})=>e?iP("div",{role:"none",className:_3,onClick:()=>{var e;null===(e=document.getElementsByTagName("video")[0])||void 0===e||e.play(),t({type:EQ.PLAY})},id:"tap-to-play",title:"tap-to-play",children:iP("div",{className:_1,children:[iP("div",{className:_2}),iP("div",{className:_5,children:"Tap to play"})]})}):null,s9=()=>Q(L().get(y.VIDEO_SHOW_CTA));_4="Zz6y0G_download",_6="Zz6y0G_downloadIcon";const le=()=>{ee().emit({type:"cta",event:oh.DOWNLOAD_BUTTON_CTA})};var lt=()=>s9()?iP("button",{className:_4,"aria-label":"cta",id:"download-button",type:"button",onClick:le,children:iP("span",{className:_6})}):null,ln=({id:e="star",index:t=0,size:n,offset:i=100})=>{let r=`${e}-gradient-${t}`;return iP("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 100 100",children:[iP("defs",{children:iP("linearGradient",{id:r,x1:"0",x2:"100%",y1:"0",y2:"0",children:[iP("stop",{offset:"0%","stop-color":"#ffd055"}),iP("stop",{offset:`${i}%`,"stop-color":"#ffd055"}),iP("stop",{offset:`${i}%`,"stop-color":"#ddd"})]})}),iP("path",{d:"M50,0,64.69463130731182,29.774575140626315,97.55282581475768,34.54915028125263,73.77641290737884,57.72542485937368,79.38926261462366,90.45084971874736,50,75,20.61073738537635,90.45084971874738,26.223587092621162,57.72542485937369,2.447174185242318,34.549150281252636,35.30536869268816,29.774575140626318Z",fill:`url(#${r})`,"stroke-linejoin":"round","stroke-linecap":"round"})]})},li=class{getOffsetPercent(e,t){let n=Math.floor(t);return e<n?100:e>n?0:Math.ceil(t%1*100/this.unitValue)*this.unitValue}constructor(){this.unitValue=10}};const lr=12,la=5,lo=0;var ls=({id:e,size:t=12,count:n=5,value:i=0})=>{let r=[],a=new li;for(let o=0;o<n;o+=1){let n=a.getOffsetPercent(o,i);r.push(iP(ln,{id:e,index:o,size:t,offset:n},o))}return iP("span",{id:e,children:r})},ll=class{getVideoComputedHeight(){let e=rx(),t=null==e?void 0:e.state.context.videoElement;if(!t)return 0;let n=t.videoWidth/t.videoHeight;return parseFloat(window.getComputedStyle(t).getPropertyValue("width"))/n}updateScreenshotsHeight(e){if(!e.current)return;let t=this.getVideoComputedHeight();if(0===t)return;let n=window.innerHeight-t-120;n>=100?e.current.style.height=`${n}px`:e.current.style.display="none"}handleClick(e,t,n){let i=e.target;if(n.some((e=>null!==i.closest(`#${e}`))))return this.ctaReportingService.emit({type:"cta",event:oh.PERSISTENT_CTA}),void this.handleObservabilityEvent({name:eP.PERSISTENT_CTA_BUTTON_CLICK});t.enabled&&this.fullCtaReportingService.emit({type:"fsc",event:o4.FSC})}constructor(e=L(),t=op(),n=og(),i=nn){this.tokenService=e,this.ctaReportingService=t,this.fullCtaReportingService=n,this.handleObservabilityEvent=i}};_8="UUyEIq_appDetail",_7="UUyEIq_appIcon",_9="UUyEIq_persistentSimpleCta",ve="UUyEIq_persistentSimpleCtaBtn",vt="UUyEIq_slideIn";const ld=tB(!1);var lc=({fullScreenClickConfig:e,callToActionConfig:t})=>{var n,i,r,a;return tC((()=>{t8().getNewTimer(t.delay,(()=>{ld.value=!0,nn({name:eP.PERSISTENT_CTA_BUTTON_SHOW})})).start()}),[]),iP("div",{id:"persistent-simple-cta",className:o3(_9,ld.value?vt:""),"aria-hidden":"true",onClick:t=>{(new ll).handleClick(t,e,["persistent-simple-cta-app-name","persistent-simple-cta-app-icon","persistent-simple-cta-app-company","persistent-simple-cta-app-rating","persistent-simple-cta-button"])},children:[(null===(n=t.appMeta)||void 0===n?void 0:n.icon)&&iP("img",{className:_7,id:"persistent-simple-cta-app-icon",alt:"app-icon",src:t.appMeta.icon}),((null===(i=t.appMeta)||void 0===i?void 0:i.name)||(null===(r=t.appMeta)||void 0===r?void 0:r.company))&&iP("div",{className:_8,id:"persistent-simple-cta-app-detail",children:[t.appMeta.name&&iP("h1",{id:"persistent-simple-cta-app-name",children:t.appMeta.name}),t.appMeta.company&&iP("h2",{id:"persistent-simple-cta-app-company",children:t.appMeta.company}),t.appMeta.isRatingGreaterThanMinimum&&iP(ls,{value:t.appMeta.rating,id:"persistent-simple-cta-app-rating"})]}),iP("button",{className:ve,style:(null===(a=t.background)||void 0===a?void 0:a.color)?{backgroundColor:t.background.color}:{},type:"button",id:"persistent-simple-cta-button",children:t.text})]})};vn="DwKKSa_appIcon",vi="DwKKSa_appInfo",vr="DwKKSa_persistentRichCta",va="DwKKSa_persistentRichCtaBtn";var lu=({fullScreenClickConfig:e,callToActionConfig:t})=>{var n,i,r,a,o,s,l,d;tC((()=>{let e=document.createElement("style");return e.textContent="\n    .videoPlayer {\n      width: 100%;\n      height: auto;\n      margin-top: 120px;\n    }\n    ",document.head.appendChild(e),()=>{document.head.removeChild(e)}}),[]),tC((()=>{nn({name:eP.PERSISTENT_CTA_BUTTON_SHOW})}),[]);let c=null===(n=t.appMeta)||void 0===n?void 0:n.isRatingGreaterThanMinimum;return iP("div",{id:"persistent-rich-cta",className:vr,onClick:t=>{(new ll).handleClick(t,e,["persistent-rich-cta-app-name","persistent-rich-cta-app-icon","persistent-rich-cta-company-name","persistent-rich-cta-app-rating","persistent-rich-cta-button"])},"aria-hidden":"true",children:[(null===(i=t.appMeta)||void 0===i?void 0:i.icon)&&iP("img",{className:vn,alt:"app-icon",id:"persistent-rich-cta-app-icon",src:null===(r=t.appMeta)||void 0===r?void 0:r.icon}),iP("div",{className:vi,children:[(null===(a=t.appMeta)||void 0===a?void 0:a.name)&&iP("h1",{id:"persistent-rich-cta-app-name",children:null===(o=t.appMeta)||void 0===o?void 0:o.name}),c&&iP(ls,{value:null===(s=t.appMeta)||void 0===s?void 0:s.rating,id:"persistent-rich-cta-app-rating"}),!c&&iP("p",{id:"persistent-rich-cta-company-name",children:null===(l=t.appMeta)||void 0===l?void 0:l.company}),iP("button",{className:va,type:"button",style:(null===(d=t.background)||void 0===d?void 0:d.color)?{backgroundColor:t.background.color}:{},id:"persistent-rich-cta-button",children:t.text})]})]})};vo="dalDea_persistentRichCtaScreenshots",vs="dalDea_slide";const lE=e=>{e.enabled?og().emit({type:"fsc",event:o4.FSC}):op().emit({type:"cta",event:oh.PERSISTENT_CTA})};var l_=({fullScreenClickConfig:e,callToActionConfig:t})=>{var n;let i=new ll,r=tO(null);tC((()=>{i.updateScreenshotsHeight(r)}),[window.innerHeight,window.innerWidth]);let a=null===(n=t.appMeta)||void 0===n?void 0:n.screenshots;return a&&0!==a.length?iP("div",{id:"persistent-rich-cta-screenshots",ref:r,className:vo,onClick:()=>lE(e),"aria-hidden":"true",children:a.map((e=>e&&iP("div",{className:vs,children:iP("img",{alt:e,src:e})},e)))}):null},lv=({videoOrientation:e,viewportOrientation:t,scene:n})=>{var i,r;return e===EZ.UNKNOWN?null:e===EZ.LANDSCAPE&&t===eL.PORTRAIT&&(null!==(r=null===(i=n.getCallToActionConfig().appMeta)||void 0===i?void 0:i.screenshots)&&void 0!==r?r:[]).length>0?iP(e3,{children:[iP(lu,{fullScreenClickConfig:n.getFullScreenClickConfig(),callToActionConfig:n.getCallToActionConfig()}),iP(l_,{fullScreenClickConfig:n.getFullScreenClickConfig(),callToActionConfig:n.getCallToActionConfig()})]}):iP(lc,{fullScreenClickConfig:n.getFullScreenClickConfig(),callToActionConfig:n.getCallToActionConfig()})};(u4=vl||(vl={})).PERCENTAGE="percentage",u4.ABSOLUTE="absolute";const lT=e=>{let t,n,i;return e.includes("_")?[t,n,i]=e.split("_"):e.includes(":")?[t,n,i]=e.split(":"):(t=e.substring(0,2),n=e.substring(2,2),i=e.substring(4,2)),3600*Number(t)+60*Number(n)+Number(i)},lS=e=>e.endsWith("p")?Number(e.replace("p","")):e.endsWith("%")?Number(e.replace("%","")):Number(e),lh=e=>e.endsWith("p")||e.endsWith("%")?"percentage":"absolute",lp=e=>{let t=r.getInstance(),n=t.has(e)?t.get(e):void 0;if(n)return n;let i=e.split(";").filter((e=>e&&""!==e));return i&&0!==i.length?(n=i.map((e=>{let t=e.split(".")[1],n=lh(t);return{type:n,tpat_event:e,value:"percentage"===n?lS(t):lT(t)}})),t.bind(e,n),n):[]};var lg=(e,t)=>{let n=L();t.event===rW.PROGRESS&&n.has(y.TPAT_PROGRESS_EVENTS)&&lp(n.get(y.TPAT_PROGRESS_EVENTS)).forEach((n=>{var i,r;if((null===(i=t.data)||void 0===i?void 0:i.currentTime)&&(null===(r=t.data)||void 0===r?void 0:r.duration)){let{currentTime:i,duration:r}=t.data,a=Math.floor(i/r*100),o=Math.floor(i);("percentage"===n.type&&a>=n.value||"absolute"===n.type&&n.value<=r&&o>=n.value)&&e.emit({type:"tpat",event:n.tpat_event,fireOnlyOnce:!0})}}))};const lC=tB(0);var lO=(e=oB())=>{let t=e.isEnabled();return tQ((()=>{t&&e.setTotalDelaySecondsConsumed(lC.value)})),n=>{t&&(lC.value=e.getTotalCloseButtonDelaySeconds()-n)}};const lA=[n$.CHECKPOINT_0,n$.CHECKPOINT_25,n$.CHECKPOINT_50,n$.CHECKPOINT_75,n$.CHECKPOINT_100],lI=(e,t)=>lA[au(e,t)],lf=(e,t=ee())=>{let n=[];return lA.slice(0,e).forEach((e=>{t.hasExistingEvent({type:"tpat",event:e})||n.push(e)})),n};var lN=(e,t,n)=>{let i=lI(e,t);lf(au(e,t)).forEach((i=>{nZ(i,!0,{progress:n,currentTime:e,duration:t})})),nZ(i,!0,{progress:n,currentTime:e,duration:t})},lm=(e,t,n,i=aY())=>{if((null==n?void 0:n.getSceneType())!==eM.video)return;let r=[ek.START,ek.FIRST_QUARTILE,ek.MIDPOINT,ek.THIRD_QUARTILE,ek.COMPLETE][au(e,t)];r&&a$(r,n.getId(),n.getTrackingEventMapConfig(),!0,i)};const lD=()=>({id:rF,initial:EJ.LOADING,context:{currentTime:0,duration:0,rewardDuration:0,progress:0,videoHeight:0,videoWidth:0,videoElement:null,canPlay:!1,loopCount:0,successfulViewAdReached:!1,orientation:EZ.UNKNOWN},states:{[EJ.LOADING]:{entry:E0.EMIT_LOAD,on:{[EQ.LOAD_FAIL]:{target:EJ.LOAD_FAIL_RETRY},[EQ.CAN_PLAY]:{target:EJ.PLAYING,actions:[E0.SET_CAN_PLAY,E0.REPORT_VIDEO_START]},[EQ.PAUSE]:EJ.PAUSED,[EQ.DURATION_CHANGE]:{actions:E0.EMIT_DURATION_CHANGE},[EQ.WAITING]:{actions:E0.EMIT_WAITING},[EQ.SUSPEND]:{actions:E0.EMIT_SUSPEND}}},[EJ.LOAD_FAIL_RETRY]:{on:{[EQ.RETRY]:EJ.LOADING}},[EJ.PLAYING]:{entry:E0.EMIT_PLAY,on:{[EQ.MINIMIZE]:{target:EJ.PAUSED,actions:[E0.UPDATE_CURRENT_TIME]},[EQ.PAUSE]:EJ.PAUSED,[EQ.END]:EJ.ENDED,[EQ.AUTO_PLAY_FAIL]:EJ.AUTO_PLAY_FAIL,[EQ.TIME_UPDATE]:{actions:[E0.UPDATE_PROGRESS,E0.EMIT_PROGRESS,E0.EMIT_CHECKPOINT_TPAT_EVENT,E0.EMIT_SCENE_EVENT,E0.CHECK_SUCCESS_FULL_VIEW_AD_REACHED,E0.EMIT_TIME_UPDATE]},[EQ.SUSPEND]:{actions:E0.EMIT_SUSPEND},[EQ.WAITING]:{actions:E0.EMIT_WAITING},[EQ.CLOSE]:{actions:E0.EMIT_CLOSE},[EQ.RESET_CLOSE]:{target:EJ.LOADING,actions:[E0.RESET_CONTEXT]}}},[EJ.PAUSED]:{entry:E0.EMIT_PAUSE,on:{[EQ.MINIMIZE]:{actions:[E0.UPDATE_CURRENT_TIME]},[EQ.CAN_PLAY]:{actions:E0.SET_CAN_PLAY},[EQ.MAXIMIZE]:{target:EJ.PLAYING,actions:[E0.RESET_CURRENT_TIME]},[EQ.PLAY]:EJ.PLAYING,[EQ.TIME_UPDATE]:{actions:[E0.UPDATE_PROGRESS,E0.EMIT_PROGRESS,E0.EMIT_CHECKPOINT_TPAT_EVENT,E0.EMIT_SCENE_EVENT]},[EQ.AUTO_PLAY_FAIL]:EJ.AUTO_PLAY_FAIL,[EQ.CLOSE]:{actions:E0.EMIT_CLOSE},[EQ.RESET_CLOSE]:{target:EJ.LOADING,actions:[E0.RESET_CONTEXT]}}},[EJ.AUTO_PLAY_FAIL]:{entry:[Eg.STANDBY_TIMERS,Ep.PAUSE_INTERVALS],on:{[EQ.PLAY]:{target:EJ.PLAYING,actions:[Eg.WAKE_TIMERS,Ep.START_INTERVALS]}}},[EJ.ENDED]:{on:{[EQ.PLAY]:{target:EJ.PLAYING,actions:[E0.INCREMENT_LOOP_COUNT]},[EQ.PAUSE]:EJ.PAUSED,[EQ.CLOSE]:{actions:E0.EMIT_CLOSE_FULLY_PLAYED},[EQ.RESET_CLOSE]:{target:EJ.LOADING,actions:[E0.RESET_CONTEXT]}}}}}),lR={actions:d({[E0.UPDATE_PROGRESS]:p({currentTime:(e,t)=>t.eventTarget.currentTime,duration:(e,t)=>t.eventTarget.duration,progress:(e,t)=>{let{currentTime:n,duration:i}=t.eventTarget;return Math.round(n/i*100)}}),[E0.EMIT_PROGRESS]:e=>{void 0!==e.duration&&r9().emit({type:"video",event:rW.PROGRESS,data:{progress:e.progress,currentTime:e.currentTime,duration:e.duration}})},[E0.EMIT_CHECKPOINT_TPAT_EVENT]:e=>{void 0!==e.duration&&lN(e.currentTime,e.duration,e.progress)},[E0.EMIT_SCENE_EVENT]:e=>{void 0!==e.duration&&lm(e.currentTime,e.duration,Z())},[E0.EMIT_PAUSE]:()=>{r9().emit({type:"video",event:rW.PAUSE})},[E0.EMIT_PLAY]:()=>{r9().emit({type:"video",event:rW.PLAY})},[E0.REPORT_VIDEO_START]:()=>{let e=r7();nn({name:eP.VIDEO_START,is_muted:e.isMuted()}),nn({name:eP.VIDEO_START_COMPLETE})},[E0.INCREMENT_LOOP_COUNT]:p({loopCount:e=>e.loopCount+1}),[E0.CHECK_SUCCESS_FULL_VIEW_AD_REACHED]:p({successfulViewAdReached:e=>{let t=Z();return!((null==t?void 0:t.getSceneType())!==eM.video||!t.isAlternative())||(e.successfulViewAdReached?e.successfulViewAdReached:void 0!==e.duration&&e.currentTime>=e.rewardDuration)}}),[E0.EMIT_CLOSE]:e=>{var t;let n=e.loopCount>0,i=n?null==e?void 0:e.duration:null==e?void 0:e.currentTime;r9().emit({type:"video",event:rW.CLOSE,data:{isVideoFullyPlayed:n,maximumViewingTime:i}}),null===(t=rx())||void 0===t||t.send({type:EQ.RESET_CLOSE})},[E0.EMIT_CLOSE_FULLY_PLAYED]:e=>{var t;r9().emit({type:"video",event:rW.CLOSE,data:{isVideoFullyPlayed:!0,maximumViewingTime:null==e?void 0:e.duration}}),null===(t=rx())||void 0===t||t.send({type:EQ.RESET_CLOSE})},[E0.SET_CAN_PLAY]:p({canPlay:()=>!0,duration:(e,t)=>{var n;return null===(n=t.eventTarget)||void 0===n?void 0:n.duration},videoWidth:(e,t)=>{var n;return null===(n=t.eventTarget)||void 0===n?void 0:n.videoWidth},videoHeight:(e,t)=>{var n;return null===(n=t.eventTarget)||void 0===n?void 0:n.videoHeight},videoElement:(e,t)=>t.eventTarget,rewardDuration:(e,t)=>{var n;return ac(null===(n=t.eventTarget)||void 0===n?void 0:n.duration)},orientation:(e,t)=>{var n;let{videoWidth:i,videoHeight:r}=null!==(n=t.eventTarget)&&void 0!==n?n:{};return i/r>1?EZ.LANDSCAPE:EZ.PORTRAIT}}),[E0.EMIT_DURATION_CHANGE]:(e,t)=>{var n;ee().emit({type:"video",event:rW.DURATION_CHANGE,data:{duration:null===(n=t.eventTarget)||void 0===n?void 0:n.duration}})},[E0.EMIT_WAITING]:()=>{ee().emit({type:"video",event:rW.WAITING})},[E0.EMIT_SUSPEND]:()=>{ee().emit({type:"video",event:rW.SUSPEND})},[E0.EMIT_TIME_UPDATE]:()=>{ee().emit({type:"video",event:rW.TIME_UPDATE})},[E0.UPDATE_CURRENT_TIME]:p({currentTime:e=>e.videoElement?e.videoElement.currentTime:0}),[E0.RESET_CURRENT_TIME]:e=>{e.videoElement&&(e.videoElement.currentTime=e.currentTime)},[E0.RESET_CONTEXT]:p({canPlay:!1,currentTime:0,duration:0,rewardDuration:0,progress:0,loopCount:0,videoHeight:0,videoWidth:0}),[E0.EMIT_LOAD]:()=>{nn({name:eP.VIDEO_START_REQUEST}),nn({name:eP.VIDEO_SCENE_START})}},t6(),t7())};var lL=()=>oz(lD(),lR),ly=class{getCloseButtonDelaySeconds(e,t){return this.globalTimerService.isEnabled()?this.globalTimerService.getTotalCloseButtonDelaySeconds():void 0===e?6:es(e,this.placementTypeService,t)?e:t}getCloseButtonCountDown(e,t){return!(void 0===e||Number.isNaN(e))&&!(e<=0)&&t}getCloseButtonStyle(e,t){return e?nH.CLOSE:this.globalTimerService.isEnabled()&&this.globalTimerService.getTotalCloseButtonDelaySeconds()>0?nH.SKIP:t}getCloseButtonConfig(e,t){let n=e.getCloseButtonConfig(),i=e.isLastPage(),r={delay:this.getCloseButtonDelaySeconds(t,n.delay),style:this.getCloseButtonStyle(i,n.style),countdown:this.getCloseButtonCountDown(t,n.countdown)};return(oK(!0,Q("false"),"VIDEO_TIMER_NOT_VISIBLE_ENDCARD_TIMER_VISIBLE")||oK(!0,Q("false"),"BOTH_VIDEO_AND_ENDCARD_TIMERS_NOT_VISIBLE"))&&(r.countdown=!1),(oK(!0,Q("false"),"VIDEO_TIMER_VISIBLE_ENDCARD_TIMER_NOT_VISIBLE")||oK(!0,Q("false"),"VIDEO_ENDCARD_TIMERS_BOTH_VISIBLE"))&&(r.countdown=!0),r}isShowNextButtonDuringCountDownInBackground(){return!!this.globalTimerService.isEnabled()&&this.globalTimerService.hasReachedVideoPageCloseButtonDelaySeconds()}shouldReplaceShowStoreKitOverlay(){var e;return this.isStoreKitOverlaySupported&&this.placementTypeService.isFullscreen()&&(null===(e=this.productViewService)||void 0===e?void 0:e.isDone())}constructor(e=oB(),t=nR(),n=nA(),i=z()){this.globalTimerService=e,this.isStoreKitOverlaySupported=t,this.productViewService=n,this.placementTypeService=i}},lP=(e,t=rx(),n=sZ())=>i=>{if(i.type===Eh.NEXT||i.type===Eh.LAST_CHANCE_ENDCARD){if(!0!==(null==t?void 0:t.state.context.successfulViewAdReached))return void(null==n||n.send({type:_K.SHOW}));null==n||n.send({type:_K.HIDE})}e(i)},lV=()=>{let e=r.getInstance(),t=sK.getServiceIdentifier();if(e.has(t))return e.get(t)};const lw=(e,t)=>{var n,i;let r=lV();if(r)switch(t.event){case rW.DURATION_CHANGE:{let e=(null===(n=t.data)||void 0===n?void 0:n.duration)||0;r.onVideoMetadataAvailable(e),r.onVideoDisplayState("fullscreen");break}case rW.WAITING:case rW.SUSPEND:r.onVideoBuffering();break;case rW.TIME_UPDATE:r.onVideoTimeUpdate(),r.onVideoCheckpoint();break;case rW.MUTE:case rW.UNMUTE:r.onSoundChange(t.event);break;case rW.PLAY:case rW.PAUSE:r.onVideoStateChanged(t.event);break;case rW.CLOSE:(null===(i=t.data)||void 0===i?void 0:i.isVideoFullyPlayed)||r.onVideoPageClose();break;case oh.DOWNLOAD_BUTTON_CTA:case"FSC":r.onCtaClick();break;case E6.REMOVE_HANDLER:nv().removeEventHandler(t.type,lw)}};vd="W6zMza_dialog",vc="W6zMza_dialogActions",vu="W6zMza_dialogBody",vE="W6zMza_dialogBox",v_="W6zMza_dialogContent",vv="W6zMza_dialogText",vT="W6zMza_dialogTitle";var lM=({titleText:e,bodyText:t,isVisible:n,identifier:i,children:r})=>iP("div",{id:null!=i?i:"dialog",role:"dialog",className:vE,style:{visibility:n?"visible":"hidden"},children:iP("div",{className:vd,children:iP("div",{className:v_,children:[iP("div",{className:vT,children:e}),iP("div",{className:vu,children:[iP("div",{className:vv,children:t}),iP("div",{className:vc,children:r})]})]})})}),lb=class{getTitleText(){var e;return null!==(e=this.tokenService.get(y.INCENTIVIZED_TITLE_TEXT))&&void 0!==e?e:"Close this ad?"}getBodyText(){var e;return null!==(e=this.tokenService.get(y.INCENTIVIZED_BODY_TEXT))&&void 0!==e?e:"Are you sure you want to skip this ad? You must finish watching to claim your reward."}getCloseText(){var e;return null!==(e=this.tokenService.get(y.INCENTIVIZED_CLOSE_TEXT))&&void 0!==e?e:"Close Ad"}getContinueText(){var e;return null!==(e=this.tokenService.get(y.INCENTIVIZED_CONTINUE_TEXT))&&void 0!==e?e:"Continue"}constructor(e){this.tokenService=null!=e?e:L()}},lk=()=>{let[e,t]=oz(s$(),sq);return[e,t]};vS="eDiOmG_continueIcon",vh="eDiOmG_primaryButton",vp="eDiOmG_secondaryButton";var lU=({sendAdEvent:e,showLastChanceEndcard:t=!1})=>{let[n,i]=lk(),r=new lb;return iP(lM,{identifier:"incentivized-dialog",titleText:r.getTitleText(),bodyText:r.getBodyText(),isVisible:n.value.matches(_Y.SHOWING),children:iP(e3,{children:[iP("div",{className:vh,children:iP("button",{className:"primary",type:"button",id:"incentivized-dialog-continue",onClick:()=>{i({type:_K.HIDE})},children:[r.getContinueText(),iP("span",{className:vS,id:"incentivized-dialog-continue-icon"})]})}),iP("div",{className:vp,children:iP("button",{className:"secondary",type:"button",id:"incentivized-dialog-close",onClick:()=>{i({type:_K.CLOSE}),e({type:t?Eh.LAST_CHANCE_ENDCARD:Eh.NEXT})},children:r.getCloseText()})})]})})};const lB=tB(!1);var lH=({scene:e,sendAdEvent:t,isCloseButtonVisible:n=!0})=>{let i=new ly,[r,a]=lL(),o=J()?lP(t):t,s=e.getStoreKitOverlayAutoShowConfig().enabled;oJ(e.getId(),e.getAppStoreOnDelayConfig(),r.value.context.canPlay),o0(e.getStoreKitOverlayAutoShowConfig(),r.value.context.canPlay),iM("video",lg),ob(lB.value),sr(t),az(),sv(e);let l=lO();return sl({callToActionConfig:lB.value?e.getLastChanceEndcardConfig().cta:e.getCallToActionConfig(),trackingEventMapConfig:e.getTrackingEventMapConfig(),sceneId:e.getId(),shouldReplaceShowStoreKitOverlay:i.shouldReplaceShowStoreKitOverlay()}),su({fullScreenClickConfig:lB.value?e.getLastChanceEndcardConfig().fsc:e.getFullScreenClickConfig(),trackingEventMapConfig:e.getTrackingEventMapConfig(),sceneId:e.getId(),shouldReplaceShowStoreKitOverlay:i.shouldReplaceShowStoreKitOverlay()}),iM("cta",((e,t)=>{lB.value||lw(e,t)})),iM("fsc",((e,t)=>{lB.value||lw(e,t)})),iP(e3,{children:[iP(lU,{sendAdEvent:t,showLastChanceEndcard:e.getLastChanceEndcardConfig().enabled}),iP(si,{config:e.getLastChanceEndcardConfig(),sendAdEvent:t,onVisibilityChange:e=>{lB.value=e}}),iP(se,{config:e.getFullScreenClickConfig(),children:[r.value.context.canPlay&&n&&!lB.value&&iP(iY,{config:i.getCloseButtonConfig(e,r.value.context.duration),handleTimerUpdate:l,showNextButtonDuringCountDownInBackground:i.isShowNextButtonDuringCountDownInBackground(),sendAdEvent:o,showLastChanceEndcard:e.getLastChanceEndcardConfig().enabled}),iP(s7,{isVisible:r.value.matches(EJ.AUTO_PLAY_FAIL),sendVideoEvent:a}),iP(s8,{isInLine:z().isInLine()}),iP(s4,{scene:e,videoState:r,sendVideoEvent:a,sendAdEvent:t}),(!e.getCallToActionConfig().isPersistent||s)&&iP(iw,{delay:e.getCallToActionConfig().delay,isVisible:!1,children:iP(lt,{})}),e.getCallToActionConfig().isPersistent&&!s&&r.value.context.canPlay&&iP(lv,{scene:e,videoOrientation:r.value.context.orientation,viewportOrientation:j().getOrientation()})]})]})};const lW=e=>4===e.length?e:lW(`0${e}`),lF=e=>e.split("").map((e=>lW(parseInt(e,16).toString(2)))).join("").split("");var lx=class{constructor(e=L()){this.tokenService=e,this.getBits=()=>{let e=this.tokenService.get(y.SESSION_ID);if(!e){let e=[];for(let t=0;t<96;t+=1)e.push("0");return e}return lF(e)}}};vg="_0zGmtq_bit",vC="_0zGmtq_leading",vO="_0zGmtq_one",vA="_0zGmtq_watermark",vI="_0zGmtq_zero";const lG=(e,t)=>`bit-${e}-${t}`;var lY=()=>{let e=new lx;return z().isFullscreen()?iP("div",{className:vA,id:"watermark",children:[iP("div",{className:`${vO}  ${vC} ${vg}`}),e.getBits().map(((e,t)=>iP("div",{className:`${vg} ${"0"===e?vI:vO}`,id:lG(e,t)},lG(e,t))))]}):null};vf="m2_mMq_privacyButton";const lK={[P.ACCELERATE]:"#96633d",[P.EDSP]:"#853d96",[P.UNKNOWN]:"#333"};var lX=({handleClick:e,adSource:t})=>iP("button",{type:"button",id:iU,title:"Liftoff Privacy",className:vf,onClick:e,"aria-label":"Liftoff Privacy",children:iP("svg",{id:"j",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 302 340",children:[iP("path",{d:"M274.04,32.82L160.56,7.74c-2.53-.42-5.1-.43-7.62,0L28.59,32.87c-12.39,2.04-21.55,13.63-21.55,27.27v165.78c0,7.75,2.99,15.14,8.25,20.36l55.61,55.27c44.48,44.21,116.29,44.21,160.77,0l55.61-55.27c5.26-5.22,8.25-12.62,8.25-20.36V60.08c0-13.62-9.13-25.19-21.49-27.26Z",fill:lK[null!=t?t:P.UNKNOWN],opacity:".6",strokeWidth:"0"}),iP("path",{d:"M275.5,26.22L161.67,1.07c-3.25-.55-6.56-.54-10.08.03L27.37,26.22C11.67,28.88.29,43.11.29,60.13v143.34c0,23.78,9.29,46.64,25.47,62.73l51.82,46.31c41.98,37.52,105.43,37.52,147.41,0l51.82-46.32c16.19-16.09,25.47-38.95,25.47-62.73V60.08c0-17.03-11.41-31.3-26.79-33.86ZM288.78,203.48c0,20.2-7.83,39.57-21.48,53.14l-32.94,29.99c-8.73-9.02-16.42-17.46-16.42-17.46-10.8-11.49-24.61-2.92-24.61-2.92-1.95,1.13-4.12,2.13-6.42,3.02-3.77,1.29-8.66,2.76-14.21,4-9.02,1.83-17.27,2.47-20.08,2.65-.44.01-.87.04-1.3.05-.44,0-.87-.04-1.3-.05-2.82-.18-11.06-.82-20.08-2.65-5.55-1.24-10.44-2.71-14.21-4-2.3-.89-4.47-1.88-6.42-3.02,0,0-13.82-8.57-24.61,2.92,0,0-7.28,7.89-16.44,17.48l-32.96-30.01c-13.65-13.56-21.48-32.93-21.48-53.14V60.13c0-10.25,6.83-19.11,15.89-20.6l124.34-25.14c.96-.15,1.92-.22,2.82-.22.8,0,1.57.05,2.25.16l113.83,25.15c9.04,1.51,15.85,10.36,15.85,20.59v143.4Z",fill:"#f3f4f5",strokeWidth:"0"}),iP("path",{d:"M188.96,142.21c-6.2,0-9.55,5-10.07,15.01l-.06,3.69c0,11.44,3.34,17.16,10.01,17.16,4.45,0,7.62-1.87,9.53-5.6v-24.54c-1.83-3.81-4.96-5.72-9.41-5.72Z",fill:"#f3f4f5",strokeWidth:"0"}),iP("polygon",{points:"107.78 160.02 126.43 160.02 117.07 129.93 107.78 160.02",fill:"#f3f4f5",strokeWidth:"0"}),iP("path",{d:"M151,57c-51.36,0-93,41.64-93,93s41.64,93,93,93,93-41.64,93-93-41.64-93-93-93ZM136.49,192.36l-5.06-16.2h-28.65l-5,16.2h-22.34l31.81-86.73h19.66l32.05,86.73h-22.46ZM200.46,192.36l-1.01-6.91c-4.13,5.4-9.37,8.1-15.73,8.1-7.67,0-13.74-2.94-18.23-8.82-4.49-5.88-6.73-14.24-6.73-25.08,0-10.21,2.2-18.25,6.61-24.13,4.41-5.88,10.56-8.82,18.47-8.82,5.76,0,10.6,2.26,14.54,6.79v-32.64h20.13v91.5h-18.05Z",fill:"#f3f4f5",strokeWidth:"0"})]})});(u6=vN||(vN={}))[u6.LEFT=0]="LEFT",u6[u6.RIGHT=1]="RIGHT",u6[u6.UP=2]="UP",u6[u6.DOWN=3]="DOWN",(u8=vm||(vm={}))[u8.HORIZONTAL=0]="HORIZONTAL",u8[u8.VERTICAL=1]="VERTICAL";const lj=tB(0),lz=tB(0),l$=tB(!1),lq=tB(0);var lZ=({children:e,onSwipeLeft:t,onSwipeRight:n,onSwipeUp:i,onSwipeDown:r})=>{let a=tO(null),o=(e,t)=>Math.abs(e)>Math.abs(t),s=(e,t)=>o(e,t)?e>0?1:0:t>0?3:2,l=(e,t)=>o(e,t)?Math.abs(e):Math.abs(t),d=(e,t)=>{let n=e-lj.value,i=t-lz.value;return{Direction:s(n,i),Orientation:o(n,i)?0:1,Distance:l(n,i),DeltaX:n,DeltaY:i}};return iP("div",{ref:a,title:"swipe",onTouchStart:e=>{l$.value=!0;let t=0,n=0;e instanceof TouchEvent?(t=e.touches[0].clientX,n=e.touches[0].clientY):e instanceof MouseEvent?(t=e.clientX,n=e.clientY):(t=e.detail.clientX,n=e.detail.clientY),lj.value=t,lz.value=n,lq.value=Date.now()},onTouchEnd:e=>{var o;let s=null==a||null===(o=a.current)||void 0===o?void 0:o.childNodes;if(!l$||!s)return;let{endX:l,endY:c}=(e=>{var t,n,i,r;return e instanceof TouchEvent?{endX:e.changedTouches[0].clientX,endY:e.changedTouches[0].clientY}:e instanceof MouseEvent?{endX:e.clientX,endY:e.clientY}:{endX:null!==(i=null===(t=e.detail)||void 0===t?void 0:t.clientX)&&void 0!==i?i:0,endY:null!==(r=null===(n=e.detail)||void 0===n?void 0:n.clientY)&&void 0!==r?r:0}})(e),E=d(l,c),u=s[0],_=0===E.Orientation?u.clientWidth:u.clientHeight;if(((e,t)=>Date.now()-lq.value>200||e.Distance>=.15*t)(E,_)&&((e,t)=>e.Distance>=.3*t)(E,_)){switch(E.Direction){case 0:t&&t();break;case 1:n&&n();break;case 3:r&&r();break;default:i&&i()}l$.value=!1}},children:e})};vD="FbTWOG_closeIcon",vR="FbTWOG_displayNone",vL="FbTWOG_hasEventMetadata",vy="FbTWOG_hide",vP="FbTWOG_id",vV="FbTWOG_idContent",vw="FbTWOG_idName",vM="FbTWOG_ids",vb="FbTWOG_mask",vk="FbTWOG_popupBody",vU="FbTWOG_popupContainer",vB="FbTWOG_popupContainerDisplay",vH="FbTWOG_popupHeader",vW="FbTWOG_popupTitle",vF="FbTWOG_privacyPopup",vx="FbTWOG_readMore",vG="FbTWOG_show";var lQ=({isOpen:e,handleReadMoreClick:t,closeHandler:n,creativeID:i,eventID:r})=>iP("div",{className:o3(vU,e?vB:""),id:ik,children:[iP("div",{className:e?vb:vR,id:"privacy-popup-mask",onClick:n,role:"none"}),iP(lZ,{onSwipeDown:n,children:iP("div",{id:"privacy-popup",role:"dialog","aria-label":"Privacy popup","aria-hidden":e?"false":"true",className:o3(vF,e?vG:vy),children:[iP("div",{className:vH,children:[iP("div",{className:vW,title:"privacy-popup-title",children:"Privacy Policy"}),iP("button",{type:"button","aria-label":"Close privacy popup",onClick:n,id:"privacy-close-button",children:iP("span",{className:vD})})]}),iP("div",{className:vk,children:"Liftoff, Inc. understands the importance of privacy. Liftoff operates a mobile ad network (the 'Ad Network' or the 'Services') through which Liftoff displays targeted, contextual ads."}),iP("button",{type:"button",className:vx,onClick:t,id:"privacy-read-more-button",children:"Privacy Policy & Ad Information"}),iP("div",{className:o3(vM,i||r?vL:""),children:[i&&iP("div",{className:vP,id:"privacy-drawer-creative-id",children:[iP("div",{className:vw,children:"Creative ID"}),iP("div",{className:vV,children:i})]}),r&&iP("div",{className:vP,id:"privacy-drawer-event-id",children:[iP("div",{className:vw,children:"Event ID"}),iP("div",{className:vV,children:r})]})]})]})})]}),lJ=class{getAdSource(){return this.placementTypeService.getAdSource()}getCreativeId(){var e;return null!==(e=this.tokenService.get(y.CREATIVE_ID))&&void 0!==e?e:""}getEventId(){var e;return null!==(e=this.tokenService.get(y.SESSION_ID))&&void 0!==e?e:""}handleDrawerClose(e){e({type:Eh.PRIVACY_BOTTOM_DRAWER_CLOSE})}handleIconClick(e){e({type:Eh.PRIVACY_BOTTOM_DRAWER_OPEN})}handleReadMoreClick(e){e({type:Eh.PRIVACY_BOTTOM_DRAWER_CLOSE}),window.setTimeout((()=>{e({type:Eh.OPEN_PRIVACY_PAGE})}),50)}privacyDrawerEnabled(){return this.placementTypeService.isFullscreen()}constructor(e=L(),t=z()){this.tokenService=e,this.placementTypeService=t}};const l0=tB(!1);var l1=({sendAdEvent:e,privacyService:t=new lJ,customMraidEventReportingService:n=sm()})=>{let i=()=>{l0.value=!1,t.handleDrawerClose(e)};return iM("custom-mraid",((e,t)=>{t.event===sf.CLOSE&&l0&&i()}),n),iP(e3,{children:[iP(lX,{handleClick:()=>{t.handleIconClick(e),l0.value=!0},adSource:t.getAdSource()}),t.privacyDrawerEnabled()&&iP(lQ,{isOpen:l0.value,closeHandler:i,handleReadMoreClick:()=>{l0.value=!1,t.handleReadMoreClick(e)},creativeID:t.getCreativeId(),eventID:t.getEventId()})]})},l2=function(e){let t=tO(0),n=tO(0);return tC((()=>{let i=i=>{let r=Date.now();r-n.current>800&&(t.current=0),t.current+=1,n.current=r;let{clientX:a,clientY:o}=i;t.current>=3&&(e(a,o),t.current=0)};return window.addEventListener("pointerdown",i),()=>window.removeEventListener("pointerdown",i)}),[e]),null};vY="gRz7DW_ad";var l3=()=>{let[e,t]=sR();l2(((e,t)=>{let{scene:n}=q.getValue();nn({name:eP.FRUSTRATION_CLICKS,scene_id:null==n?void 0:n.getId(),scene_type:null==n?void 0:n.getSceneType(),coordinates:[e,t].join(",")})}));let{isCloseButtonVisible:n,isPrivacyButtonVisible:i,shouldRenderIFrame:r}=e.value.context,a=sN(e.value),o=i&&a.getSceneType()!==eM.closed,s=aW().getHTMLSceneToPreload(a);return iP("div",{id:vY,children:iP(sy,{children:[iP(lY,{}),o&&iP(l1,{sendAdEvent:t}),a.getSceneType()===eM.gdpr&&iP(sV,{sendAdEvent:t}),a.getSceneType()===eM.image&&iP(sb,{scene:a,sendAdEvent:t,isCloseButtonVisible:n},a.getId()),a.getSceneType()===eM.video&&iP(lH,{scene:a,sendAdEvent:t,isCloseButtonVisible:n},a.getId()),(!!s||a.getSceneType()===eM.endcard)&&iP(sO,{scene:(null==s?void 0:s.scene)||a,sendAdEvent:t,shouldRenderIFrame:s?s.shouldRenderIFrame:r,isCloseButtonVisible:s?s.isCloseButtonVisible:n,eligibleToPreload:!!s},((null==s?void 0:s.scene)||a).getId()),a.getSceneType()===eM.closed&&iP(sL,{})]})})},l5=()=>{on().start()},l4=async(e,t,n)=>{var i;let r=0,a=0,o=0,s=n.getPlacementType(),l=t.get(y.AD_SOURCE),d=t.get(y.CREATIVE_ID),c=null!==(i=t.get(y.ORIGINAL_VIDEO_URL))&&void 0!==i?i:t.get(y.MAIN_STREAM);try{(await e.getAllRecords()).forEach((({placementType:e,creativeId:t,adSource:n,videoUrl:i})=>{e===s&&(r+=1),t===d&&n===l&&(a+=1),i===c&&(o+=1)}))}catch(e){return Promise.reject(Error("Failed to get user activities"))}return{ad_count:r,same_creative:a,same_video:o}};const l6=async(e=ng(),t=L(),n=z(),i=l4,a=nn)=>{let o={name:eP.AD_START,elapsed:Date.now()-r.getInstance().startTimestamp};if(e)try{await e.addRecord(),o=d({},o,await i(e,t,n))}catch(e){}a(o)};var l8=()=>{let e=r.getInstance(),t=new o$;e.bind(o$.getServiceIdentifier(),t)},l7=()=>{let e=r.getInstance(),t=new so;e.bind(so.getServiceIdentifier(),t)},l9=(e=j(),t=R())=>{let n=r.getInstance(),i=aF.getServiceIdentifier(),a=Object.values(_t);e.getMraidVersion().isLessThan(t9.V5_2_1)&&(a=a.filter((e=>e!==_t.SILENT_CHANGE)));let o=new aF(a,t);n.bind(i,o),o.init()};const de=(e,t,n,i)=>{let r=t.getOperatingSystem()===eR.iOS,a=aw(i),o=t.getSdkVersion(),s=n.isInLine();return!(!r||a||!(o.isEqualTo(new w("7.4.0"))&&s||o.isGreaterThanOrEqualTo(new w("7.4.1"))))||e};var dt=(e=aP(),t=ay(),n=r7(),i=j(),r=z(),a=nv())=>{let o=!!i.getMraidVersion().isGreaterThanOrEqualTo(t9.V5_2_1)&&de(t,i,r,a);e||o?n.mute():n.unmute()};class dn{setDefaultAttributes(){var e;let t={app_name:"View Master Loki",app_environment:"production"};this.tokenService.has(y.SESSION_ID)&&(t.session_id=null!==(e=this.tokenService.get(y.SESSION_ID))&&void 0!==e?e:""),this.defaultAttributes=t}getUrl(){return`${this.endpoint}/api/v1/push`}static getTimestampString(e){return""+1e6*(null!=e?e:new Date).getTime()}static formatAttributes(e,t){return`${Object.keys(e).map((t=>[t,e[t]])).map((([e,t])=>`${e}="${t}"`)).join(" ")} timestamp="${t.toJSON()}"`}getBody(e,t,n){var i,r,a,o;let s=dn.getTimestampString(n),l=dn.formatAttributes(t,n);return JSON.stringify({streams:[{stream:{app:null===(i=this.defaultAttributes)||void 0===i?void 0:i.app_name,kind:e,adSource:null!==(r=this.tokenService.get(y.AD_SOURCE))&&void 0!==r?r:"",isIncentivized:J(this.tokenService),placementType:this.placementTypeService.getPlacementType(),platform:this.environmentService.getOperatingSystem(),sdkVersion:this.environmentService.getSdkVersion().toString(),templateVersion:null!==(a=window.appVersion)&&void 0!==a?a:"0.0.0",nautilusVersion:null!==(o=this.tokenService.get(y.NAUTILUS_VERSION))&&void 0!==o?o:"0.0.0"},values:[[s,l]]}]})}pushEvent(e,t,n){var i;console.log("pushEvent",e,t),null===(i=this.worker)||void 0===i||i.postMessage(this.getBody(ey.EVENT,d({name:e},this.defaultAttributes,t),null!=n?n:new Date))}pushError(e,t,n){var i,r,a;let o="",s="";"string"==typeof e?o=e:(s=null!==(r=null==e?void 0:e.stack)&&void 0!==r?r:"",o=null!==(a=null==e?void 0:e.message)&&void 0!==a?a:""),null===(i=this.worker)||void 0===i||i.postMessage(this.getBody(ey.ERROR,d({message:o,stack:s},this.defaultAttributes,t),null!=n?n:new Date))}isObserved(){return Q(this.tokenService.get(y.OBSERVABILITY))}startWorker(){let e=new Blob([`\n      let queue = [];\n\n      self.addEventListener('message', function(event) {\n        const message = event.data;\n        queue.push(message);\n      });\n\n      function sendMessages() {\n        if (queue.length > 0) {\n          const message = queue.shift();\n          fetch('${this.getUrl()}', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              'X-Scope-OrgID': 'viewmaster',\n            },\n            body: message // message is already stringified\n          })\n          .then(function (response) {\n            if (!response.ok) {\n              throw new Error('Failed to send message');\n            }\n          })\n          .catch(function (error) {\n            console.error('Error sending message:', error);\n          })\n          .finally(function () {\n            sendMessages(); // Continue sending messages\n          });\n        } else {\n          setTimeout(sendMessages, 100); // Check for new messages every 100 milliseconds\n        }\n      }\n      sendMessages();\n    `],{type:"application/javascript"}),t=URL.createObjectURL(e);this.worker=new Worker(t)}constructor(e,t=L(),n=z(),i=j()){this.endpoint=e,this.tokenService=t,this.placementTypeService=n,this.environmentService=i,this.setDefaultAttributes(),this.startWorker()}}var di=()=>new dn("https://logging-gateway.vungle.io:32443/log/loki"),dr=(e=rZ())=>{e.init(di)},da="product-view";(u7=vK||(vK={})).ADD_VIEWABILITY_HANDLER="addViewabilityHandler",u7.CLOSE_STORE_VIEW="closeStoreView",u7.OPEN_STORE_VIEW="openStoreView",u7.REMOVE_VIEWABILITY_HANDLER="removeViewabilityHandler",u7.SHOW_FALLBACK="showFallback",u7.UPDATE_OPEN_COUNT="updateOpenCount";var ds=vK,dl=(e,t)=>e.interpreterMap.get(t),dd=(e=t0(),t=da)=>dl(e,t);const dc=(e,t=ne())=>t.getActivityEvents().some((t=>{var n;return t.name===ey.SIGNAL_EVENT&&"observability"===t.eventType&&(null===(n=t.data)||void 0===n?void 0:n.name)===e.name}));var du=(e,t=!0,n=ne())=>{t&&dc(e,n)||n.emit({type:"observability",event:ey.SIGNAL_EVENT,data:e})};const dE=()=>({id:da,initial:Ey.HIDDEN,context:{delay:0,openCount:0},states:{[Ey.SHOWING]:{on:{[EL.CLOSE]:{target:Ey.HIDDEN,actions:[ds.CLOSE_STORE_VIEW,ds.REMOVE_VIEWABILITY_HANDLER]},[EL.SET_FALLBACK]:{target:Ey.FALLBACK,actions:[ds.REMOVE_VIEWABILITY_HANDLER]}}},[Ey.HIDDEN]:{on:{[EL.OPEN]:{target:Ey.SHOWING,actions:[ds.ADD_VIEWABILITY_HANDLER,ds.UPDATE_OPEN_COUNT,ds.OPEN_STORE_VIEW]}}},[Ey.FALLBACK]:{on:{[EL.OPEN]:{actions:[ds.SHOW_FALLBACK]}}},[Ey.INITIAL]:{},[Ey.PREPARING]:{},[Ey.DONE]:{}}}),d_=(e,t)=>{var n;t.event===nT.MAXIMIZED&&(null===(n=dd())||void 0===n||n.send({type:EL.CLOSE}))},dv=(e=R(),t=ee())=>({actions:{[ds.OPEN_STORE_VIEW]:()=>{var n,i;nn({name:eP.APP_STORE_OPEN},void 0,void 0,t),du({name:eP.APP_STORE_OPEN},!0,t),null===(i=e.getMraidExt())||void 0===i||null===(n=i.openAppStore)||void 0===n||n.call(i,0)},[ds.CLOSE_STORE_VIEW]:()=>{nn({name:eP.APP_STORE_CLOSE},void 0,void 0,t)},[ds.ADD_VIEWABILITY_HANDLER]:()=>{t.addEventHandler("viewability",d_)},[ds.REMOVE_VIEWABILITY_HANDLER]:()=>{t.removeEventHandler("viewability",d_)},[ds.UPDATE_OPEN_COUNT]:p({openCount:e=>e.openCount?e.openCount+1:1}),[ds.SHOW_FALLBACK]:()=>{var t,n;if(nR())null===(t=nu())||void 0===t||t.open({fallback:Ef.APP_STORE});else{let t=sa();t&&(null===(n=e.getMraid())||void 0===n||n.open(t))}}}});(u9=vX||(vX={})).PREPARE_STORE_VIEW="prepareStoreView",u9.SET_APP_STORE_ID="setAppStoreId";const dT=d({},ds,vX);(Ee=vj||(vj={})).CLOSE="CLOSE",Ee.OPEN="OPEN",Ee.PREPARE_FINISHED="PREPARE_FINISHED",Ee.PREPARE_SUCCESS="PREPARE_SUCCESS",Ee.READY="READY",(Et=vz||(vz={})).HIDDEN="HIDDEN",Et.INITIAL="INITIAL",Et.PREPARING="PREPARING",Et.SHOWING="SHOWING";const dS=()=>({id:da,initial:Ey.INITIAL,context:{delay:0,openCount:0,appStoreId:void 0},states:{[Ey.INITIAL]:{on:{[EL.READY]:{target:Ey.PREPARING,actions:[dT.SET_APP_STORE_ID,dT.PREPARE_STORE_VIEW]}}},[Ey.PREPARING]:{on:{[EL.PREPARE_SUCCESS]:{target:Ey.HIDDEN}}},[Ey.SHOWING]:{on:{[EL.CLOSE]:{target:Ey.INITIAL,actions:[ds.CLOSE_STORE_VIEW,ds.REMOVE_VIEWABILITY_HANDLER]}}},[Ey.HIDDEN]:{on:{[EL.OPEN]:{target:Ey.SHOWING,actions:[ds.ADD_VIEWABILITY_HANDLER,ds.UPDATE_OPEN_COUNT,ds.OPEN_STORE_VIEW]}}},[Ey.FALLBACK]:{},[Ey.DONE]:{}}}),dh=(e=R(),t=ee())=>({actions:C(d({},dv(e,t).actions),{[dT.SET_APP_STORE_ID]:p({appStoreId:(e,t)=>t.appStoreId||e.appStoreId}),[dT.PREPARE_STORE_VIEW]:t=>{var n,i;null===(i=e.getMraidExt())||void 0===i||null===(n=i.prepareStoreView)||void 0===n||n.call(i,t.appStoreId)},[dT.OPEN_STORE_VIEW]:n=>{var i,r;n.appStoreId&&(nn({name:eP.APP_STORE_OPEN},void 0,void 0,t),null===(r=e.getMraidExt())||void 0===r||null===(i=r.presentStoreView)||void 0===i||i.call(r,n.appStoreId))}})});var dp=class extends nO{init(e){var t;null===(t=this.interpreter)||void 0===t||t.send(d({type:EL.READY},e))}close(){var e,t;null===(e=this.interpreter)||void 0===e||e.send({type:EL.CLOSE}),null===(t=this.interpreter)||void 0===t||t.send({type:EL.READY})}constructor(e=dS,t=dh,n=t0()){super(e(),t(),n)}};const dg=()=>{let e=dE(),t=e.states[Ey.SHOWING];return t.on=C(d({},t.on),{[EL.CLOSE]:{target:Ey.DONE,actions:[ds.CLOSE_STORE_VIEW,ds.REMOVE_VIEWABILITY_HANDLER]}}),e},dC=()=>dg();var dO=class extends nO{fallback(){var e;!1!==this.hasFallback&&(null===(e=this.interpreter)||void 0===e||e.send({type:EL.SET_FALLBACK}),this.open())}constructor(e=dE,t=dv,n=t0()){super(e(),t(),n)}},dA=class extends dO{constructor(e=dC,t=dv,n=t0()){super(e,t,n)}};const dI=()=>{let e=dS(),t=e.states[Ey.SHOWING];return t.on=C(d({},t.on),{[EL.CLOSE]:{target:Ey.DONE,actions:[ds.CLOSE_STORE_VIEW,ds.REMOVE_VIEWABILITY_HANDLER]}}),e},df=()=>dI();var dN=class extends dp{constructor(e=df,t=dh,n=t0()){super(e,t,n)}},dm=class extends dO{constructor(e=dg,t=dv,n=t0()){super(e,t,n)}},dD=class extends dp{constructor(e=dI,t=dh,n=t0()){super(e,t,n)}},dR=class{withAppStoreId(e){let t=n0(this.tokenService);return t&&e.init({appStoreId:t}),e}resolve(){let e=new w("17.2"),t=new w("7.0"),n=new w("7.1"),i=new w("7.2.1");if(this.environmentService.getOsVersion().isGreaterThanOrEqualTo(e)){let e=this.environmentService.getSdkVersion();if(ou()&&e.isLessThan(i))return new dA;if(e.isGreaterThanOrEqualTo(t)&&e.isLessThan(n))return this.withAppStoreId(new dN)}return b.isAffectedByStoreKitProductViewMaskIssue(this.environmentService)?ou()?new dm:this.withAppStoreId(new dD):ou()?new dO:this.withAppStoreId(new dp)}constructor(e=j(),t=L()){this.environmentService=e,this.tokenService=t}},dL=class{resolve(){if(this.environmentService.getOperatingSystem()===eR.iOS)return new dR(this.environmentService).resolve()}constructor(e=j(),t=t0(),n=aU(),i=t4()){this.environmentService=e,this.stateMachineService=t,this.viewableService=n,this.intervalService=i}};(En=v$||(v$={})).RESET_VIEWABLE="resetViewable",En.SET_VIEWABLE_TO_FALSE="setViewableToFalse";var dy=e=>({resetViewable:()=>{(e||aU()).resetViewable()},setViewableToFalse:()=>{(e||aU()).setViewable(!1)}});const dP=()=>({id:da,initial:Ey.HIDDEN,context:{delay:0},states:{[Ey.SHOWING]:{on:{[EL.CLOSE]:{target:Ey.HIDDEN,actions:[v$.RESET_VIEWABLE,Ep.START_INTERVALS]}}},[Ey.HIDDEN]:{on:{[EL.OPEN]:{target:Ey.SHOWING,actions:[v$.SET_VIEWABLE_TO_FALSE,Ep.PAUSE_INTERVALS]}}},[Ey.INITIAL]:{},[Ey.PREPARING]:{},[Ey.FALLBACK]:{},[Ey.DONE]:{}}}),dV=(e=aU(),t=t4())=>({actions:d({},dy(e),t6(t))});var dw=class extends nO{constructor(e=dP,t=dV,n=t0(),i=aU(),r=t4()){super(e(),t(i,r),n)}},dM=(e=j(),t=t0(),n=aU(),i=t4())=>{let a=r.getInstance(),o=new dL(e,t,n,i).resolve();return o&&a.bind(dw.getServiceIdentifier(),o),o};class db extends t5{static getInstances(e=a8()){return e?[new db(ea)]:[]}getId(){return this.id}getSceneType(){return this.sceneType}constructor(e){super(),this.id=e,this.sceneType=eM.gdpr}}var dk=class extends nz{getFullScreenClickConfig(){var e;return{enabled:void 0!==this.ecImageTokenValue||super.getFullScreenClickConfig().enabled,ctaUrl:null!==(e=this.ecCtaUrlTokenValue)&&void 0!==e?e:"",id:this.id,target:super.getFullScreenClickConfig().target}}constructor({id:e,ecImageTokenValue:t,ecCtaUrlTokenValue:n,skOverlayAutoTokenValue:i,fullCtaOptionTokenValue:r,fullCtaTokenValue:a,skFullCtaTokenValue:o,placementType:s}){super({skOverlayAutoTokenValue:i,fullCtaOptionTokenValue:r,fullCtaTokenValue:a,skFullCtaTokenValue:o,id:e,placementType:s}),this.ecImageTokenValue=t,this.ecCtaUrlTokenValue=n}};class dU extends iv{static getInstances(e=L(),t=z(),n=j(),i=et()){let r=[],a=[y.EC_IMAGE,y.EC_IMAGE_2],o=e.has(y.EC_HTML);return a.filter((t=>e.has(t))).forEach(((a,s)=>{var l;let d=`image_${s}`,c=o?s+1:s;r.push(new dU({id:d,url:null!==(l=e.get(a))&&void 0!==l?l:"",index:c,fullScreenClickConfig:new dk({id:d,ecImageTokenValue:e.get(y.EC_IMAGE),ecCtaUrlTokenValue:e.get(y.EC_CTA_URL),skOverlayAutoTokenValue:e.get(y.SKOVERLAY_AUTO),fullCtaOptionTokenValue:e.get(y.FULL_CTA_OPTION),fullCtaTokenValue:e.get(y.FULL_CTA),skFullCtaTokenValue:e.get(y.SK_FSC),placementType:t.getPlacementType()}).getFullScreenClickConfig(),storeKitOverlayAutoShowConfig:new n3(c,this.isEndcardOnly(e),n0(e),e.get(y.FULL_CTA_OPTION),e.get(y.SKOVERLAY_AUTO),e.get(y.SKOVERLAY_DELAY_SECONDS),e.get(y.EC_SKOVERLAY_DELAY_SECONDS),e.get(y.SKOVERLAY_AUTO_CLOSE),e.get(y.EC_SKOVERLAY_DISABLE_AUTO_MMP),n,t).getStoreKitOverlayAutoShowConfig(),appStoreOnDelayConfig:new n5(c,n0(e),e.get(y.APP_STORE_ON_ENDCARD_AUTO_DELAY),n).getAppStoreOnDelayConfig(),lastChanceEndcardConfig:new n6(n4(d,e,t)).getLastChanceEndcardConfig(),trackingEventMapConfig:new n7(!1).getTrackingEventMapConfig(),closeButtonConfig:new n8({ecCloseButtonDelaySecondsTokenValue:e.get(y.EC_CLOSE_BUTTON_DELAY_SECONDS),staticEcCloseButtonDelaySecondsTokenValue:e.get(y.STATIC_EC_CLOSE_BUTTON_DELAY_SECONDS),showECCloseButtonCountDownTokenValue:e.get(y.SHOW_EC_CLOSE_BUTTON_COUNTDOWN),endcardCloseButtonAsSkipTokenValue:e.get(y.ENDCARD_CLOSE_BUTTON_AS_SKIP),isSecondEndcard:1===c}).getCloseButtonConfig(),callToActionConfig:new ia({appMetaProviderParams:ii(e,i)}).getCallToActionConfig(),placementTypeService:t,shouldSplitVideoEndcardClick:Q(e.get(y.VIDEO_ENDCARD_CLICK_SPLIT))}))})),r}getSceneType(){return this.sceneType}getFullScreenClickConfig(){return this.fullScreenClickConfig}getCloseButtonConfig(){return C(d({},this.closeButtonConfig),{style:this.isLastPage()?nH.CLOSE:this.closeButtonConfig.style})}getCallToActionConfig(){return this.callToActionConfig}constructor({id:e,url:t,index:n,fullScreenClickConfig:i,storeKitOverlayAutoShowConfig:r,appStoreOnDelayConfig:a,lastChanceEndcardConfig:o,closeButtonConfig:s,trackingEventMapConfig:l,callToActionConfig:d,placementTypeService:c=z(),shouldSplitVideoEndcardClick:E=!1}){super({id:e,endcardContent:t,index:n,isAlternative:!1,compressionType:Ex.NONE,storeKitOverlayAutoShowConfig:r,appStoreOnDelayConfig:a,lastChanceEndcardConfig:o,omsdkEnabled:!1,trackingEventMapConfig:l,callToActionConfig:d,closeButtonConfig:s,placementTypeService:c,eligibleToPreload:!1,shouldSplitVideoEndcardClick:E}),this.sceneType=eM.image,this.id=e,this.url=t,this.index=n,this.fullScreenClickConfig=i,this.storeKitOverlayAutoShowConfig=r,this.appStoreOnDelayConfig=a,this.lastChanceEndcardConfig=o,this.trackingEventMapConfig=l,this.callToActionConfig=d,this.closeButtonConfig=s,this.placementTypeService=c}}var dB=class{static getInstances(e=L(),t=z(),n=et()){let i="ALT_MAIN_STREAM_",r="ALT_MAIN_VIDEO_",a=[];return[...e.getSeriesTokens(i),...e.getSeriesTokens(r)].forEach(((o,s)=>{var l;let d=o.startsWith(i),c=o.split(d?i:r),E=c[c.length-1];a.push(new iN({id:E,url:null!==(l=e.get(o))&&void 0!==l?l:"",index:s,isAlternative:!0,videoType:d?EG.HLS:EG.PROGRESSIVE,fullScreenClickConfig:new nz({skOverlayAutoTokenValue:e.get(y.SKOVERLAY_AUTO),fullCtaOptionTokenValue:e.get(y.FULL_CTA_OPTION),fullCtaTokenValue:e.get(y.FULL_CTA),skFullCtaTokenValue:e.get(y.SK_FSC),placementType:t.getPlacementType()}).getFullScreenClickConfig(),storeKitOverlayAutoShowConfig:{enabled:!1,isAutoClose:!1,autoShowDelay:0,openCallback:()=>{}},appStoreOnDelayConfig:{enabled:!1,autoShowDelay:0},callToActionConfig:new ip(ih(e,t,n)).getCallToActionConfig(),lastChanceEndcardConfig:new n6(n4(E,e,t)).getLastChanceEndcardConfig(),progressBarConfig:new iS({videoProgressBarTokenValue:e.get(y.VIDEO_PROGRESS_BAR),videoProgressBarColorTokenValue:e.get(y.VIDEO_PROGRESS_BAR_COLOR),ctaButtonBackgroundTokenValue:e.get(y.CTA_BUTTON_BACKGROUND),isBanner:t.isBanner()}).getProgressBarConfig(),closeButtonConfig:new iT({closeButtonDelaySecondsTokenValue:e.get(y.CLOSE_BUTTON_DELAY_SECONDS),incentivizedCloseButtonDelaySecondsTokenValue:e.get(y.INCENTIVIZED_CLOSE_BUTTON_DELAY_SECONDS),incentivizedTokenValue:e.get(y.INCENTIVIZED),videoCloseButtonAsSkipTokenValue:e.get(y.VIDEO_CLOSE_BUTTON_AS_SKIP),showVideoCloseButtonCountDownTokenValue:e.get(y.SHOW_VIDEO_CLOSE_BUTTON_COUNTDOWN)}).getCloseButtonConfig(),trackingEventMapConfig:new n7(!1).getTrackingEventMapConfig(),loopVideo:!1,isFullscreen:t.isFullscreen()}))})),a}},dH=class{static getInstances(e=L(),t=z(),n=et()){let i="ALT_EC_",r=[],a=e.getSeriesTokens(i),o=e=>{let t=e.split(i);return t[t.length-1]};return a.forEach(((i,a)=>{var s;let l=o(i);r.push(new iv({id:l,endcardContent:null!==(s=e.get(i))&&void 0!==s?s:"",index:a,isAlternative:!0,compressionType:Ex.BASE64_ENCODED,storeKitOverlayAutoShowConfig:{enabled:!1,isAutoClose:!1,autoShowDelay:0,openCallback:()=>{}},appStoreOnDelayConfig:{enabled:!1,autoShowDelay:0},lastChanceEndcardConfig:new n6(n4(l,e,t)).getLastChanceEndcardConfig(),omsdkEnabled:!1,closeButtonConfig:new n8({ecCloseButtonDelaySecondsTokenValue:e.get(y.EC_CLOSE_BUTTON_DELAY_SECONDS),staticEcCloseButtonDelaySecondsTokenValue:e.get(y.STATIC_EC_CLOSE_BUTTON_DELAY_SECONDS),showECCloseButtonCountDownTokenValue:e.get(y.SHOW_EC_CLOSE_BUTTON_COUNTDOWN),endcardCloseButtonAsSkipTokenValue:e.get(y.ENDCARD_CLOSE_BUTTON_AS_SKIP),isSecondEndcard:!1}).getCloseButtonConfig(),trackingEventMapConfig:{enabled:!1},callToActionConfig:new ia({appMetaProviderParams:ii(e,n)}).getCallToActionConfig(),placementTypeService:t,eligibleToPreload:!1}))})),r}},dW=class{addTransformer(e){return this.transformers.push(e),this}build(){return this.mainScenes=this.buildMainScenes(),this.alternativeScenes=this.buildAlternativeScenes(),this.transformers.forEach((e=>{e.transform(this.mainScenes)})),this.mainScenes}buildMainScenes(){return[...db.getInstances(),...iN.getInstances(),...iv.getInstances(),...dU.getInstances(),...ic.getInstances()]}buildAlternativeScenes(){let e,t=[...dB.getInstances(),...dH.getInstances()],n=this.mainScenes.findIndex((e=>e.getSceneType()===eM.endcard)),i=this.mainScenes[n+1];return i&&(e=i),t.forEach((t=>{let n=t.getTransitions().find((e=>e.name===Eh.NEXT));n?n.scene=e:t.addTransition({name:Eh.NEXT,scene:e,actions:[]}),t.next=e})),t}constructor(){this.transformers=[],this.mainScenes=[],this.alternativeScenes=[],this.tokenService=L()}},dF=class{transform(e){return e.forEach(((t,n)=>{var i,r;if(n===e.length-1)return;let a=t.getTransitions().find((e=>e.name===Eh.NEXT));a?a.scene=null!==(i=e[n+1])&&void 0!==i?i:void 0:t.addTransition({name:Eh.NEXT,scene:null!==(r=e[n+1])&&void 0!==r?r:void 0,actions:[]})})),e}},dx=()=>!!nl()&&Q(L().get(y.APP_STORE_ON_FIRST_TRANSITION)),dG=class{transform(e){return e.length&&this.insertionHelper(e[0],this.index),e}insertionHelper(e,t){var n;if(0===t)return;let i=null===(n=e.getTransitions())||void 0===n?void 0:n.find((e=>e.name===Eh.NEXT&&e.scene)),r=null==i?void 0:i.scene;if(i&&r){if(this.ineligibleSceneTypes.includes(e.getSceneType()))return void this.insertionHelper(r,t);if(1===t)return void(i.actions.some((e=>e.name===EP.SHOW_PRODUCT_VIEW))||(i.actions.push({name:EP.EMIT_TRANSITION_OPEN_OBSERVABILITY_EVENT}),i.actions.push({name:EP.SHOW_PRODUCT_VIEW})));this.insertionHelper(r,t-1)}}constructor(e){this.index=e,this.ineligibleSceneTypes=[eM.gdpr]}},dY=()=>!!nl()&&Q(L().get(y.APP_STORE_ON_SECOND_TRANSITION)),dK=class{transform(e){return this.addCloseAdAction(e,0),e}addCloseAdAction(e,t){var n,i;if(void 0===e[t+1])return;let r=null===(n=e[t].getTransitions())||void 0===n?void 0:n.find((e=>e.name===Eh.NEXT&&e.scene));if(r&&r.actions.find((e=>e.name===EP.SHOW_PRODUCT_VIEW))&&(null==r||null===(i=r.scene)||void 0===i?void 0:i.getSceneType())===eM.closed){r.actions.push({name:EP.END_AD_ON_PRODUCT_VIEW_CLOSE});let e=r.scene.getEntryActions().findIndex((e=>e.name===EW.CLOSE_AD));-1!==e&&r.scene.getEntryActions().splice(e,1)}this.addCloseAdAction(e,t+1)}},dX=class{transform(e){if(0===e.length)return[];if(1===e.length)return e[0].prev=void 0,e[0].next=void 0,e;for(let t=0;t<e.length;t+=1)e[t].prev=0===t?void 0:e[t-1],e[t].next=t===e.length-1?void 0:e[t+1];return e}},dj=class{transform(e){return e.forEach((e=>{this.sceneTypesToAddPostrollView.includes(e.getSceneType())&&e.addEntryAction({name:t3.POSTROLL_VIEW})})),e}constructor(){this.sceneTypesToAddPostrollView=[eM.video,eM.image,eM.endcard]}},dz=class{transform(e){let t=e.filter((e=>e.getSceneType()===eM.endcard&&!e.isAlternative())),n=e.filter((e=>e.isAlternative()));return t.forEach((e=>{n.forEach((t=>{e.addTransition({name:t.getId(),target:t.getId(),scene:t,actions:[]})}))})),n.forEach((e=>{n.forEach((t=>{e.getId()!==t.getId()&&e.addTransition({name:t.getId(),target:t.getId(),scene:t,actions:[]})}))})),e}},d$=class{transform(e){return e.forEach((e=>{this.sceneTypesToInitCheckPoint.includes(e.getSceneType())&&e.addEntryAction({name:id.INIT_CHECKPOINTS})})),e}constructor(){this.sceneTypesToInitCheckPoint=[eM.image,eM.endcard]}},dq=class{transform(e){return e.forEach((e=>{this.SCENE_TYPES_TO_CLOSE_STOREKIT_OVERLAY.includes(e.getSceneType())&&e.addExitAction({name:EW.CLOSE_STOREKIT_OVERLAY})})),e}constructor(){this.SCENE_TYPES_TO_CLOSE_STOREKIT_OVERLAY=[eM.video,eM.endcard]}},dZ=class{transform(e){return e.forEach((e=>{var t;if(!im(e))return;let n=e.getTransitions().find((e=>e.name===Eh.NEXT)),i=null==n?void 0:n.actions.filter((e=>e.name!==EP.SHOW_PRODUCT_VIEW)),r={name:Eh.VIDEO_FAILURE,scene:null==n?void 0:n.scene,actions:null!=i?i:[]};(null===(t=e.next)||void 0===t?void 0:t.getSceneType())===eM.endcard?r.actions.push({name:t3.SEND_EVENT_VIDEO_SKIP_TO_NEXT_SCENE}):r.actions.push({name:EW.SEND_VIDEO_ERROR}),e.addTransition(r)})),e}},dQ=class{transform(e){return e.filter((e=>{var t;return(null===(t=e.next)||void 0===t?void 0:t.getSceneType())===eM.closed})).forEach((e=>{if(nU(e)){var t;e.setLastChanceEndcardConfig(C(d({},e.getLastChanceEndcardConfig()),{enabled:!0}));let n=[{name:EN.CLOSE_OVERLAY_VIEW},{name:_r.RESET_AUTO_SHOW_OVERLAY_SERVICE},{name:_i.SHOW_LAST_CHANCE_ENDCARD},{name:Ew.SET_CLOSE_BUTTON_HIDDEN},{name:t3.CLOSE_VIDEO_CURRENT_SCENE}];e.addTransition({name:Eh.LAST_CHANCE_ENDCARD,actions:n});let i=e.getTransitions().find((e=>e.name===Eh.NEXT));e.addExitAction({name:_i.CLOSE_LAST_CHANCE_ENDCARD}),e.addOrUpdateTransition({name:Eh.NEXT,actions:[{name:Ew.SET_CLOSE_BUTTON_VISIBLE},...null!==(t=null==i?void 0:i.actions)&&void 0!==t?t:[]],scene:null==i?void 0:i.scene});let r=null==i?void 0:i.actions.find((e=>e.name===EP.SHOW_PRODUCT_VIEW));if(r){let t=[r],n=null==i?void 0:i.actions.find((e=>e.name===EP.EMIT_TRANSITION_OPEN_OBSERVABILITY_EVENT));n&&t.push(n),e.addOrUpdateTransition({name:Eh.LAST_CHANCE_ENDCARD,actions:t}),i&&(i.actions=i.actions.filter((e=>e.name!==EP.SHOW_PRODUCT_VIEW&&e.name!==EP.EMIT_TRANSITION_OPEN_OBSERVABILITY_EVENT)))}}})),e}},dJ=(e=L())=>Q(e.get(y.VX_ENDCARD)),d0=class{transform(e){return e.forEach((e=>{var t;if(!im(e)||e.getTransitions().some((e=>e.name===Eh.COMPLETE&&void 0!==e.scene)))return;let n=e.getTransitions().find((e=>e.name===Eh.NEXT));n&&e.addOrUpdateTransition({name:Eh.COMPLETE,scene:null==n?void 0:n.scene,actions:[...null!==(t=null==n?void 0:n.actions)&&void 0!==t?t:[]]})})),e}},d1=()=>{let e=new dW;e.addTransformer(new dF),e.addTransformer(new dX),dx()&&e.addTransformer(new dG(1)),dY()&&e.addTransformer(new dG(2)),e.addTransformer(new dj),e.addTransformer(new dK),e.addTransformer(new d$),e.addTransformer(new dq),e.addTransformer(new dZ),e.addTransformer(new d0);let t=[...e.build(),...e.alternativeScenes];return t=(new dz).transform(t),dJ()&&(t=(new dQ).transform(t)),r.getInstance().bind(er,t),t},d2=e=>{let t={enabled:!1,isAutoClose:!1};if(!e)return t;let{overlay:n}=e,i=(null==n?void 0:n.autoShowDelay)?1e3*n.autoShowDelay:0,r=!!((null==n?void 0:n.autoCloseDelay)&&n.autoCloseDelay>0),a=(null==n?void 0:n.autoCloseDelay)?1e3*n.autoCloseDelay:0;return d(C(d({},t),{autoShowDelay:i,isAutoClose:r}),r&&{autoCloseDelay:a})},d3=e=>{var t,n,i;return{delay:null!==(t=null==e?void 0:e.delay)&&void 0!==t?t:0,countdown:null===(n=null==e?void 0:e.countdown)||void 0===n||n,style:null!==(i=null==e?void 0:e.style)&&void 0!==i?i:nH.CLOSE}};const d5=e=>void 0!==e&&"object"==typeof e&&Object.keys(e).some((e=>"token"===e));var d4=(e,t=L())=>{var n,i,r;let a=d5(null==e?void 0:e.icon)?null!==(i=t.get(e.icon.token))&&void 0!==i?i:"":null!==(r=null==e?void 0:e.icon)&&void 0!==r?r:void 0,o={enabled:!(!(null==e?void 0:e.name)||!a),downloads:null==e?void 0:e.downloads,icon:a,name:null==e?void 0:e.name,price:null==e?void 0:e.price,ratingCount:null==e?void 0:e.rating,screenshots:null==e||null===(n=e.screenshots)||void 0===n?void 0:n.map((e=>{var n;return d5(e)?null!==(n=t.get(e.token))&&void 0!==n?n:"":e}))};return Object.keys(o).forEach((e=>{var t;(void 0===o[e]||""===o[e]||Array.isArray(o[e])&&0===(null!==(t=o[e])&&void 0!==t?t:[]).length)&&delete o[e]})),o},d6=(e,t,n,i=L())=>{var r,a,o,s,l,c,E,u,_,v,T,h,S;let p={id:e,enabled:!1};if(!t||0===Object.keys(t).length)return p;let g=!1,O=null!==(u=null==t?void 0:t.fsc)&&void 0!==u&&u,A=null!==(_=null==t||null===(r=t.cta)||void 0===r?void 0:r.text)&&void 0!==_?_:"Open";Object.keys(null!==(v=null==n?void 0:n.on)&&void 0!==v?v:{}).includes(Eh.LAST_CHANCE_ENDCARD)&&(g=!0);let I=d4(t.appMeta,i),f=C(d({},I),{enabled:!(!I.name||!I.icon)}),N=4e3;return(null==t||null===(a=t.cta)||void 0===a?void 0:a.delay)&&(N=1e3*t.cta.delay),C(d({},p),{enabled:g,fsc:{enabled:O,ctaUrl:null!==(T=null==t||null===(o=t.cta)||void 0===o?void 0:o.url)&&void 0!==T?T:"",target:null==t||null===(s=t.storeKit)||void 0===s?void 0:s.fscTarget},appMeta:f,close:d3(null==t?void 0:t.close),cta:{text:A,url:null!==(h=null==t||null===(l=t.cta)||void 0===l?void 0:l.url)&&void 0!==h?h:"",isPersistent:null!==(S=null==t||null===(c=t.cta)||void 0===c?void 0:c.isPersistent)&&void 0!==S&&S,delay:N,appMeta:f,target:null==t||null===(E=t.storeKit)||void 0===E?void 0:E.ctaTarget}})},d8=(e,t,n=L())=>{var i;return{url:e.url,text:e.text,isPersistent:e.isPersistent,delay:e.delay?1e3*e.delay:0,background:e.background,appMeta:e.appMeta?d4(e.appMeta,n):void 0,target:null!==(i=null==t?void 0:t.ctaTarget)&&void 0!==i?i:eb.SKPV}},d7=e=>{let t=null==e?void 0:e.events;return t?{enabled:!0,events:t}:{enabled:!1}};const d9={video:(e,t,n,i=z(),r=L())=>{var a,o,s,l,d;let c=e.url.endsWith(".m3u8")?EG.HLS:EG.PROGRESSIVE,E={enabled:e.fsc,target:null===(a=e.storeKit)||void 0===a?void 0:a.fscTarget,ctaUrl:e.cta.url},u={manifest:null===(o=e.streamManifest)||void 0===o?void 0:o.manifest,track_0:null===(s=e.streamManifest)||void 0===s?void 0:s.track_0,chunks:null===(d=e.streamManifest)||void 0===d||null===(l=d.chunks)||void 0===l?void 0:l.map((e=>"string"==typeof e?e:"object"==typeof e&&Object.keys(e).includes("token")?r.get(e.token):"")).filter((e=>""!==e))};return new iN({id:e.id,url:e.url,isAlternative:!1,index:t,videoType:c,streamManifest:u,progressBarConfig:(()=>{var t,n,i;let r=null!==(i=null==e||null===(t=e.progressBar)||void 0===t?void 0:t.show)&&void 0!==i&&i;return{show:r,color:r&&(null===(n=e.progressBar)||void 0===n?void 0:n.color)?e.progressBar.color:ed}})(),fullScreenClickConfig:E,storeKitOverlayAutoShowConfig:d2(e.storeKit),appStoreOnDelayConfig:{enabled:!1,autoShowDelay:0},callToActionConfig:d8(e.cta,e.storeKit,r),lastChanceEndcardConfig:d6(e.id,e.lastChanceEndcard,n,r),closeButtonConfig:d3(e.close),originalVideoUrl:e.url,loopVideo:e.looping,muted:e.muted,trackingEventMapConfig:d7(e),isFullscreen:i.isFullscreen()})},endcard:(e,t,n,i=z(),r=L())=>{let a=e.compressed?Ex.GZIP:Ex.BASE64_ENCODED;return new iv({id:e.id,endcardContent:e.html,index:t,isAlternative:!1,compressionType:a,storeKitOverlayAutoShowConfig:d2(e.storeKit),appStoreOnDelayConfig:{enabled:!1,autoShowDelay:0},lastChanceEndcardConfig:d6(e.id,e.lastChanceEndcard,n,r),omsdkEnabled:!1,trackingEventMapConfig:d7(e),callToActionConfig:d8(e.cta,e.storeKit,r),placementTypeService:i,closeButtonConfig:d3(e.close),eligibleToPreload:!1})},image:(e,t,n,i=z(),r=L())=>{var a;return new dU({id:e.id,url:e.url,index:t,fullScreenClickConfig:{enabled:e.fsc,ctaUrl:e.cta.url,target:null===(a=e.storeKit)||void 0===a?void 0:a.fscTarget},storeKitOverlayAutoShowConfig:d2(e.storeKit),appStoreOnDelayConfig:{enabled:!1,autoShowDelay:0},lastChanceEndcardConfig:d6(e.id,e.lastChanceEndcard,n,r),trackingEventMapConfig:d7(e),placementTypeService:i,closeButtonConfig:d3(e.close),callToActionConfig:d8(e.cta,e.storeKit,r)})}};var ce=class{addTransformer(e){return this.transformers.push(e),this}build(){let e=db.getInstances();return this.scenes.unshift(...e),this.transformers.forEach((e=>{this.scenes=e.transform(this.scenes)})),this.scenes}constructor(e=new a7,t=d9,n=z()){this.converters=t,this.placementTypeService=n,this.transformers=[],this.scenes=[],this.scenesMap=new Map;let i=e.getSceneData(),r=e.getAdMachineConfig(),a=new Map;i.forEach((e=>{a.has(e.type)||a.set(e.type,[]),a.get(e.type).push(e)})),a.forEach(((e,t)=>{let n=this.converters[t];n&&e.forEach(((e,t)=>{let i=n(e,t,r.states[e.id],this.placementTypeService);this.scenes.push(i),this.scenesMap.set(e.id,i)}))}));let o=new ic;this.scenesMap.set(o.getId(),o),this.scenes.push(o),this.scenes.forEach((e=>{let t=r.states[e.getId()];(null==t?void 0:t.on)&&Object.keys(t.on).forEach((n=>{let i=t.on[n],r={name:n,actions:i.actions?i.actions.map((e=>({name:e}))):[],scene:i.target?this.scenesMap.get(i.target):void 0};e.addOrUpdateTransition(r)}))}))}},ct=class{transform(e){return e.filter((e=>!!nU(e)&&e.getLastChanceEndcardConfig().enabled)).forEach((e=>{e.addOrUpdateTransition({name:Eh.NEXT,actions:[{name:_i.CLOSE_LAST_CHANCE_ENDCARD},{name:Ew.SET_CLOSE_BUTTON_VISIBLE}]});let t=[{name:EN.CLOSE_OVERLAY_VIEW},{name:_r.RESET_AUTO_SHOW_OVERLAY_SERVICE},{name:Ew.SET_CLOSE_BUTTON_HIDDEN},{name:id.FLUSH_MRAID_EVENTS_PROXY_CALLBACKS}];e.getSceneType()===eM.video&&t.push({name:t3.CLOSE_VIDEO_CURRENT_SCENE}),e.addOrUpdateTransition({name:Eh.LAST_CHANCE_ENDCARD,actions:t})})),e}};const cn=[new class{transform(e,t=new a7){let n=t.getAdMachineConfig(),i=t=>e.find((e=>e.getId()===t));return e.forEach((e=>{var t,r,a;let o=e.getId(),s=i(null===(t=null===(a=n.states[o])||void 0===a||null===(r=a.on)||void 0===r?void 0:r.NEXT)||void 0===t?void 0:t.target);s&&(e.next=s,s.prev=e)})),e}},new dj,new d$,new dq,new ct,new dZ,new d0];var ci=(e=new a7,t=cn)=>{let n=new ce(e);t.forEach((e=>{n.addTransformer(e)}));let i=n.build();return r.getInstance().bind(er,i),i},cr=(e=L(),t=ci,n=d1)=>{e.has(y.AD_EXPERIENCE)?t():n()};(Ei=vq||(vq={}))[Ei.TIME_FOR_CTA_CALLBACK=502]="TIME_FOR_CTA_CALLBACK";var ca=class{checkIfSignalsChanged(){return Object.keys(vq).some((e=>{let t=vq[e];return this.signals[t]!==this.previousSignals[t]}))}sendSignals(){if(this.checkIfSignalsChanged()){var e,t;let n=JSON.stringify(this.signals);null===(t=this.mraidService.getMraidBridgeExt())||void 0===t||null===(e=t.updateSignals)||void 0===e||e.call(t,n),this.previousSignals=d({},this.signals)}}startUpdateSignalsTimer(){this.intervalService.getNewInterval(6e3,(()=>{this.sendSignals()})).start()}sendAppStoreDuration(e){e&&"number"==typeof e.duration&&(this.signals[vq.TIME_FOR_CTA_CALLBACK]=null==e?void 0:e.duration,this.sendSignals())}pushEvent(e,t){switch(e){case eP.SIGNAL_TIMER_START:this.startUpdateSignalsTimer();break;case eP.APP_STORE_DURATION:this.sendAppStoreDuration(t)}}pushError(){}isObserved(){return!0}static getServiceIdentifier(){return"SignalServiceInterface"}constructor(e=R(),t=t4(),n={},i={},r=0,a=0,o=sI()){this.mraidService=e,this.intervalService=t,this.signals=n,this.previousSignals=i,this.availableDiskSpaceBeforeCta=r,this.diskSpaceAfterCta=a,this.rootElement=o}},co=()=>{let e=t9.V5_1_2;if(j().getMraidVersion().isLessThan(e))return;let t=r.getInstance(),n=ca.getServiceIdentifier();t.bind(n,new en),t.get(n).init((()=>new ca),!0)},cs=()=>{if(!nR())return;let e=r.getInstance(),t=nu();if(!t)return;let n=new aJ(t);return e.bind(aJ.getServiceIdentifier(),n),n};(Er=vZ||(vZ={})).BOTTOM="bottom",Er.BOTTOM_RAISED="bottom-raised";const cl=(e=L())=>{let t=e.get(y.SKOVERLAY_POSITION);switch(t){case"bottom":case"bottom-raised":return t;default:return}},cd=(e=L())=>{var t,n;switch(null===(n=e.get(y.SKOVERLAY_DISMISSIBLE))||void 0===n||null===(t=n.trim())||void 0===t?void 0:t.toLowerCase()){case"true":return!0;case"false":return!1;default:return}},cc=()=>({position:"bottom",dismissible:!0});var cu=(e=L())=>{let t=cc(),n=cl(e);void 0!==n&&(t.position=n);let i=cd(e);return void 0!==i&&(t.dismissible=i),t};(Ea=vQ||(vQ={})).EMIT_PREPARE_ERROR="EMIT_PREPARE_ERROR",Ea.PREPARE_OVERLAY="PREPARE_OVERLAY",Ea.SET_APP_STORE_ID="SET_APP_STORE_ID";const cE=d({},ds,vQ);(Eo=vJ||(vJ={})).CLOSE="CLOSE",Eo.FINISH="FINISH",Eo.INTERRUPT="INTERRUPT",Eo.PREPARE_SUCCESS="PREPARE_SUCCESS",Eo.READY="READY",Eo.RESUME="RESUME",Eo.START_DELAY_SHOW="START_DELAY_SHOW",Eo.START_IMMEDIATE_SHOW="START_IMMEDIATE_SHOW",(Es=v0||(v0={})).CLOSED="CLOSED",Es.DELAY_SHOW="DELAY_SHOW",Es.DELAYED_SKO_INTERRUPTED="DELAYED_SKO_INTERRUPTED",Es.IDLE="IDLE",Es.INITIAL="INITIAL",Es.IMMEDIATE_SHOW="IMMEDIATE_SHOW",Es.IMMEDIATE_SHOW_INTERRUPTED="IMMEDIATE_SHOW_INTERRUPTED",Es.PREPARING="PREPARING";var c_="store-kit-overlay";const cv=(e=cc(),t=Ef.APP_STORE)=>({id:c_,initial:EA.IDLE,context:{displayOptions:e,fallback:t},states:{[EA.IDLE]:{on:{[EO.START_DELAY_SHOW]:{target:EA.DELAY_SHOW,actions:[EI.ASSIGN_FALLBACK]},[EO.START_IMMEDIATE_SHOW]:{target:EA.IMMEDIATE_SHOW,actions:[EI.ASSIGN_FALLBACK,EI.SHOW_SKO]},[EO.SET_DISPLAY_OPTIONS]:{actions:EI.ASSIGN_DISPLAY_OPTIONS}}},[EA.DELAY_SHOW]:{on:{[EO.CLOSE]:{target:EA.IDLE},[EO.INTERRUPT]:{target:EA.DELAY_SHOW_INTERRUPTED},[EO.SHOW]:{target:EA.DELAY_SHOW_IMMEDIATE,actions:EI.SHOW_SKO}}},[EA.DELAY_SHOW_IMMEDIATE]:{on:{[EO.SET_VISIBLE]:{target:EA.DELAY_SHOW_VISIBLE,actions:EI.EMIT_OBSERVABILITY_EVENT},[EO.CLOSE]:{target:EA.IDLE}}},[EA.DELAY_SHOW_VISIBLE]:{on:{[EO.CLOSE]:{target:EA.CLOSING,actions:EI.CLOSE_SKO},[EO.FINISH]:{target:EA.IDLE},[EO.INTERRUPT]:{target:EA.DELAY_SHOW_INTERRUPTED,actions:EI.CLOSE_SKO}}},[EA.DELAY_SHOW_INTERRUPTED]:{on:{[EO.RESUME]:{target:EA.DELAY_SHOW_IMMEDIATE,actions:EI.SHOW_SKO},[EO.CLOSE]:{target:EA.IDLE}}},[EA.IMMEDIATE_SHOW]:{on:{[EO.SET_VISIBLE]:{target:EA.IMMEDIATE_SHOW_VISIBLE,actions:EI.EMIT_OBSERVABILITY_EVENT},[EO.INTERRUPT]:{target:EA.CLOSING,actions:EI.CLOSE_SKO},[EO.SET_FALLBACK]:{target:EA.FALLBACK}}},[EA.IMMEDIATE_SHOW_VISIBLE]:{on:{[EO.CLOSE]:{target:EA.CLOSING,actions:EI.CLOSE_SKO},[EO.FINISH]:{target:EA.IDLE},[EO.INTERRUPT]:{target:EA.CLOSING,actions:EI.CLOSE_SKO}}},[EA.FALLBACK]:{on:{[EO.START_IMMEDIATE_SHOW]:{actions:EI.SHOW_FALLBACK}}},[EA.CLOSING]:{on:{[EO.FINISH]:{target:EA.IDLE}}},[EA.ERROR]:{},[EA.INITIAL]:{},[EA.PREPARING]:{}}}),cT=(e=R(),t=nA(),n=nn,i=sa)=>({actions:{[EI.EMIT_OBSERVABILITY_EVENT]:()=>{n({name:eP.STORE_KIT_OVERLAY})},[EI.SHOW_SKO]:t=>{var n,i;null===(i=e.getMraidExt())||void 0===i||null===(n=i.openAppStore)||void 0===n||n.call(i,1,t.displayOptions)},[EI.CLOSE_SKO]:()=>{var t,n;null===(n=e.getMraidExt())||void 0===n||null===(t=n.dismissStoreOverlayView)||void 0===t||t.call(n)},[EI.ASSIGN_FALLBACK]:p(((e,t)=>{var n;return C(d({},e),{fallback:null!==(n=t.fallback)&&void 0!==n?n:e.fallback})})),[EI.ASSIGN_DISPLAY_OPTIONS]:p(((e,t)=>{var n;return C(d({},e),{displayOptions:null!==(n=t.displayOptions)&&void 0!==n?n:e.displayOptions})})),[EI.SHOW_FALLBACK]:n=>{switch(n.fallback){case Ef.SKPV:null==t||t.open();break;case Ef.APP_STORE:(()=>{var t;let n=i();n&&(null===(t=e.getMraid())||void 0===t||t.open(n))})()}}}}),cS=(e=cc(),t=Ef.APP_STORE)=>{let n=cv(e,t);return C(d({},n),{initial:EA.INITIAL,context:{appStoreId:void 0,displayOptions:e,fallback:t},states:C(d({},n.states),{[EA.INITIAL]:{on:{[EO.READY]:{target:EA.PREPARING,actions:[cE.SET_APP_STORE_ID,cE.PREPARE_OVERLAY]}}},[EA.PREPARING]:{on:{[EO.SET_PREPARED]:{target:EA.IDLE},[EO.SET_ERROR]:{target:EA.ERROR,actions:cE.EMIT_PREPARE_ERROR}}},[EA.DELAY_SHOW_VISIBLE]:{on:{[EO.CLOSE]:{target:EA.CLOSING,actions:EI.CLOSE_SKO},[EO.FINISH]:{target:EA.INITIAL},[EO.INTERRUPT]:{target:EA.DELAY_SHOW_INTERRUPTED,actions:EI.CLOSE_SKO}}},[EA.IMMEDIATE_SHOW_VISIBLE]:{on:{[EO.CLOSE]:{target:EA.CLOSING,actions:EI.CLOSE_SKO},[EO.FINISH]:{target:EA.INITIAL},[EO.INTERRUPT]:{target:EA.CLOSING,actions:EI.CLOSE_SKO}}},[EA.CLOSING]:{on:{[EO.FINISH]:{target:EA.INITIAL}}}})})},ch=(e=R(),t=nA(),n=nn,i=sa)=>({actions:C(d({},cT(e,t,n,i).actions),{[cE.PREPARE_OVERLAY]:t=>{var n,i;null===(i=e.getMraidExt())||void 0===i||null===(n=i.prepareStoreOverlayView)||void 0===n||n.call(i,t.appStoreId,t.displayOptions)},[cE.SET_APP_STORE_ID]:p({appStoreId:(e,t)=>t.appStoreId||e.appStoreId}),[cE.EMIT_PREPARE_ERROR]:()=>{n({name:eP.STORE_KIT_OVERLAY_PREPARE_ERROR})},[EI.SHOW_SKO]:t=>{var n,i;null===(i=e.getMraidExt())||void 0===i||null===(n=i.presentStoreOverlayView)||void 0===n||n.call(i,t.appStoreId,t.displayOptions)},[EI.CLOSE_SKO]:t=>{var n,i;null===(i=e.getMraidExt())||void 0===i||null===(n=i.dismissStoreOverlayView)||void 0===n||n.call(i,t.appStoreId)}})});var cp=class extends nc{init(e){this.interpreter.send(d({type:EO.READY},e))}close(){super.close(),this.interpreter.send({type:EO.READY})}finish(){super.finish(),this.interpreter.send({type:EO.READY})}constructor(e=cS,t=ch,n=t0(),i=L(),r=j(),a=R()){super(e(cu(i),nd(r)),t(a),n),this.stateMachineService=n,this.tokenService=i,this.environmentService=r,this.mraidService=a}},cg=class extends nc{constructor(e=cv,t=cT,n=t0(),i=L(),r=j(),a=R()){super(e(cu(i),nd(r)),t(a),n),this.stateMachineService=n,this.tokenService=i,this.environmentService=r,this.mraidService=a}},cC=class{withAppStoreId(e){let t=n0(this.tokenService);return t&&e.init({appStoreId:t}),e}resolve(){if(this.environmentService.getOperatingSystem()===eR.iOS)return ou(this.environmentService)?new cg:this.withAppStoreId(new cp)}constructor(e=j(),t=R(),n=L()){this.environmentService=e,this.mraidService=t,this.tokenService=n}},cO=(e=j(),t=R(),n=L())=>{let i=r.getInstance(),a=new cC(e,t,n).resolve();return a&&i.bind(nc.getServiceIdentifier(),a),a};class cA{static async hasSufficientSpace(){var e;if(!(null===(e=window.navigator.storage)||void 0===e?void 0:e.estimate))return!0;let{quota:t,usage:n}=await window.navigator.storage.estimate();return!t||!n||t-n>5e3}static async shouldInitIndexedDB(){return!!window.indexedDB&&cA.hasSufficientSpace()}static init(e,t,n=et()){return new Promise(((i,r)=>{cA.shouldInitIndexedDB().then((a=>{if(!a)return void r(Error("IndexedDB cannot be initialized."));let o=window.indexedDB.open("viewMaster_indexed_db",1);o.onupgradeneeded=n=>{let i=n.target.result;i.objectStoreNames.contains(e)||i.createObjectStore(e,{keyPath:t}).createIndex("time","time",{unique:!1})},o.onsuccess=e=>{i(e.target.result)},o.onerror=e=>{var t;let i=null===(t=e.target.error)||void 0===t?void 0:t.message;i&&n.emit({type:"error-logging",event:ie.EXCEPTION,data:{error:Error(i)}})}})).catch(r)}))}reportError(e){this.errorLoggingReportingService.emit({type:"error-logging",event:ie.EXCEPTION,data:{error:"string"==typeof e?{message:e}:e}})}async deleteExpiredRecords(){return new Promise(((e,t)=>{let n=this.db.transaction(this.storeName,"readwrite"),i=n.objectStore(this.storeName),r=Date.now()-864e5*this.expiry,a=i.openCursor();a.onsuccess=t=>{let a=t.target.result;a&&n?(a.value.createDate<r&&i.delete(a.value[this.keyPath]),a.continue()):e()},a.onerror=e=>{var n;t(Error(null===(n=e.target.error)||void 0===n?void 0:n.message))}})).catch((e=>{this.reportError(e)}))}addRecord(e){return new Promise(((t,n)=>{let i=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(e);i.onsuccess=()=>{t()},i.onerror=()=>{var e;n(Error(null===(e=i.error)||void 0===e?void 0:e.message))}})).catch((e=>{this.reportError(e)}))}async getAllRecords(){return new Promise(((e,t)=>{let n=this.db.transaction(this.storeName,"readonly").objectStore(this.storeName).getAll();n.onsuccess=()=>{e(n.result)},n.onerror=e=>{var n;t(Error(null===(n=e.target.error)||void 0===n?void 0:n.message))}})).catch((e=>(this.reportError(e),[])))}clearStore(){try{this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).clear()}catch(e){this.reportError(e)}}constructor(e,t,n,i=90,r=et()){this.db=e,this.storeName=t,this.keyPath=n,this.expiry=i,this.errorLoggingReportingService=r}}const cI=async()=>{let{storeName:e,keyPath:t,expiry:n}=np.getIndexedDatabaseConfig();return cA.init(e,t).then((i=>{let a=new np(new cA(i,e,t,n));a.deleteExpiredRecords(),r.getInstance().bind(np.getServiceIdentifier(),a)}))};var cf=(e=is())=>{e.init()};const cN={options:void 0,lastActivity:void 0,volume:void 0,sessionContent:void 0,state:void 0,nativeView:void 0},cm=()=>{if(window.omidBridge){var e,t,n,i,r,a,o,s,l,d,c,E;let{options:u,lastActivity:_,volume:v,sessionContent:T,state:h,nativeView:S}=cN;u&&(null===(e=(t=window.omidBridge).init)||void 0===e||e.call(t,...u)),_&&(null===(n=(i=window.omidBridge).setLastActivity)||void 0===n||n.call(i,..._)),v&&(null===(r=(a=window.omidBridge).setDeviceVolume)||void 0===r||r.call(a,...v)),T&&(null===(o=(s=window.omidBridge).startSession)||void 0===o||o.call(s,...T)),h&&(null===(l=(d=window.omidBridge).setState)||void 0===l||l.call(d,...h)),S&&(null===(c=(E=window.omidBridge).setNativeViewHierarchy)||void 0===c||c.call(E,...S))}};var cD=e=>new Promise(((t,n)=>{let i=document.createElement("script");i.src=e,document.head.appendChild(i),i.onload=t,i.onerror=()=>n(Error(`Failed to load script url ${e}`))}));const cR=new w("6.9.1"),cL=async(e=L(),t=j(),n=cD,i=ee(),r=cm)=>{if(Q(e.get(y.OM_ENABLED))&&!t.getSdkVersion().isLessThan(cR))try{await n("omsdk.js"),await n("omsdk-session.js"),r()}catch(e){i.emit({type:"error-logging",event:ie.EXCEPTION,data:{error:{message:"Load OMSDK files failed"}}})}},cy=e=>{var t,n;null!=(null==e||null===(t=e.data)||void 0===t?void 0:t.currentTime)&&null!=(null==e||null===(n=e.data)||void 0===n?void 0:n.duration)&&aT(e.data.currentTime,e.data.duration,Math.round(e.data.currentTime))};var cP=(e,t)=>{switch(t.event){case rW.PROGRESS:cy(t);break;case rW.MUTE:case rW.UNMUTE:nZ(t.event===rW.MUTE?n$.VIDEO_MUTE:n$.VIDEO_UNMUTE);break;case rW.CLOSE:{var n;nZ(n$.VIDEO_CLOSE);let e=null===(n=t.data)||void 0===n?void 0:n.maximumViewingTime;nn({name:eP.VIDEO_CLOSE,maximumViewingTime:e})}}};const cV=[n$.REWARD_GRANTED];var cw=(e,t)=>{let n=R().getMraidBridgeExt();if(cV.includes(t.event)){let e=j(),i=e.getOperatingSystem();(i===eR.iOS||i===eR.Android&&e.getSdkVersion().isGreaterThanOrEqualTo(new w("6.12.0")))&&(null==n||n.notifyTPAT(t.event))}else null==n||n.notifyTPAT(t.event)},cM=(e,t)=>{let n=t8(),i=t4(),r=rx();if(t.event===nT.MINIMIZED)n.standby(),i.pauseAll();else if(t.event===nT.MAXIMIZED){if(null==r?void 0:r.state.matches(EJ.AUTO_PLAY_FAIL))return;n.wake(),i.startAll(),nn({name:eP.APP_STORE_CLOSE}),du({name:eP.APP_STORE_CLOSE},!1),dx()&&nn({name:eP.APP_STORE_ON_FIRST_TRANSITION_COMPLETE})}};let cb=null;var ck=(e,t,n=R())=>{if(t.event===n_.START){let t=n.getMraidBridgeExt();t&&(cb=window.setInterval((()=>{t.creativeHeartbeat(),e.getLogger("heartbeat").info("Heartbeat")}),4e3))}else t.event===n_.STOP&&cb&&window.clearInterval(cb)};(El=v1||(v1={})).OVERLAY_PREPARED="vungle.events.storeoverlay.success",El.OVERLAY_VISIBLE="vungle.events.storeoverlay.visible",El.OVERLAY_FINISHED="vungle.events.storeoverlay.finished",El.OVERLAY_FAILED="vungle.events.storeoverlay.failed",(Ed=v2||(v2={})).STORE_VIEW_PREPARED="vungle.events.preparestore.success",Ed.STORE_VIEW_CLOSED="vungle.events.preparestore.finished",(Ec=v3||(v3={})).VISIBLE="vungle.events.storekit.visible",Ec.FAILED="vungle.events.storekit.failed",Ec.FINISHED="vungle.events.storekit.finished";var cU=(e=t0(),t=c_)=>dl(e,t);(Eu=v5||(v5={}))[Eu.PRODUCT_VIEW_MODE=0]="PRODUCT_VIEW_MODE",Eu[Eu.OVERLAY_MODE=1]="OVERLAY_MODE";const cB=e=>{var t;if(0===e){let e=nu();(null==e?void 0:e.isOpen())&&(null==e||e.close())}else 1===e&&(null===(t=cU())||void 0===t||t.send({type:EO.SET_VISIBLE}))},cH=e=>{var t,n;0===e?null===(t=nA())||void 0===t||t.close():1===e&&(null===(n=nu())||void 0===n||n.finish())},cW=e=>{var t,n;0===e?null===(t=nA())||void 0===t||t.fallback():1===e&&(null===(n=nu())||void 0===n||n.fallback())};var cF=(e,t)=>{var n;if(!Object.values(v3).includes(t.event))return;let i=null===(n=t.data)||void 0===n?void 0:n.mode;switch(t.event){case v3.VISIBLE:cB(i);break;case v3.FINISHED:cH(i);break;case v3.FAILED:cW(i)}},cx=(e,t,n=j(),i=is())=>{t.data.isFatal&&(n.getSdkVersion().isGreaterThanOrEqualTo(b.sdkSeven)?i.notifyFatalError(t):nC())},cG=(e,t)=>{nl()&&Object.values(v2).includes(t.event)&&{[v2.STORE_VIEW_PREPARED]:()=>{var e;null===(e=dd())||void 0===e||e.send({type:EL.PREPARE_SUCCESS})},[v2.STORE_VIEW_CLOSED]:()=>{var e;null===(e=dd())||void 0===e||e.send({type:EL.CLOSE})}}[t.event]()},cY=(e,t)=>{var n;if(!nR())return;let i=nu();null===(n={[v1.OVERLAY_PREPARED]:()=>{var e;null===(e=cU())||void 0===e||e.send({type:EO.SET_PREPARED})},[v1.OVERLAY_FINISHED]:()=>{var e;null===(e=cU())||void 0===e||e.send({type:EO.FINISH})},[v1.OVERLAY_FAILED]:()=>{let e=cU();(null==e?void 0:e.state.matches(EA.PREPARING))?e.send({type:EO.SET_ERROR}):null==i||i.fallback()},[v1.OVERLAY_VISIBLE]:()=>{var e;null===(e=cU())||void 0===e||e.send({type:EO.SET_VISIBLE})}}[t.event])||void 0===n||n.call(void 0)},cK=(e,t)=>{if(t.event===sf.CLOSE){let{sendAdEvent:n,isVideoState:i,isCloseButtonVisible:r}=t.data;if(!r)return;e.getLogger("custom-mraid").info(sf.CLOSE);let a=sZ();if((null==a?void 0:a.state.value)===_Y.SHOWING)return void a.send({type:_K.HIDE});if(!on().state.context.isPrivacyButtonVisible){if(J()&&i)return void lP(n)({type:Eh.NEXT});n({type:Eh.NEXT})}}};const cX=(e,t)=>e.getActivityEvents().filter((e=>"error-logging"===e.eventType&&e.data.error.message===t.message&&e.data.error.error_source===t.error_source)).length>1;var cj=(e,t)=>{var n;let i=rZ();if(("error-logging"===t.type||"video"===t.type&&t.event===rW.ERROR)&&(null===(n=t.data)||void 0===n?void 0:n.error))cX(e,t.data.error)||i.pushError(t.data.error);else if("cta"===t.type||"fsc"===t.type){let e=q.getValue().scene,n={type:t.type,value:t.event,scene_type:null==e?void 0:e.getSceneType()},r=d({name:eP.CTA},n);i.pushEvent(r)}},cz=(e,t)=>{let n=rZ();t.event===ey.EVENT&&t.data.name?n.pushEvent(d({name:t.data.name},t.data)):t.event===ey.ERROR&&t.data.error&&n.pushError(t.data.error)},c$=()=>{let e=r.getInstance(),t=ca.getServiceIdentifier();if(e.has(t))return e.get(t)},cq=(e,t,n=c$())=>{n&&t.event===ey.SIGNAL_EVENT&&t.data.name&&n.pushEvent(d({name:t.data.name},t.data))},cZ=(e,t,n=r7())=>{t.event===aL.SILENT?n.mute():t.event===aL.UN_SILENT&&n.unmute()},cQ=(e,t,n=R())=>{var i;t.event===a6.DECODING_ERROR&&(null===(i=n.getMraid())||void 0===i||i.close())},cJ=(e,t,n=R())=>{n.getMraid().close()},c0=()=>{let e=nv();e.addEventHandler("*",cj),e.addEventHandler("close",cJ),e.addEventHandler("observability",cz),e.addEventHandler("heartbeat",ck),e.addEventHandler("storekit-mraid",cF),e.addEventHandler("storekit-mraid",cG),e.addEventHandler("storekit-mraid",cY),e.addEventHandler("tpat",cw),e.addEventHandler("video",cP),e.addEventHandler("video",lw),e.addEventHandler("viewability",cM),e.addEventHandler("error-logging",cx),e.addEventHandler("custom-mraid",cK),e.addEventHandler("videoViewed",ah),e.addEventHandler("observability",cq),e.addEventHandler("silent",cZ),e.addEventHandler("free-form",cQ)},c1=(e=R(),t=L())=>{let n=e.getMraidBridgeExt();n&&(t.replacementTokens=n.getReplacementTokens())},c2=()=>ee(),c3=(e=j(),t=z(),n=c2(),i=sI())=>{nR(e,t)&&!ou(e)&&Object.values(v1).forEach((e=>{null==i||i.addEventListener(e,(()=>{n.emit({type:"storekit-mraid",event:e})}))}))},c5=(e=j(),t=c2(),n=sI())=>{nl(e)&&!ou(e)&&Object.values(v2).forEach((e=>{null==n||n.addEventListener(e,(()=>{t.emit({type:"storekit-mraid",event:e})}))}))},c4=(e=j(),t=c2(),n=sI())=>{e.getOperatingSystem()===eR.iOS&&Object.values(v3).forEach((e=>{null==n||n.addEventListener(e,(n=>{t.emit({type:"storekit-mraid",event:e,data:n.detail})}))}))},c6=()=>ee();const c8=new w("7");var c7,c9,ue,ut,un,ui,ur,ua,uo,us,ul,ud,uc,uu,uE,u_,uv,uT,uS,uh,up,ug,uC,uO,uA,uI,uf,uN,um,uD,uR,uL,uy,uP,uV,uw,uM,ub,uk,uU,uB,uH,uW,uF,ux,uG,uY,uK,uX,uj,uz,u$,uq,uZ,uQ,uJ,u0,u1,u2,u3,u5,u4,u6,u8,u7,u9,Ee,Et,En,Ei,Er,Ea,Eo,Es,El,Ed,Ec,Eu,EE,E_,Ev,ET,ES,Eh,Ep,Eg,EC,EO,EA,EI,Ef,EN,Em,ED,ER,EL,Ey,EP,EV,Ew,EM,Eb,Ek,EU,EB,EH,EW,EF,Ex,EG,EY,EK,EX,Ej,Ez,E$,Eq,EZ,EQ,EJ,E0,E1,E2,E3,E5,E4,E6,E8,E7,E9,_e,_t,_n,_i,_r,_a,_o,_s,_l,_d,_c,_u,_E,__,_v,_T,_S,_h,_p,_g,_C,_O,_A,_I,_f,_N,_m,_D,_R,_L,_y,_P,_V,_w,_M,_b,_k,_U,_B,_H,_W,_F,_x,_G,_Y,_K,_X,_j,_z,_$,_q,_Z,_Q,_J,_0,_1,_2,_3,_5,_4,_6,_8,_7,_9,ve,vt,vn,vi,vr,va,vo,vs,vl,vd,vc,vu,vE,v_,vv,vT,vS,vh,vp,vg,vC,vO,vA,vI,vf,vN,vm,vD,vR,vL,vy,vP,vV,vw,vM,vb,vk,vU,vB,vH,vW,vF,vx,vG,vY,vK,vX,vj,vz,v$,vq,vZ,vQ,vJ,v0,v1,v2,v3,v5,v4,v6,v8,v7,v9,Te=(e=R(),t=c6(),n=j())=>{var i;let r=void 0!==(null===(i=e.getMraidBridgeExt())||void 0===i?void 0:i.creativeHeartbeat);n.getSdkVersion().isGreaterThanOrEqualTo(c8)&&r&&t.emit({type:"heartbeat",event:n_.START})},Tt=-1,Tn=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Tt=t.timeStamp,e(t))}),!0)},Ti=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},Tr=function(){var e=Ti();return e&&e.activationStart||0},Ta=function(e,t){var n=Ti(),i="navigate";return Tt>=0?i="back-forward-cache":n&&(document.prerendering||Tr()>0?i="prerender":document.wasDiscarded?i="restore":n.type&&(i=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},To=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch(e){}},Ts=function(e,t,n,i){var r,a;return function(o){var s;t.value>=0&&(o||i)&&((a=t.value-(r||0))||void 0===r)&&(r=t.value,t.delta=a,t.rating=(s=t.value)>n[1]?"poor":s>n[0]?"needs-improvement":"good",e(t))}},Tl=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},Td=function(e){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e()}))},Tc=function(e){var t=!1;return function(){t||(e(),t=!0)}},Tu=-1,TE=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},T_=function(e){"hidden"===document.visibilityState&&Tu>-1&&(Tu="visibilitychange"===e.type?e.timeStamp:0,TT())},Tv=function(){addEventListener("visibilitychange",T_,!0),addEventListener("prerenderingchange",T_,!0)},TT=function(){removeEventListener("visibilitychange",T_,!0),removeEventListener("prerenderingchange",T_,!0)},TS=function(){return Tu<0&&(Tu=TE(),Tv(),Tn((function(){setTimeout((function(){Tu=TE(),Tv()}),0)}))),{get firstHiddenTime(){return Tu}}},Th=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},Tp=[1800,3e3],Tg=function(e,t){t=t||{},Th((function(){var n,i=TS(),r=Ta("FCP"),a=To("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(a.disconnect(),e.startTime<i.firstHiddenTime&&(r.value=Math.max(e.startTime-Tr(),0),r.entries.push(e),n(!0)))}))}));a&&(n=Ts(e,r,Tp,t.reportAllChanges),Tn((function(i){n=Ts(e,r=Ta("FCP"),Tp,t.reportAllChanges),Tl((function(){r.value=performance.now()-i.timeStamp,n(!0)}))})))}))},TC=0,TO=1/0,TA=0,TI=function(e){e.forEach((function(e){e.interactionId&&(TO=Math.min(TO,e.interactionId),TC=(TA=Math.max(TA,e.interactionId))?(TA-TO)/7+1:0)}))},Tf=function(){return v4?TC:performance.interactionCount||0},TN=function(){"interactionCount"in performance||v4||(v4=To("event",TI,{type:"event",buffered:!0,durationThreshold:0}))},Tm=[],TD=new Map,TR=0,TL=function(){var e=Math.min(Tm.length-1,Math.floor((Tf()-TR)/50));return Tm[e]},Ty=[],TP=function(e){if(Ty.forEach((function(t){return t(e)})),e.interactionId||"first-input"===e.entryType){var t=Tm[Tm.length-1],n=TD.get(e.interactionId);if(n||Tm.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var i={id:e.interactionId,latency:e.duration,entries:[e]};TD.set(i.id,i),Tm.push(i)}Tm.sort((function(e,t){return t.latency-e.latency})),Tm.length>10&&Tm.splice(10).forEach((function(e){return TD.delete(e.id)}))}}},TV=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=Tc(e),"hidden"===document.visibilityState?e():(n=t(e),Td(e)),n},Tw=[200,500],TM=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},Th((function(){TN();var n,i,r=Ta("INP"),a=function(e){TV((function(){e.forEach(TP);var t=TL();t&&t.latency!==r.value&&(r.value=t.latency,r.entries=t.entries,i())}))},o=To("event",a,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});i=Ts(e,r,Tw,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),Td((function(){a(o.takeRecords()),i(!0)})),Tn((function(){TR=Tf(),Tm.length=0,TD.clear(),i=Ts(e,r=Ta("INP"),Tw,t.reportAllChanges)})))})))},Tb=[2500,4e3],Tk={},TU=function(e,t){t=t||{},Th((function(){var n,i=TS(),r=Ta("LCP"),a=function(e){t.reportAllChanges||(e=e.slice(-1)),e.forEach((function(e){e.startTime<i.firstHiddenTime&&(r.value=Math.max(e.startTime-Tr(),0),r.entries=[e],n())}))},o=To("largest-contentful-paint",a);if(o){n=Ts(e,r,Tb,t.reportAllChanges);var s=Tc((function(){Tk[r.id]||(a(o.takeRecords()),o.disconnect(),Tk[r.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return TV(s)}),{once:!0,capture:!0})})),Td(s),Tn((function(i){n=Ts(e,r=Ta("LCP"),Tb,t.reportAllChanges),Tl((function(){r.value=performance.now()-i.timeStamp,Tk[r.id]=!0,n(!0)}))}))}}))},TB=[800,1800],TH=function e(t){document.prerendering?Th((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},TW=function(e,t){t=t||{};var n=Ta("TTFB"),i=Ts(e,n,TB,t.reportAllChanges);TH((function(){var r=Ti();r&&(n.value=Math.max(r.responseStart-Tr(),0),n.entries=[r],i(!0),Tn((function(){(i=Ts(e,n=Ta("TTFB",0),TB,t.reportAllChanges))(!0)})))}))},TF={passive:!0,capture:!0},Tx=new Date,TG=function(e,t){v6||(v6=t,v8=e,v7=new Date,TX(removeEventListener),TY())},TY=function(){if(v8>=0&&v8<v7-Tx){var e={entryType:"first-input",name:v6.type,target:v6.target,cancelable:v6.cancelable,startTime:v6.timeStamp,processingStart:v6.timeStamp+v8};v9.forEach((function(t){t(e)})),v9=[]}},TK=function(e){if(e.cancelable){var t,n,i,r=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?(t=function(){TG(r,e),i()},n=function(){i()},i=function(){removeEventListener("pointerup",t,TF),removeEventListener("pointercancel",n,TF)},addEventListener("pointerup",t,TF),addEventListener("pointercancel",n,TF)):TG(r,e)}},TX=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,TK,TF)}))};const Tj=e=>t=>{e({name:{FCP:eP.WEB_VITALS_FIRST_CONTENTFUL_PAINT,INP:eP.WEB_VITALS_INTERACTION_TO_NEXT_PAINT,LCP:eP.WEB_VITALS_LARGEST_CONTENTFUL_PAINT,TTFB:eP.WEB_VITALS_TIME_TO_FIRST_BYTE}[t.name],value:t.value,rating:t.rating,delta:t.delta})};var Tz=(e=nn,t=Tg,n=TM,i=TU,r=TW)=>{let a=Tj(e);t(a),n(a),i(a),r(a)};const T$=async()=>{c1(),c0(),dr(),nn({name:eP.AD_LOAD}),cf(),l9(),dM(),cO(),cs(),l8(),c5(),c3(),c4(),cr(),dt(),await cL(),Te(),co(),du({name:eP.SIGNAL_TIMER_START}),cI(),Tz(),l7(),nn({name:eP.AD_LOAD_COMPLETE})};(()=>{let e=r.getInstance(),t=new o,n=new I;e.bind(o.getServiceIdentifier(),t),e.bind(l.getServiceIdentifier(),new l),e.bind(g.getServiceIdentifier(),new g),e.bind(I.getServiceIdentifier(),n),e.bind(D.getServiceIdentifier(),new D),e.bind(N.getServiceIdentifier(),new N),e.bind(V.getServiceIdentifier(),new V(t,n)),e.bind(b.getServiceIdentifier(),new b(t,n)),e.bind(en.getServiceIdentifier(),new en),e.bind(ez.getServiceIdentifier(),new ez),e.bind(e$.getServiceIdentifier(),new e$),e.bind(tJ.getServiceIdentifier(),new tJ),e.bind(iR.getServiceIdentifier(),new iR),e.bind(io.getServiceIdentifier(),new io(n))})(),R().init(),window.omidBridge={init:(...e)=>{cN.options=e},setLastActivity:(...e)=>{cN.lastActivity=e},setDeviceVolume:(...e)=>{cN.volume=e},startSession:(...e)=>{cN.sessionContent=e},setState:(...e)=>{cN.state=e},setNativeViewHierarchy:(...e)=>{cN.nativeView=e}},((e=R())=>new Promise((t=>{let n=e.getMraid();(null==n?void 0:n.getState())===ef.LOADING?null==n||n.addEventListener("ready",(()=>{iL(),t(!0)})):(iL(),t(!0))})))().then(T$).then((()=>new Promise((e=>{var t;let n=R();if(null===(t=n.getMraid())||void 0===t?void 0:t.isViewable())e(!0);else{let t=window.setInterval((()=>{var i;(null===(i=n.getMraid())||void 0===i?void 0:i.isViewable())&&(window.clearInterval(t),e(!0))}),100)}})))).then((()=>{var e,t,n,i,r;l6(),l5(),e=iP(l3,{}),t=document.getElementById("dynamic"),eB.__&&eB.__(e,t),n=t.__k,i=[],r=[],tn(t,e=t.__k=function(e,t,n){var i,r,a,o={};for(a in t)"key"==a?i=t[a]:"ref"==a?r=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?eU.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===o[a]&&(o[a]=e.defaultProps[a]);return e2(e,o,i,r,null)}(e3,null,[e]),n||eq,eq,t.namespaceURI,n?null:t.firstChild?eU.call(t.childNodes):null,i,n?n.__e:t.firstChild,!1,r),ti(i,e,r)}));</script> </body></html>